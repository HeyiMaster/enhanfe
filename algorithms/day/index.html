<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no"
    />
    <link
      rel="shortcut icon"
      type="image/x-icon"
      href="https://walker-markdown.oss-cn-shenzhen.aliyuncs.com/uPic/enhanfe.png"
    />
    <link rel="stylesheet" href="/enhanfe/umi.css" />
    <script>
      window.routerBase = "/enhanfe/";
    </script>
    <script>
      //! umi version: 3.5.15
    </script>
    <script>
      !(function () {
        var e = localStorage.getItem("dumi:prefers-color"),
          t = window.matchMedia("(prefers-color-scheme: dark)").matches,
          r = ["light", "dark", "auto"];
        document.documentElement.setAttribute(
          "data-prefers-color",
          e === r[2] ? (t ? r[1] : r[0]) : r.includes(e) ? e : r[0]
        );
      })();
    </script>
    <title>每日 LeetCode</title>
  </head>
  <body>
    <div id="root"><div class="__dumi-default-layout" data-route="/algorithms/day" data-show-sidemenu="true" data-show-slugs="true" data-site-mode="true" data-gapless="false"><div class="__dumi-default-navbar" data-mode="site"><button class="__dumi-default-navbar-toggle"></button><a class="__dumi-default-navbar-logo" style="background-image:url(&#x27;https://walker-markdown.oss-cn-shenzhen.aliyuncs.com/uPic/enhanfe.png&#x27;)" href="/enhanfe//">Enhanfe</a><nav><div class="__dumi-default-search"><input type="search" class="__dumi-default-search-input" value=""/><ul></ul></div><span><a href="/enhanfe//basic">💊 基础</a></span><span><a href="/enhanfe//advanced">🔥 进阶</a></span><span><a aria-current="page" class="active" href="/enhanfe//algorithms">🏦 数据结构与算法</a></span><span><a target="_blank" rel="noopener noreferrer" href="https://github.com/HeyiMaster/enhanfe">⭐️  GitHub<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="__dumi-default-external-link-icon"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></span><div class="__dumi-default-navbar-tool"><div class="__dumi-default-dark"><div class="__dumi-default-dark-switch "></div></div></div></nav></div><div class="__dumi-default-menu" data-mode="site"><div class="__dumi-default-menu-inner"><div class="__dumi-default-menu-header"><a class="__dumi-default-menu-logo" style="background-image:url(&#x27;https://walker-markdown.oss-cn-shenzhen.aliyuncs.com/uPic/enhanfe.png&#x27;)" href="/enhanfe//"></a><h1>Enhanfe</h1><p></p></div><div class="__dumi-default-menu-mobile-area"><ul class="__dumi-default-menu-nav-list"><li><a href="/enhanfe//basic">💊 基础</a></li><li><a href="/enhanfe//advanced">🔥 进阶</a></li><li><a aria-current="page" class="active" href="/enhanfe//algorithms">🏦 数据结构与算法</a></li><li><a target="_blank" rel="noopener noreferrer" href="https://github.com/HeyiMaster/enhanfe">⭐️  GitHub<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="__dumi-default-external-link-icon"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul><div class="__dumi-default-dark"><div class="__dumi-default-dark-switch "><button title="Dark theme" class="__dumi-default-dark-moon "><svg viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="3854" width="22" height="22"><path d="M991.816611 674.909091a69.166545 69.166545 0 0 0-51.665455-23.272727 70.795636 70.795636 0 0 0-27.438545 5.585454A415.674182 415.674182 0 0 1 754.993338 698.181818c-209.594182 0-393.472-184.785455-393.472-395.636363 0-52.363636 38.539636-119.621818 69.515637-173.614546 4.887273-8.610909 9.634909-16.756364 14.103272-24.901818A69.818182 69.818182 0 0 0 384.631156 0a70.842182 70.842182 0 0 0-27.438545 5.585455C161.678429 90.298182 14.362065 307.898182 14.362065 512c0 282.298182 238.824727 512 532.38691 512a522.286545 522.286545 0 0 0 453.957818-268.334545A69.818182 69.818182 0 0 0 991.816611 674.909091zM546.679156 954.181818c-248.785455 0-462.941091-192-462.941091-442.181818 0-186.647273 140.637091-372.829091 300.939637-442.181818-36.817455 65.629091-92.578909 151.970909-92.578909 232.727273 0 250.181818 214.109091 465.454545 462.917818 465.454545a488.331636 488.331636 0 0 0 185.181091-46.545455 453.003636 453.003636 0 0 1-393.565091 232.727273z m103.656728-669.323636l-14.266182 83.781818a34.909091 34.909091 0 0 0 50.362182 36.770909l74.775272-39.563636 74.752 39.563636a36.142545 36.142545 0 0 0 16.174546 3.956364 34.909091 34.909091 0 0 0 34.210909-40.727273l-14.289455-83.781818 60.509091-59.345455a35.025455 35.025455 0 0 0-19.223272-59.578182l-83.61891-12.101818-37.376-76.101818a34.56 34.56 0 0 0-62.254545 0l-37.376 76.101818-83.618909 12.101818a34.909091 34.909091 0 0 0-19.246546 59.578182z m70.423272-64.698182a34.280727 34.280727 0 0 0 26.135273-19.083636l14.312727-29.090909 14.336 29.090909a34.257455 34.257455 0 0 0 26.135273 19.083636l32.046546 4.887273-23.272728 22.574545a35.234909 35.234909 0 0 0-10.007272 30.952727l5.46909 32.116364-28.625454-15.127273a34.490182 34.490182 0 0 0-32.302546 0l-28.695272 15.127273 5.469091-32.116364a35.141818 35.141818 0 0 0-9.984-30.952727l-23.272728-22.574545z" p-id="3855"></path></svg></button><button title="Light theme" class="__dumi-default-dark-sun "><svg viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="4026" width="22" height="22"><path d="M915.2 476.16h-43.968c-24.704 0-44.736 16-44.736 35.84s20.032 35.904 44.736 35.904H915.2c24.768 0 44.8-16.064 44.8-35.904s-20.032-35.84-44.8-35.84zM512 265.6c-136.704 0-246.464 109.824-246.464 246.4 0 136.704 109.76 246.464 246.464 246.464S758.4 648.704 758.4 512c0-136.576-109.696-246.4-246.4-246.4z m0 425.6c-99.008 0-179.2-80.128-179.2-179.2 0-98.944 80.192-179.2 179.2-179.2S691.2 413.056 691.2 512c0 99.072-80.192 179.2-179.2 179.2zM197.44 512c0-19.84-19.136-35.84-43.904-35.84H108.8c-24.768 0-44.8 16-44.8 35.84s20.032 35.904 44.8 35.904h44.736c24.768 0 43.904-16.064 43.904-35.904zM512 198.464c19.776 0 35.84-20.032 35.84-44.8v-44.8C547.84 84.032 531.84 64 512 64s-35.904 20.032-35.904 44.8v44.8c0 24.768 16.128 44.864 35.904 44.864z m0 627.136c-19.776 0-35.904 20.032-35.904 44.8v44.736C476.096 940.032 492.16 960 512 960s35.84-20.032 35.84-44.8v-44.736c0-24.768-16.064-44.864-35.84-44.864z m329.92-592.832c17.472-17.536 20.288-43.072 6.4-57.024-14.016-14.016-39.488-11.2-57.024 6.336-4.736 4.864-26.496 26.496-31.36 31.36-17.472 17.472-20.288 43.008-6.336 57.024 13.952 14.016 39.488 11.2 57.024-6.336 4.8-4.864 26.496-26.56 31.296-31.36zM213.376 759.936c-4.864 4.8-26.56 26.624-31.36 31.36-17.472 17.472-20.288 42.944-6.4 56.96 14.016 13.952 39.552 11.2 57.024-6.336 4.8-4.736 26.56-26.496 31.36-31.36 17.472-17.472 20.288-43.008 6.336-56.96-14.016-13.952-39.552-11.072-56.96 6.336z m19.328-577.92c-17.536-17.536-43.008-20.352-57.024-6.336-14.08 14.016-11.136 39.488 6.336 57.024 4.864 4.864 26.496 26.56 31.36 31.424 17.536 17.408 43.008 20.288 56.96 6.336 14.016-14.016 11.264-39.488-6.336-57.024-4.736-4.864-26.496-26.56-31.296-31.424z m527.168 628.608c4.864 4.864 26.624 26.624 31.36 31.424 17.536 17.408 43.072 20.224 57.088 6.336 13.952-14.016 11.072-39.552-6.4-57.024-4.864-4.8-26.56-26.496-31.36-31.36-17.472-17.408-43.072-20.288-57.024-6.336-13.952 14.016-11.008 39.488 6.336 56.96z" p-id="4027"></path></svg></button><button title="Default to system" class="__dumi-default-dark-auto "><svg viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="11002" width="22" height="22"><path d="M127.658667 492.885333c0-51.882667 10.24-101.717333 30.378666-149.162666s47.786667-88.064 81.92-122.538667 75.093333-61.781333 122.538667-81.92 96.938667-30.378667 149.162667-30.378667 101.717333 10.24 149.162666 30.378667 88.405333 47.786667 122.88 81.92 61.781333 75.093333 81.92 122.538667 30.378667 96.938667 30.378667 149.162666-10.24 101.717333-30.378667 149.162667-47.786667 88.405333-81.92 122.88-75.093333 61.781333-122.88 81.92-97.28 30.378667-149.162666 30.378667-101.717333-10.24-149.162667-30.378667-88.064-47.786667-122.538667-81.92-61.781333-75.093333-81.92-122.88-30.378667-96.938667-30.378666-149.162667z m329.045333 0c0 130.048 13.994667 244.394667 41.984 343.381334h12.970667c46.762667 0 91.136-9.216 133.461333-27.306667s78.848-42.666667 109.568-73.386667 54.954667-67.242667 73.386667-109.568 27.306667-86.698667 27.306666-133.461333c0-46.421333-9.216-90.794667-27.306666-133.12s-42.666667-78.848-73.386667-109.568-67.242667-54.954667-109.568-73.386667-86.698667-27.306667-133.461333-27.306666h-11.605334c-28.672 123.562667-43.349333 237.909333-43.349333 343.722666z" p-id="11003"></path></svg></button></div></div></div><ul class="__dumi-default-menu-list"><li><a href="/enhanfe//algorithms/basic">基础</a></li><li><a href="/enhanfe//algorithms/sort">排序</a></li><li><a href="/enhanfe//algorithms/search">搜索</a></li><li><a href="/enhanfe//algorithms/thought">算法思想</a></li><li><a href="/enhanfe//algorithms/pattern">设计模式</a></li><li><a aria-current="page" class="active" href="/enhanfe//algorithms/day">每日 LeetCode</a></li></ul></div></div><ul role="slug-list" class="__dumi-default-layout-toc"><li title="水壶问题" data-depth="2"><a href="/enhanfe//algorithms/day#水壶问题"><span>水壶问题</span></a></li><li title="描述" data-depth="3"><a href="/enhanfe//algorithms/day#描述"><span>描述</span></a></li><li title="分析" data-depth="3"><a href="/enhanfe//algorithms/day#分析"><span>分析</span></a></li><li title="源码" data-depth="3"><a href="/enhanfe//algorithms/day#源码"><span>源码</span></a></li><li title="链表的中间结点" data-depth="2"><a href="/enhanfe//algorithms/day#链表的中间结点"><span>链表的中间结点</span></a></li><li title="描述" data-depth="3"><a href="/enhanfe//algorithms/day#描述-1"><span>描述</span></a></li><li title="分析" data-depth="3"><a href="/enhanfe//algorithms/day#分析-1"><span>分析</span></a></li><li title="车的可用捕获量" data-depth="2"><a href="/enhanfe//algorithms/day#车的可用捕获量"><span>车的可用捕获量</span></a></li><li title="描述" data-depth="3"><a href="/enhanfe//algorithms/day#描述-2"><span>描述</span></a></li><li title="分析" data-depth="3"><a href="/enhanfe//algorithms/day#分析-2"><span>分析</span></a></li><li title="代码" data-depth="3"><a href="/enhanfe//algorithms/day#代码"><span>代码</span></a></li><li title="卡牌分组" data-depth="2"><a href="/enhanfe//algorithms/day#卡牌分组"><span>卡牌分组</span></a></li><li title="描述" data-depth="3"><a href="/enhanfe//algorithms/day#描述-3"><span>描述</span></a></li><li title="分析" data-depth="3"><a href="/enhanfe//algorithms/day#分析-3"><span>分析</span></a></li><li title="代码" data-depth="3"><a href="/enhanfe//algorithms/day#代码-1"><span>代码</span></a></li><li title="单词的压缩编码" data-depth="2"><a href="/enhanfe//algorithms/day#单词的压缩编码"><span>单词的压缩编码</span></a></li><li title="描述" data-depth="3"><a href="/enhanfe//algorithms/day#描述-4"><span>描述</span></a></li><li title="分析" data-depth="3"><a href="/enhanfe//algorithms/day#分析-4"><span>分析</span></a></li><li title="代码" data-depth="3"><a href="/enhanfe//algorithms/day#代码-2"><span>代码</span></a></li><li title="地图分析" data-depth="2"><a href="/enhanfe//algorithms/day#地图分析"><span>地图分析</span></a></li><li title="描述" data-depth="3"><a href="/enhanfe//algorithms/day#描述-5"><span>描述</span></a></li><li title="分析" data-depth="3"><a href="/enhanfe//algorithms/day#分析-5"><span>分析</span></a></li><li title="代码" data-depth="3"><a href="/enhanfe//algorithms/day#代码-3"><span>代码</span></a></li><li title="圆圈中最后剩下的数字" data-depth="2"><a href="/enhanfe//algorithms/day#圆圈中最后剩下的数字"><span>圆圈中最后剩下的数字</span></a></li><li title="描述" data-depth="3"><a href="/enhanfe//algorithms/day#描述-6"><span>描述</span></a></li><li title="分析" data-depth="3"><a href="/enhanfe//algorithms/day#分析-6"><span>分析</span></a></li><li title="代码" data-depth="3"><a href="/enhanfe//algorithms/day#代码-4"><span>代码</span></a></li><li title="有效括号的嵌套深度" data-depth="2"><a href="/enhanfe//algorithms/day#有效括号的嵌套深度"><span>有效括号的嵌套深度</span></a></li><li title="描述" data-depth="3"><a href="/enhanfe//algorithms/day#描述-7"><span>描述</span></a></li><li title="分析" data-depth="3"><a href="/enhanfe//algorithms/day#分析-7"><span>分析</span></a></li><li title="代码" data-depth="3"><a href="/enhanfe//algorithms/day#代码-5"><span>代码</span></a></li><li title="生命游戏" data-depth="2"><a href="/enhanfe//algorithms/day#生命游戏"><span>生命游戏</span></a></li><li title="描述" data-depth="3"><a href="/enhanfe//algorithms/day#描述-8"><span>描述</span></a></li><li title="分析" data-depth="3"><a href="/enhanfe//algorithms/day#分析-8"><span>分析</span></a></li><li title="代码" data-depth="3"><a href="/enhanfe//algorithms/day#代码-6"><span>代码</span></a></li><li title="字符串转换整数 (atoi)" data-depth="2"><a href="/enhanfe//algorithms/day#字符串转换整数-atoi"><span>字符串转换整数 (atoi)</span></a></li><li title="描述" data-depth="3"><a href="/enhanfe//algorithms/day#描述-9"><span>描述</span></a></li><li title="分析" data-depth="3"><a href="/enhanfe//algorithms/day#分析-9"><span>分析</span></a></li><li title="代码" data-depth="3"><a href="/enhanfe//algorithms/day#代码-7"><span>代码</span></a></li><li title="LFU 缓存" data-depth="2"><a href="/enhanfe//algorithms/day#lfu-缓存"><span>LFU 缓存</span></a></li><li title="描述" data-depth="3"><a href="/enhanfe//algorithms/day#描述-10"><span>描述</span></a></li><li title="分析" data-depth="3"><a href="/enhanfe//algorithms/day#分析-10"><span>分析</span></a></li><li title="代码" data-depth="3"><a href="/enhanfe//algorithms/day#代码-8"><span>代码</span></a></li><li title="旋转矩阵" data-depth="2"><a href="/enhanfe//algorithms/day#旋转矩阵"><span>旋转矩阵</span></a></li><li title="描述" data-depth="3"><a href="/enhanfe//algorithms/day#描述-11"><span>描述</span></a></li><li title="分析" data-depth="3"><a href="/enhanfe//algorithms/day#分析-11"><span>分析</span></a></li><li title="代码" data-depth="3"><a href="/enhanfe//algorithms/day#代码-9"><span>代码</span></a></li><li title="机器人的运动范围" data-depth="2"><a href="/enhanfe//algorithms/day#机器人的运动范围"><span>机器人的运动范围</span></a></li><li title="描述" data-depth="3"><a href="/enhanfe//algorithms/day#描述-12"><span>描述</span></a></li><li title="分析" data-depth="3"><a href="/enhanfe//algorithms/day#分析-12"><span>分析</span></a></li><li title="代码" data-depth="3"><a href="/enhanfe//algorithms/day#代码-10"><span>代码</span></a></li><li title="括号生成" data-depth="2"><a href="/enhanfe//algorithms/day#括号生成"><span>括号生成</span></a></li><li title="描述" data-depth="3"><a href="/enhanfe//algorithms/day#描述-13"><span>描述</span></a></li><li title="分析" data-depth="3"><a href="/enhanfe//algorithms/day#分析-13"><span>分析</span></a></li><li title="代码" data-depth="3"><a href="/enhanfe//algorithms/day#代码-11"><span>代码</span></a></li><li title="翻转字符串里的单词" data-depth="2"><a href="/enhanfe//algorithms/day#翻转字符串里的单词"><span>翻转字符串里的单词</span></a></li><li title="描述" data-depth="3"><a href="/enhanfe//algorithms/day#描述-14"><span>描述</span></a></li><li title="代码" data-depth="3"><a href="/enhanfe//algorithms/day#代码-12"><span>代码</span></a></li><li title="鸡蛋掉落" data-depth="2"><a href="/enhanfe//algorithms/day#鸡蛋掉落"><span>鸡蛋掉落</span></a></li><li title="描述" data-depth="3"><a href="/enhanfe//algorithms/day#描述-15"><span>描述</span></a></li><li title="代码" data-depth="3"><a href="/enhanfe//algorithms/day#代码-13"><span>代码</span></a></li><li title="设计推特" data-depth="2"><a href="/enhanfe//algorithms/day#设计推特"><span>设计推特</span></a></li><li title="描述" data-depth="3"><a href="/enhanfe//algorithms/day#描述-16"><span>描述</span></a></li><li title="代码" data-depth="3"><a href="/enhanfe//algorithms/day#代码-14"><span>代码</span></a></li><li title="两数相加 II" data-depth="2"><a href="/enhanfe//algorithms/day#两数相加-ii"><span>两数相加 II</span></a></li><li title="描述" data-depth="3"><a href="/enhanfe//algorithms/day#描述-17"><span>描述</span></a></li><li title="分析" data-depth="3"><a href="/enhanfe//algorithms/day#分析-14"><span>分析</span></a></li><li title="代码" data-depth="3"><a href="/enhanfe//algorithms/day#代码-15"><span>代码</span></a></li><li title="01 矩阵" data-depth="2"><a href="/enhanfe//algorithms/day#01-矩阵"><span>01 矩阵</span></a></li><li title="描述" data-depth="3"><a href="/enhanfe//algorithms/day#描述-18"><span>描述</span></a></li><li title="分析" data-depth="3"><a href="/enhanfe//algorithms/day#分析-15"><span>分析</span></a></li><li title="代码" data-depth="3"><a href="/enhanfe//algorithms/day#代码-16"><span>代码</span></a></li><li title="合并区间" data-depth="2"><a href="/enhanfe//algorithms/day#合并区间"><span>合并区间</span></a></li><li title="描述" data-depth="3"><a href="/enhanfe//algorithms/day#描述-19"><span>描述</span></a></li><li title="分析" data-depth="3"><a href="/enhanfe//algorithms/day#分析-16"><span>分析</span></a></li><li title="代码" data-depth="3"><a href="/enhanfe//algorithms/day#代码-17"><span>代码</span></a></li><li title="跳跃游戏" data-depth="2"><a href="/enhanfe//algorithms/day#跳跃游戏"><span>跳跃游戏</span></a></li><li title="描述" data-depth="3"><a href="/enhanfe//algorithms/day#描述-20"><span>描述</span></a></li><li title="分析" data-depth="3"><a href="/enhanfe//algorithms/day#分析-17"><span>分析</span></a></li><li title="代码" data-depth="3"><a href="/enhanfe//algorithms/day#代码-18"><span>代码</span></a></li><li title="盛最多水的容器" data-depth="2"><a href="/enhanfe//algorithms/day#盛最多水的容器"><span>盛最多水的容器</span></a></li><li title="描述" data-depth="3"><a href="/enhanfe//algorithms/day#描述-21"><span>描述</span></a></li><li title="分析" data-depth="3"><a href="/enhanfe//algorithms/day#分析-18"><span>分析</span></a></li><li title="代码" data-depth="3"><a href="/enhanfe//algorithms/day#代码-19"><span>代码</span></a></li><li title="岛屿数量" data-depth="2"><a href="/enhanfe//algorithms/day#岛屿数量"><span>岛屿数量</span></a></li><li title="描述" data-depth="3"><a href="/enhanfe//algorithms/day#描述-22"><span>描述</span></a></li><li title="分析" data-depth="3"><a href="/enhanfe//algorithms/day#分析-19"><span>分析</span></a></li><li title="代码" data-depth="3"><a href="/enhanfe//algorithms/day#代码-20"><span>代码</span></a></li><li title="统计「优美子数组」" data-depth="2"><a href="/enhanfe//algorithms/day#统计「优美子数组」"><span>统计「优美子数组」</span></a></li><li title="描述" data-depth="3"><a href="/enhanfe//algorithms/day#描述-23"><span>描述</span></a></li><li title="分析" data-depth="3"><a href="/enhanfe//algorithms/day#分析-20"><span>分析</span></a></li><li title="代码" data-depth="3"><a href="/enhanfe//algorithms/day#代码-21"><span>代码</span></a></li><li title="二叉树的右视图" data-depth="2"><a href="/enhanfe//algorithms/day#二叉树的右视图"><span>二叉树的右视图</span></a></li><li title="描述" data-depth="3"><a href="/enhanfe//algorithms/day#描述-24"><span>描述</span></a></li><li title="分析" data-depth="3"><a href="/enhanfe//algorithms/day#分析-21"><span>分析</span></a></li><li title="代码" data-depth="3"><a href="/enhanfe//algorithms/day#代码-22"><span>代码</span></a></li><li title="硬币" data-depth="2"><a href="/enhanfe//algorithms/day#硬币"><span>硬币</span></a></li><li title="描述" data-depth="3"><a href="/enhanfe//algorithms/day#描述-25"><span>描述</span></a></li><li title="分析" data-depth="3"><a href="/enhanfe//algorithms/day#分析-22"><span>分析</span></a></li><li title="代码" data-depth="3"><a href="/enhanfe//algorithms/day#代码-23"><span>代码</span></a></li><li title="数组中的逆序对" data-depth="2"><a href="/enhanfe//algorithms/day#数组中的逆序对"><span>数组中的逆序对</span></a></li><li title="描述" data-depth="3"><a href="/enhanfe//algorithms/day#描述-26"><span>描述</span></a></li><li title="分析" data-depth="3"><a href="/enhanfe//algorithms/day#分析-23"><span>分析</span></a></li><li title="代码" data-depth="3"><a href="/enhanfe//algorithms/day#代码-24"><span>代码</span></a></li><li title="合并 K 个排序链表" data-depth="2"><a href="/enhanfe//algorithms/day#合并-k-个排序链表"><span>合并 K 个排序链表</span></a></li><li title="描述" data-depth="3"><a href="/enhanfe//algorithms/day#描述-27"><span>描述</span></a></li><li title="分析" data-depth="3"><a href="/enhanfe//algorithms/day#分析-24"><span>分析</span></a></li><li title="代码" data-depth="3"><a href="/enhanfe//algorithms/day#代码-25"><span>代码</span></a></li><li title="搜索旋转排序数组" data-depth="2"><a href="/enhanfe//algorithms/day#搜索旋转排序数组"><span>搜索旋转排序数组</span></a></li><li title="描述" data-depth="3"><a href="/enhanfe//algorithms/day#描述-28"><span>描述</span></a></li><li title="分析" data-depth="3"><a href="/enhanfe//algorithms/day#分析-25"><span>分析</span></a></li><li title="代码" data-depth="3"><a href="/enhanfe//algorithms/day#代码-26"><span>代码</span></a></li><li title="代码二" data-depth="3"><a href="/enhanfe//algorithms/day#代码二"><span>代码二</span></a></li><li title="数组中数字出现的次数" data-depth="2"><a href="/enhanfe//algorithms/day#数组中数字出现的次数"><span>数组中数字出现的次数</span></a></li><li title="描述" data-depth="3"><a href="/enhanfe//algorithms/day#描述-29"><span>描述</span></a></li><li title="分析" data-depth="3"><a href="/enhanfe//algorithms/day#分析-26"><span>分析</span></a></li><li title="代码" data-depth="3"><a href="/enhanfe//algorithms/day#代码-27"><span>代码</span></a></li><li title="山脉数组中查找目标值" data-depth="2"><a href="/enhanfe//algorithms/day#山脉数组中查找目标值"><span>山脉数组中查找目标值</span></a></li><li title="描述" data-depth="3"><a href="/enhanfe//algorithms/day#描述-30"><span>描述</span></a></li><li title="分析" data-depth="3"><a href="/enhanfe//algorithms/day#分析-27"><span>分析</span></a></li><li title="代码" data-depth="3"><a href="/enhanfe//algorithms/day#代码-28"><span>代码</span></a></li><li title="快乐数" data-depth="2"><a href="/enhanfe//algorithms/day#快乐数"><span>快乐数</span></a></li><li title="描述" data-depth="3"><a href="/enhanfe//algorithms/day#描述-31"><span>描述</span></a></li><li title="分析" data-depth="3"><a href="/enhanfe//algorithms/day#分析-28"><span>分析</span></a></li><li title="代码" data-depth="3"><a href="/enhanfe//algorithms/day#代码-29"><span>代码</span></a></li></ul><div class="__dumi-default-layout-content"><div class="markdown"><h2 id="水壶问题"><a aria-hidden="true" tabindex="-1" href="/enhanfe//algorithms/day#水壶问题"><span class="icon icon-link"></span></a><a target="_blank" rel="noopener noreferrer" href="https://leetcode-cn.com/problems/water-and-jug-problem/">水壶问题<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="__dumi-default-external-link-icon"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></h2><h3 id="描述"><a aria-hidden="true" tabindex="-1" href="/enhanfe//algorithms/day#描述"><span class="icon icon-link"></span></a>描述</h3><p>有两个容量分别为 <em>x</em>升 和 <em>y</em>升 的水壶以及无限多的水。请判断能否通过使用这两个水壶，从而可以得到恰好 <em>z</em>升 的水？</p><p>如果可以，最后请用以上水壶中的一或两个来盛放取得的 <em>z</em>升水。</p><p>你允许：</p><ul><li>装满任意一个水壶</li><li>清空任意一个水壶</li><li>从一个水壶向另外一个水壶倒水，直到装满或者倒空</li></ul><p><strong>示例 1:</strong> (From the famous <a target="_blank" rel="noopener noreferrer" href="https://www.youtube.com/watch?v=BVtQNK_ZUJg"><em>&quot;Die Hard&quot;</em> example<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="__dumi-default-external-link-icon"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>)</p><div class="__dumi-default-code-block"><pre class="prism-code language-unknown"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line"><span class="token plain">输入: x = 3, y = 5, z = 4</span></div><div class="token-line"><span class="token plain">输出: True</span></div></pre></div><p><strong>示例 2:</strong></p><div class="__dumi-default-code-block"><pre class="prism-code language-unknown"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line"><span class="token plain">输入: x = 2, y = 6, z = 5</span></div><div class="token-line"><span class="token plain">输出: False</span></div></pre></div><h3 id="分析"><a aria-hidden="true" tabindex="-1" href="/enhanfe//algorithms/day#分析"><span class="icon icon-link"></span></a>分析</h3><p>首先我们要明确一点，每次操作仅仅会让桶中水的总量增加 x 或增加 y，减少或减少 y。</p><p>因为在题目给定的条件下，两个桶不存在都有水并且都不满的情况，换言之，操作后，两个桶中水至少一个是空或者满。再者，我们分析易知：对一个不满的桶加水是没有什么意义的，为什么呢？因为给一个不满的桶加水其实就相当于将该桶初始化为满桶水；同理将一个未装满水桶的水倒掉也没有意义。</p><p>通过分析我们还能得出，两桶水的总量是否能满足给定的 z 是取决于 x、y 两桶容量的差值，也就是说差的制造是通过反复将大桶中的水倒入小桶产生的，整个操作描述如下：</p><ol><li><p>往 y 壶倒水</p></li><li><p>把 y 壶的水倒入 x 壶</p></li><li><p>如果 y 壶不为空，那么 x 壶肯定是满的，把 x 壶倒空，然后再把 y 壶的水倒入 x 壶</p></li><li><p>重复以上操作直至某一步时 x 壶进行了 m 次倒空操作，y 壶进行了 n 次倒水操作。</p></li></ol><p>由贝祖定理可得：mx+ny=z，当且仅当 z 是 x、y 最大公约数的倍数时，成立，因此，我们只需找出 x、y 最大公约数即可。</p><h3 id="源码"><a aria-hidden="true" tabindex="-1" href="/enhanfe//algorithms/day#源码"><span class="icon icon-link"></span></a>源码</h3><div class="__dumi-default-code-block"><pre class="prism-code language-js"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line"><span class="token comment">/**</span></div><div class="token-line"><span class="token comment"> * @param {number} x</span></div><div class="token-line"><span class="token comment"> * @param {number} y</span></div><div class="token-line"><span class="token comment"> * @param {number} z</span></div><div class="token-line"><span class="token comment"> * @return {boolean}</span></div><div class="token-line"><span class="token comment"> */</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token keyword">var</span><span class="token plain"> </span><span class="token function-variable function">canMeasureWater</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">x</span><span class="token parameter punctuation">,</span><span class="token parameter"> y</span><span class="token parameter punctuation">,</span><span class="token parameter"> z</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token keyword control-flow">if</span><span class="token plain"> </span><span class="token punctuation">(</span><span class="token plain">x </span><span class="token operator">+</span><span class="token plain"> y </span><span class="token operator">&lt;</span><span class="token plain"> z</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token keyword control-flow">return</span><span class="token plain"> </span><span class="token boolean">false</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token keyword control-flow">if</span><span class="token plain"> </span><span class="token punctuation">(</span><span class="token plain">x </span><span class="token operator">===</span><span class="token plain"> </span><span class="token number">0</span><span class="token plain"> </span><span class="token operator">||</span><span class="token plain"> y </span><span class="token operator">===</span><span class="token plain"> </span><span class="token number">0</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token keyword control-flow">return</span><span class="token plain"> z </span><span class="token operator">===</span><span class="token plain"> </span><span class="token number">0</span><span class="token plain"> </span><span class="token operator">||</span><span class="token plain"> x </span><span class="token operator">+</span><span class="token plain"> y </span><span class="token operator">===</span><span class="token plain"> z</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token keyword control-flow">return</span><span class="token plain"> z </span><span class="token operator">%</span><span class="token plain"> </span><span class="token function">calcGcd</span><span class="token punctuation">(</span><span class="token plain">x</span><span class="token punctuation">,</span><span class="token plain"> y</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token operator">===</span><span class="token plain"> </span><span class="token number">0</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token keyword">function</span><span class="token plain"> </span><span class="token function">calcGcd</span><span class="token punctuation">(</span><span class="token parameter">a</span><span class="token parameter punctuation">,</span><span class="token parameter"> b</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token keyword control-flow">if</span><span class="token plain"> </span><span class="token punctuation">(</span><span class="token plain">b </span><span class="token operator">===</span><span class="token plain"> </span><span class="token number">0</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token keyword control-flow">return</span><span class="token plain"> a</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token keyword control-flow">return</span><span class="token plain"> </span><span class="token function">calcGcd</span><span class="token punctuation">(</span><span class="token plain">b</span><span class="token punctuation">,</span><span class="token plain"> a </span><span class="token operator">%</span><span class="token plain"> b</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">}</span></div></pre></div><h2 id="链表的中间结点"><a aria-hidden="true" tabindex="-1" href="/enhanfe//algorithms/day#链表的中间结点"><span class="icon icon-link"></span></a><a target="_blank" rel="noopener noreferrer" href="https://leetcode-cn.com/problems/middle-of-the-linked-list/">链表的中间结点<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="__dumi-default-external-link-icon"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></h2><h3 id="描述-1"><a aria-hidden="true" tabindex="-1" href="/enhanfe//algorithms/day#描述-1"><span class="icon icon-link"></span></a>描述</h3><p>给定一个带有头结点 head 的非空单链表，返回链表的中间结点。</p><p>如果有两个中间结点，则返回第二个中间结点。</p><p><strong>示例 1：</strong></p><div class="__dumi-default-code-block"><pre class="prism-code language-unknown"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line"><span class="token plain">输入：[1,2,3,4,5]</span></div><div class="token-line"><span class="token plain">输出：此列表中的结点 3 (序列化形式：[3,4,5])</span></div><div class="token-line"><span class="token plain">返回的结点值为 3 。 (测评系统对该结点序列化表述是 [3,4,5])。</span></div><div class="token-line"><span class="token plain">注意，我们返回了一个 ListNode 类型的对象 ans，这样：</span></div><div class="token-line"><span class="token plain">ans.val = 3, ans.next.val = 4, ans.next.next.val = 5, 以及 ans.next.next.next = NULL.</span></div></pre></div><p><strong>示例 2：</strong></p><div class="__dumi-default-code-block"><pre class="prism-code language-unknown"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line"><span class="token plain">输入：[1,2,3,4,5,6]</span></div><div class="token-line"><span class="token plain">输出：此列表中的结点 4 (序列化形式：[4,5,6])</span></div><div class="token-line"><span class="token plain">由于该列表有两个中间结点，值分别为 3 和 4，我们返回第二个结点。</span></div></pre></div><p><strong>提示：</strong></p><ul><li>给定链表的结点数介于 1 和 100 之间。</li></ul><h3 id="分析-1"><a aria-hidden="true" tabindex="-1" href="/enhanfe//algorithms/day#分析-1"><span class="icon icon-link"></span></a>分析</h3><p>该问题有几种思路：</p><p>因为链表没有下标，因此该题需要遍历链表。</p><h4 id="方法一：数组"><a aria-hidden="true" tabindex="-1" href="/enhanfe//algorithms/day#方法一：数组"><span class="icon icon-link"></span></a>方法一：数组</h4><p>遍历数组的同时，将元素放入数组，然后取出数组中间元素，但是会有内存额外开销，时间复杂度</p><ul><li>时间复杂度：O(N)<em>O</em>(<em>N</em>)，其中 N<em>N</em> 是给定链表中的结点数目。</li><li>空间复杂度：O(N)<em>O</em>(<em>N</em>)，即数组 <code>A</code> 用去的空间。</li></ul><h4 id="方法二：单指针法"><a aria-hidden="true" tabindex="-1" href="/enhanfe//algorithms/day#方法二：单指针法"><span class="icon icon-link"></span></a>方法二：单指针法</h4><p>对数组进行两次遍历，第一次统计链表长度，计算出中间位置索引，进行第二次遍历返回中间链表节点</p><div class="__dumi-default-code-block"><pre class="prism-code language-js"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line"><span class="token comment">/**</span></div><div class="token-line"><span class="token comment"> * Definition for singly-linked list.</span></div><div class="token-line"><span class="token comment"> * function ListNode(val) {</span></div><div class="token-line"><span class="token comment"> *     this.val = val;</span></div><div class="token-line"><span class="token comment"> *     this.next = null;</span></div><div class="token-line"><span class="token comment"> * }</span></div><div class="token-line"><span class="token comment"> */</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token comment">/**</span></div><div class="token-line"><span class="token comment"> * @param {ListNode} head</span></div><div class="token-line"><span class="token comment"> * @return {ListNode}</span></div><div class="token-line"><span class="token comment"> */</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token keyword">var</span><span class="token plain"> </span><span class="token function-variable function">middleNode</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">head</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token keyword">let</span><span class="token plain"> linkSize </span><span class="token operator">=</span><span class="token plain"> </span><span class="token number">0</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token keyword">let</span><span class="token plain"> current </span><span class="token operator">=</span><span class="token plain"> head</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token keyword control-flow">while</span><span class="token plain"> </span><span class="token punctuation">(</span><span class="token plain">current</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token operator">++</span><span class="token plain">linkSize</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    current </span><span class="token operator">=</span><span class="token plain"> current</span><span class="token punctuation">.</span><span class="token property-access">next</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token keyword">let</span><span class="token plain"> currentIndex </span><span class="token operator">=</span><span class="token plain"> </span><span class="token number">0</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token keyword">const</span><span class="token plain"> middleIndex </span><span class="token operator">=</span><span class="token plain"> </span><span class="token known-class-name class-name">Math</span><span class="token punctuation">.</span><span class="token method function property-access">floor</span><span class="token punctuation">(</span><span class="token plain">linkSize </span><span class="token operator">/</span><span class="token plain"> </span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  current </span><span class="token operator">=</span><span class="token plain"> head</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token keyword control-flow">while</span><span class="token plain"> </span><span class="token punctuation">(</span><span class="token plain">currentIndex </span><span class="token operator">&lt;</span><span class="token plain"> middleIndex</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token operator">++</span><span class="token plain">currentIndex</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    current </span><span class="token operator">=</span><span class="token plain"> current</span><span class="token punctuation">.</span><span class="token property-access">next</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token keyword control-flow">return</span><span class="token plain"> current</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">}</span><span class="token punctuation">;</span></div></pre></div><ul><li>时间复杂度：O(N)<em>O</em>(<em>N</em>)，其中 N<em>N</em> 是给定链表的结点数目。</li><li>空间复杂度：O(1)<em>O</em>(1)，只需要常数空间存放变量和指针。</li></ul><h4 id="快慢指针法"><a aria-hidden="true" tabindex="-1" href="/enhanfe//algorithms/day#快慢指针法"><span class="icon icon-link"></span></a>快慢指针法</h4><p>用两个指针 slow 与 fast 一起遍历链表。slow 一次走一步，fast 一次走两步。那么当 fast 到达链表的末尾时，slow 必然位于中间。</p><div class="__dumi-default-code-block"><pre class="prism-code language-js"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line"><span class="token keyword">var</span><span class="token plain"> </span><span class="token function-variable function">middleNode</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">head</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  slow </span><span class="token operator">=</span><span class="token plain"> fast </span><span class="token operator">=</span><span class="token plain"> head</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token keyword control-flow">while</span><span class="token plain"> </span><span class="token punctuation">(</span><span class="token plain">fast </span><span class="token operator">&amp;&amp;</span><span class="token plain"> fast</span><span class="token punctuation">.</span><span class="token property-access">next</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    slow </span><span class="token operator">=</span><span class="token plain"> slow</span><span class="token punctuation">.</span><span class="token property-access">next</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    fast </span><span class="token operator">=</span><span class="token plain"> fast</span><span class="token punctuation">.</span><span class="token property-access">next</span><span class="token punctuation">.</span><span class="token property-access">next</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token keyword control-flow">return</span><span class="token plain"> slow</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">}</span><span class="token punctuation">;</span></div></pre></div><ul><li>时间复杂度：O(N)<em>O</em>(<em>N</em>)，其中 N<em>N</em> 是给定链表的结点数目。</li><li>空间复杂度：O(1)<em>O</em>(1)，只需要常数空间存放 <code>slow</code> 和 <code>fast</code> 两个指针。</li></ul><h2 id="车的可用捕获量"><a aria-hidden="true" tabindex="-1" href="/enhanfe//algorithms/day#车的可用捕获量"><span class="icon icon-link"></span></a><a target="_blank" rel="noopener noreferrer" href="https://leetcode-cn.com/problems/available-captures-for-rook/">车的可用捕获量<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="__dumi-default-external-link-icon"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></h2><h3 id="描述-2"><a aria-hidden="true" tabindex="-1" href="/enhanfe//algorithms/day#描述-2"><span class="icon icon-link"></span></a>描述</h3><p>在一个 8 x 8 的棋盘上，有一个白色车（rook）。也可能有空方块，白色的象（bishop）和黑色的卒（pawn）。它们分别以字符 “R”，“.”，“B” 和 “p” 给出。大写字符表示白棋，小写字符表示黑棋。</p><p>车按国际象棋中的规则移动：它选择四个基本方向中的一个（北，东，西和南），然后朝那个方向移动，直到它选择停止、到达棋盘的边缘或移动到同一方格来捕获该方格上颜色相反的卒。另外，车不能与其他友方（白色）象进入同一个方格。</p><p>返回车能够在一次移动中捕获到的卒的数量。</p><p><strong>示例 1：</strong></p><p><img src="http://walker-markdown.oss-cn-shenzhen.aliyuncs.com/uPic/eAFq1F.jpg" alt="eAFq1F"/></p><div class="__dumi-default-code-block"><pre class="prism-code language-unknown"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line"><span class="token plain">输入：[[&quot;.&quot;,&quot;.&quot;,&quot;.&quot;,&quot;.&quot;,&quot;.&quot;,&quot;.&quot;,&quot;.&quot;,&quot;.&quot;],[&quot;.&quot;,&quot;.&quot;,&quot;.&quot;,&quot;p&quot;,&quot;.&quot;,&quot;.&quot;,&quot;.&quot;,&quot;.&quot;],[&quot;.&quot;,&quot;.&quot;,&quot;.&quot;,&quot;R&quot;,&quot;.&quot;,&quot;.&quot;,&quot;.&quot;,&quot;p&quot;],[&quot;.&quot;,&quot;.&quot;,&quot;.&quot;,&quot;.&quot;,&quot;.&quot;,&quot;.&quot;,&quot;.&quot;,&quot;.&quot;],[&quot;.&quot;,&quot;.&quot;,&quot;.&quot;,&quot;.&quot;,&quot;.&quot;,&quot;.&quot;,&quot;.&quot;,&quot;.&quot;],[&quot;.&quot;,&quot;.&quot;,&quot;.&quot;,&quot;p&quot;,&quot;.&quot;,&quot;.&quot;,&quot;.&quot;,&quot;.&quot;],[&quot;.&quot;,&quot;.&quot;,&quot;.&quot;,&quot;.&quot;,&quot;.&quot;,&quot;.&quot;,&quot;.&quot;,&quot;.&quot;],[&quot;.&quot;,&quot;.&quot;,&quot;.&quot;,&quot;.&quot;,&quot;.&quot;,&quot;.&quot;,&quot;.&quot;,&quot;.&quot;]]</span></div><div class="token-line"><span class="token plain">输出：3</span></div><div class="token-line"><span class="token plain">解释：</span></div><div class="token-line"><span class="token plain">在本例中，车能够捕获所有的卒。</span></div></pre></div><p><strong>示例 2：</strong></p><p><img src="http://walker-markdown.oss-cn-shenzhen.aliyuncs.com/uPic/nbrkt8.jpg" alt="nbrkt8"/></p><div class="__dumi-default-code-block"><pre class="prism-code language-unknown"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line"><span class="token plain">输入：[[&quot;.&quot;,&quot;.&quot;,&quot;.&quot;,&quot;.&quot;,&quot;.&quot;,&quot;.&quot;,&quot;.&quot;,&quot;.&quot;],[&quot;.&quot;,&quot;p&quot;,&quot;p&quot;,&quot;p&quot;,&quot;p&quot;,&quot;p&quot;,&quot;.&quot;,&quot;.&quot;],[&quot;.&quot;,&quot;p&quot;,&quot;p&quot;,&quot;B&quot;,&quot;p&quot;,&quot;p&quot;,&quot;.&quot;,&quot;.&quot;],[&quot;.&quot;,&quot;p&quot;,&quot;B&quot;,&quot;R&quot;,&quot;B&quot;,&quot;p&quot;,&quot;.&quot;,&quot;.&quot;],[&quot;.&quot;,&quot;p&quot;,&quot;p&quot;,&quot;B&quot;,&quot;p&quot;,&quot;p&quot;,&quot;.&quot;,&quot;.&quot;],[&quot;.&quot;,&quot;p&quot;,&quot;p&quot;,&quot;p&quot;,&quot;p&quot;,&quot;p&quot;,&quot;.&quot;,&quot;.&quot;],[&quot;.&quot;,&quot;.&quot;,&quot;.&quot;,&quot;.&quot;,&quot;.&quot;,&quot;.&quot;,&quot;.&quot;,&quot;.&quot;],[&quot;.&quot;,&quot;.&quot;,&quot;.&quot;,&quot;.&quot;,&quot;.&quot;,&quot;.&quot;,&quot;.&quot;,&quot;.&quot;]]</span></div><div class="token-line"><span class="token plain">输出：0</span></div><div class="token-line"><span class="token plain">解释：</span></div><div class="token-line"><span class="token plain">象阻止了车捕获任何卒。</span></div></pre></div><p><strong>示例 3：</strong></p><p><img src="http://walker-markdown.oss-cn-shenzhen.aliyuncs.com/uPic/mbHc0b.jpg" alt="mbHc0b"/></p><div class="__dumi-default-code-block"><pre class="prism-code language-unknown"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line"><span class="token plain">输入：[[&quot;.&quot;,&quot;.&quot;,&quot;.&quot;,&quot;.&quot;,&quot;.&quot;,&quot;.&quot;,&quot;.&quot;,&quot;.&quot;],[&quot;.&quot;,&quot;.&quot;,&quot;.&quot;,&quot;p&quot;,&quot;.&quot;,&quot;.&quot;,&quot;.&quot;,&quot;.&quot;],[&quot;.&quot;,&quot;.&quot;,&quot;.&quot;,&quot;p&quot;,&quot;.&quot;,&quot;.&quot;,&quot;.&quot;,&quot;.&quot;],[&quot;p&quot;,&quot;p&quot;,&quot;.&quot;,&quot;R&quot;,&quot;.&quot;,&quot;p&quot;,&quot;B&quot;,&quot;.&quot;],[&quot;.&quot;,&quot;.&quot;,&quot;.&quot;,&quot;.&quot;,&quot;.&quot;,&quot;.&quot;,&quot;.&quot;,&quot;.&quot;],[&quot;.&quot;,&quot;.&quot;,&quot;.&quot;,&quot;B&quot;,&quot;.&quot;,&quot;.&quot;,&quot;.&quot;,&quot;.&quot;],[&quot;.&quot;,&quot;.&quot;,&quot;.&quot;,&quot;p&quot;,&quot;.&quot;,&quot;.&quot;,&quot;.&quot;,&quot;.&quot;],[&quot;.&quot;,&quot;.&quot;,&quot;.&quot;,&quot;.&quot;,&quot;.&quot;,&quot;.&quot;,&quot;.&quot;,&quot;.&quot;]]</span></div><div class="token-line"><span class="token plain">输出：3</span></div><div class="token-line"><span class="token plain">解释：</span></div><div class="token-line"><span class="token plain">车可以捕获位置 b5，d6 和 f5 的卒。</span></div></pre></div><p><strong>提示：</strong></p><ul><li>board.length == board[i].length == 8</li><li>board[i][j] 可以是 &#x27;R&#x27;，&#x27;.&#x27;，&#x27;B&#x27; 或 &#x27;p&#x27;</li><li>只有一个格子上存在 board[i][j] == &#x27;R&#x27;</li></ul><h3 id="分析-2"><a aria-hidden="true" tabindex="-1" href="/enhanfe//algorithms/day#分析-2"><span class="icon icon-link"></span></a>分析</h3><p>没下过国际象棋，题目有读不懂，放弃！</p><p>其实，描述说的问题我们通过图来说明，以白色车为原点，向上下、左右试探。</p><p><img src="http://walker-markdown.oss-cn-shenzhen.aliyuncs.com/uPic/xNJIXq.jpg" alt="xNJIXq"/></p><p>所以我们首先找到白色车所在位置，然后遍历获取到 <code>X</code> 向、<code>Y</code> 向数组，并且过滤掉空白块，得到的数组我们只需要从第一个&quot;p&quot;开始找，到下一个&quot;p&quot;或者墙结束</p><h3 id="代码"><a aria-hidden="true" tabindex="-1" href="/enhanfe//algorithms/day#代码"><span class="icon icon-link"></span></a>代码</h3><div class="__dumi-default-code-block"><pre class="prism-code language-js"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line"><span class="token comment">/**</span></div><div class="token-line"><span class="token comment"> * @param {character[][]} board</span></div><div class="token-line"><span class="token comment"> * @return {number}</span></div><div class="token-line"><span class="token comment"> */</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token keyword">var</span><span class="token plain"> </span><span class="token function-variable function">numRookCaptures</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">board</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token keyword">let</span><span class="token plain"> y</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    xlist </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    ylist </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    boardXLen </span><span class="token operator">=</span><span class="token plain"> </span><span class="token number">8</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">
</span></div><div class="token-line"><span class="token plain">  </span><span class="token keyword control-flow">for</span><span class="token plain"> </span><span class="token punctuation">(</span><span class="token keyword">let</span><span class="token plain"> i </span><span class="token operator">=</span><span class="token plain"> </span><span class="token number">0</span><span class="token punctuation">;</span><span class="token plain"> i </span><span class="token operator">&lt;</span><span class="token plain"> boardXLen</span><span class="token punctuation">;</span><span class="token plain"> i</span><span class="token operator">++</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token keyword control-flow">if</span><span class="token plain"> </span><span class="token punctuation">(</span><span class="token plain">board</span><span class="token punctuation">[</span><span class="token plain">i</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token method function property-access">indexOf</span><span class="token punctuation">(</span><span class="token string">&#x27;R&#x27;</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token operator">&gt;</span><span class="token plain"> </span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">      y </span><span class="token operator">=</span><span class="token plain"> board</span><span class="token punctuation">[</span><span class="token plain">i</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token method function property-access">indexOf</span><span class="token punctuation">(</span><span class="token string">&#x27;R&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">      xlist </span><span class="token operator">=</span><span class="token plain"> board</span><span class="token punctuation">[</span><span class="token plain">i</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token method function property-access">filter</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token plain"> </span><span class="token arrow operator">=&gt;</span><span class="token plain"> e </span><span class="token operator">!==</span><span class="token plain"> </span><span class="token string">&#x27;.&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token keyword control-flow">for</span><span class="token plain"> </span><span class="token punctuation">(</span><span class="token keyword">let</span><span class="token plain"> i </span><span class="token operator">=</span><span class="token plain"> </span><span class="token number">0</span><span class="token punctuation">;</span><span class="token plain"> i </span><span class="token operator">&lt;</span><span class="token plain"> boardXLen</span><span class="token punctuation">;</span><span class="token plain"> i</span><span class="token operator">++</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    board</span><span class="token punctuation">[</span><span class="token plain">i</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token plain">y</span><span class="token punctuation">]</span><span class="token plain"> </span><span class="token operator">!==</span><span class="token plain"> </span><span class="token string">&#x27;.&#x27;</span><span class="token plain"> </span><span class="token operator">&amp;&amp;</span><span class="token plain"> ylist</span><span class="token punctuation">.</span><span class="token method function property-access">push</span><span class="token punctuation">(</span><span class="token plain">board</span><span class="token punctuation">[</span><span class="token plain">i</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token plain">y</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">
</span></div><div class="token-line"><span class="token plain">  </span><span class="token keyword">let</span><span class="token plain"> rx </span><span class="token operator">=</span><span class="token plain"> xlist</span><span class="token punctuation">.</span><span class="token method function property-access">indexOf</span><span class="token punctuation">(</span><span class="token string">&#x27;R&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    ry </span><span class="token operator">=</span><span class="token plain"> ylist</span><span class="token punctuation">.</span><span class="token method function property-access">indexOf</span><span class="token punctuation">(</span><span class="token string">&#x27;R&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    num </span><span class="token operator">=</span><span class="token plain"> </span><span class="token number">0</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">
</span></div><div class="token-line"><span class="token plain">  </span><span class="token keyword control-flow">if</span><span class="token plain"> </span><span class="token punctuation">(</span><span class="token plain">xlist</span><span class="token punctuation">[</span><span class="token plain">rx </span><span class="token operator">+</span><span class="token plain"> </span><span class="token number">1</span><span class="token punctuation">]</span><span class="token plain"> </span><span class="token operator">&amp;&amp;</span><span class="token plain"> xlist</span><span class="token punctuation">[</span><span class="token plain">rx </span><span class="token operator">+</span><span class="token plain"> </span><span class="token number">1</span><span class="token punctuation">]</span><span class="token plain"> </span><span class="token operator">===</span><span class="token plain"> </span><span class="token string">&#x27;p&#x27;</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token operator">++</span><span class="token plain">num</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token keyword control-flow">if</span><span class="token plain"> </span><span class="token punctuation">(</span><span class="token plain">xlist</span><span class="token punctuation">[</span><span class="token plain">rx </span><span class="token operator">-</span><span class="token plain"> </span><span class="token number">1</span><span class="token punctuation">]</span><span class="token plain"> </span><span class="token operator">&amp;&amp;</span><span class="token plain"> xlist</span><span class="token punctuation">[</span><span class="token plain">rx </span><span class="token operator">-</span><span class="token plain"> </span><span class="token number">1</span><span class="token punctuation">]</span><span class="token plain"> </span><span class="token operator">===</span><span class="token plain"> </span><span class="token string">&#x27;p&#x27;</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token operator">++</span><span class="token plain">num</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token keyword control-flow">if</span><span class="token plain"> </span><span class="token punctuation">(</span><span class="token plain">ylist</span><span class="token punctuation">[</span><span class="token plain">ry </span><span class="token operator">+</span><span class="token plain"> </span><span class="token number">1</span><span class="token punctuation">]</span><span class="token plain"> </span><span class="token operator">&amp;&amp;</span><span class="token plain"> ylist</span><span class="token punctuation">[</span><span class="token plain">ry </span><span class="token operator">+</span><span class="token plain"> </span><span class="token number">1</span><span class="token punctuation">]</span><span class="token plain"> </span><span class="token operator">===</span><span class="token plain"> </span><span class="token string">&#x27;p&#x27;</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token operator">++</span><span class="token plain">num</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token keyword control-flow">if</span><span class="token plain"> </span><span class="token punctuation">(</span><span class="token plain">ylist</span><span class="token punctuation">[</span><span class="token plain">ry </span><span class="token operator">-</span><span class="token plain"> </span><span class="token number">1</span><span class="token punctuation">]</span><span class="token plain"> </span><span class="token operator">&amp;&amp;</span><span class="token plain"> ylist</span><span class="token punctuation">[</span><span class="token plain">ry </span><span class="token operator">-</span><span class="token plain"> </span><span class="token number">1</span><span class="token punctuation">]</span><span class="token plain"> </span><span class="token operator">===</span><span class="token plain"> </span><span class="token string">&#x27;p&#x27;</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token operator">++</span><span class="token plain">num</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">
</span></div><div class="token-line"><span class="token plain">  </span><span class="token keyword control-flow">return</span><span class="token plain"> num</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">}</span><span class="token punctuation">;</span></div></pre></div><h2 id="卡牌分组"><a aria-hidden="true" tabindex="-1" href="/enhanfe//algorithms/day#卡牌分组"><span class="icon icon-link"></span></a><a target="_blank" rel="noopener noreferrer" href="https://leetcode-cn.com/problems/x-of-a-kind-in-a-deck-of-cards/">卡牌分组<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="__dumi-default-external-link-icon"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></h2><h3 id="描述-3"><a aria-hidden="true" tabindex="-1" href="/enhanfe//algorithms/day#描述-3"><span class="icon icon-link"></span></a>描述</h3><p>给定一副牌，每张牌上都写着一个整数。</p><p>此时，你需要选定一个数字 X，使我们可以将整副牌按下述规则分成 1 组或更多组：</p><ul><li><p>每组都有 X 张牌。</p></li><li><p>组内所有的牌上都写着相同的整数。</p></li></ul><p>仅当你可选的 X &gt;= 2 时返回 true。</p><p><strong>示例 1：</strong></p><div class="__dumi-default-code-block"><pre class="prism-code language-unknown"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line"><span class="token plain">输入：[1,2,3,4,4,3,2,1]</span></div><div class="token-line"><span class="token plain">输出：true</span></div><div class="token-line"><span class="token plain">解释：可行的分组是 [1,1]，[2,2]，[3,3]，[4,4]</span></div></pre></div><p><strong>示例 2：</strong></p><div class="__dumi-default-code-block"><pre class="prism-code language-unknown"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line"><span class="token plain">输入：[1,1,1,2,2,2,3,3]</span></div><div class="token-line"><span class="token plain">输出：false</span></div><div class="token-line"><span class="token plain">解释：没有满足要求的分组。</span></div></pre></div><p><strong>示例 3：</strong></p><div class="__dumi-default-code-block"><pre class="prism-code language-unknown"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line"><span class="token plain">输入：[1]</span></div><div class="token-line"><span class="token plain">输出：false</span></div><div class="token-line"><span class="token plain">解释：没有满足要求的分组。</span></div></pre></div><p><strong>示例 4：</strong></p><div class="__dumi-default-code-block"><pre class="prism-code language-unknown"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line"><span class="token plain">输入：[1,1]</span></div><div class="token-line"><span class="token plain">输出：true</span></div><div class="token-line"><span class="token plain">解释：可行的分组是 [1,1]</span></div></pre></div><p><strong>示例 5：</strong></p><div class="__dumi-default-code-block"><pre class="prism-code language-unknown"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line"><span class="token plain">输入：[1,1,2,2,2,2]</span></div><div class="token-line"><span class="token plain">输出：true</span></div><div class="token-line"><span class="token plain">解释：可行的分组是 [1,1]，[2,2]，[2,2]</span></div></pre></div><p><strong>提示：</strong></p><ul><li><code>1 &lt;= deck.length &lt;= 10000</code></li><li><code>0 &lt;= deck[i] &lt; 10000</code></li></ul><h3 id="分析-3"><a aria-hidden="true" tabindex="-1" href="/enhanfe//algorithms/day#分析-3"><span class="icon icon-link"></span></a>分析</h3><p>我们发现每个数组必须满足以下条件：</p><ul><li>相同牌的个数必须大于 2</li><li>不同牌个数可以拆分为相同个数的小组，这点非常关键</li></ul><p>为了好记录每张牌的张数，使用 <code>Map</code> 来存放数据。然后获取到存放张数的数组，保证每一项与前一项的最大公约数都大于 1。</p><h3 id="代码-1"><a aria-hidden="true" tabindex="-1" href="/enhanfe//algorithms/day#代码-1"><span class="icon icon-link"></span></a>代码</h3><div class="__dumi-default-code-block"><pre class="prism-code language-js"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line"><span class="token comment">/**</span></div><div class="token-line"><span class="token comment"> * @param {number[]} deck</span></div><div class="token-line"><span class="token comment"> * @return {boolean}</span></div><div class="token-line"><span class="token comment"> */</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token keyword">var</span><span class="token plain"> </span><span class="token function-variable function">hasGroupsSizeX</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">deck</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token keyword">let</span><span class="token plain"> m </span><span class="token operator">=</span><span class="token plain"> </span><span class="token keyword">new</span><span class="token plain"> </span><span class="token class-name">Map</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token keyword control-flow">for</span><span class="token plain"> </span><span class="token punctuation">(</span><span class="token keyword">let</span><span class="token plain"> n </span><span class="token keyword">of</span><span class="token plain"> deck</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    m</span><span class="token punctuation">.</span><span class="token method function property-access">set</span><span class="token punctuation">(</span><span class="token plain">n</span><span class="token punctuation">,</span><span class="token plain"> m</span><span class="token punctuation">.</span><span class="token method function property-access">has</span><span class="token punctuation">(</span><span class="token plain">n</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token operator">?</span><span class="token plain"> m</span><span class="token punctuation">.</span><span class="token method function property-access">get</span><span class="token punctuation">(</span><span class="token plain">n</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token operator">+</span><span class="token plain"> </span><span class="token number">1</span><span class="token plain"> </span><span class="token operator">:</span><span class="token plain"> </span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token keyword">const</span><span class="token plain"> vals </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation">[</span><span class="token spread operator">...</span><span class="token plain">m</span><span class="token punctuation">.</span><span class="token method function property-access">values</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token keyword">let</span><span class="token plain"> res </span><span class="token operator">=</span><span class="token plain"> vals</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token keyword control-flow">return</span><span class="token plain"> vals</span><span class="token punctuation">.</span><span class="token method function property-access">every</span><span class="token punctuation">(</span><span class="token parameter">val</span><span class="token plain"> </span><span class="token arrow operator">=&gt;</span><span class="token plain"> </span><span class="token punctuation">(</span><span class="token plain">res </span><span class="token operator">=</span><span class="token plain"> </span><span class="token function">calcGcd</span><span class="token punctuation">(</span><span class="token plain">res</span><span class="token punctuation">,</span><span class="token plain"> val</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token operator">&gt;</span><span class="token plain"> </span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">
</span></div><div class="token-line"><span class="token plain"></span><span class="token keyword">function</span><span class="token plain"> </span><span class="token function">calcGcd</span><span class="token punctuation">(</span><span class="token parameter">a</span><span class="token parameter punctuation">,</span><span class="token parameter"> b</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token keyword control-flow">return</span><span class="token plain"> b </span><span class="token operator">===</span><span class="token plain"> </span><span class="token number">0</span><span class="token plain"> </span><span class="token operator">?</span><span class="token plain"> a </span><span class="token operator">:</span><span class="token plain"> </span><span class="token function">calcGcd</span><span class="token punctuation">(</span><span class="token plain">b</span><span class="token punctuation">,</span><span class="token plain"> a </span><span class="token operator">%</span><span class="token plain"> b</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">}</span></div></pre></div><h2 id="单词的压缩编码"><a aria-hidden="true" tabindex="-1" href="/enhanfe//algorithms/day#单词的压缩编码"><span class="icon icon-link"></span></a><a target="_blank" rel="noopener noreferrer" href="https://leetcode-cn.com/problems/short-encoding-of-words/">单词的压缩编码<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="__dumi-default-external-link-icon"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></h2><h3 id="描述-4"><a aria-hidden="true" tabindex="-1" href="/enhanfe//algorithms/day#描述-4"><span class="icon icon-link"></span></a>描述</h3><p>给定一个单词列表，我们将这个列表编码成一个索引字符串 <code>S</code> 与一个索引列表 <code>A</code>。</p><p>例如，如果这个列表是 <code>[&quot;time&quot;, &quot;me&quot;, &quot;bell&quot;]</code>，我们就可以将其表示为 <code>S = &quot;time#bell#&quot;</code> 和 <code>indexes = [0, 2, 5]</code>。</p><p>对于每一个索引，我们可以通过从字符串 S 中索引的位置开始读取字符串，直到 &quot;#&quot; 结束，来恢复我们之前的单词列表。</p><p>那么成功对给定单词列表进行编码的最小字符串长度是多少呢？</p><p><strong>提示：</strong></p><ul><li><code>1 &lt;= words.length &lt;= 200</code></li><li><code>1 &lt;= words[i].length &lt;= 7</code></li><li>每个单词都是小写字母 。</li></ul><h3 id="分析-4"><a aria-hidden="true" tabindex="-1" href="/enhanfe//algorithms/day#分析-4"><span class="icon icon-link"></span></a>分析</h3><p><strong>方法一：遍历后缀，hash 检索</strong></p><p>我们将数据存放在一个容器中，然后逐个拿出，检测拿出的字符串是否存在后缀在原容器中，如果存在，则删除，不存在则继续查看更小后缀，直至对比完该字符串，转而从容器拿出下一个元素，直至所有元素均检测完，处理并返回结果。</p><p>这个容器是散列集合 <code>Set</code> ，动画演示，转自<strong>LeetCode</strong></p><p><img src="http://walker-markdown.oss-cn-shenzhen.aliyuncs.com/uPic/Dculsj.jpg" alt="Dculsj"/></p><p>时间复杂度：</p><div class="math math-display"><mjx-container className="MathJax" jax="SVG" display="true"><svg style="vertical-align:-1.018ex" xmlns="http://www.w3.org/2000/svg" width="9.738ex" height="3.167ex" role="img" focusable="false" viewBox="0 -950 4304.2 1400" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path id="MJX-1-TEX-I-1D442" d="M740 435Q740 320 676 213T511 42T304 -22Q207 -22 138 35T51 201Q50 209 50 244Q50 346 98 438T227 601Q351 704 476 704Q514 704 524 703Q621 689 680 617T740 435ZM637 476Q637 565 591 615T476 665Q396 665 322 605Q242 542 200 428T157 216Q157 126 200 73T314 19Q404 19 485 98T608 313Q637 408 637 476Z"></path><path id="MJX-1-TEX-N-28" d="M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z"></path><path id="MJX-1-TEX-LO-2211" d="M60 948Q63 950 665 950H1267L1325 815Q1384 677 1388 669H1348L1341 683Q1320 724 1285 761Q1235 809 1174 838T1033 881T882 898T699 902H574H543H251L259 891Q722 258 724 252Q725 250 724 246Q721 243 460 -56L196 -356Q196 -357 407 -357Q459 -357 548 -357T676 -358Q812 -358 896 -353T1063 -332T1204 -283T1307 -196Q1328 -170 1348 -124H1388Q1388 -125 1381 -145T1356 -210T1325 -294L1267 -449L666 -450Q64 -450 61 -448Q55 -446 55 -439Q55 -437 57 -433L590 177Q590 178 557 222T452 366T322 544L56 909L55 924Q55 945 60 948Z"></path><path id="MJX-1-TEX-I-1D464" d="M580 385Q580 406 599 424T641 443Q659 443 674 425T690 368Q690 339 671 253Q656 197 644 161T609 80T554 12T482 -11Q438 -11 404 5T355 48Q354 47 352 44Q311 -11 252 -11Q226 -11 202 -5T155 14T118 53T104 116Q104 170 138 262T173 379Q173 380 173 381Q173 390 173 393T169 400T158 404H154Q131 404 112 385T82 344T65 302T57 280Q55 278 41 278H27Q21 284 21 287Q21 293 29 315T52 366T96 418T161 441Q204 441 227 416T250 358Q250 340 217 250T184 111Q184 65 205 46T258 26Q301 26 334 87L339 96V119Q339 122 339 128T340 136T341 143T342 152T345 165T348 182T354 206T362 238T373 281Q402 395 406 404Q419 431 449 431Q468 431 475 421T483 402Q483 389 454 274T422 142Q420 131 420 107V100Q420 85 423 71T442 42T487 26Q558 26 600 148Q609 171 620 213T632 273Q632 306 619 325T593 357T580 385Z"></path><path id="MJX-1-TEX-N-32" d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315T301 241Q265 210 201 149L142 93L218 92Q375 92 385 97Q392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19V31Q50 38 56 46T86 81Q115 113 136 137Q145 147 170 174T204 211T233 244T261 278T284 308T305 340T320 369T333 401T340 431T343 464Q343 527 309 573T212 619Q179 619 154 602T119 569T109 550Q109 549 114 549Q132 549 151 535T170 489Q170 464 154 447T109 429Z"></path><path id="MJX-1-TEX-I-1D456" d="M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z"></path><path id="MJX-1-TEX-N-29" d="M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z"></path></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><use data-c="1D442" xlink:href="#MJX-1-TEX-I-1D442"></use></g><g data-mml-node="mo" transform="translate(763,0)"><use data-c="28" xlink:href="#MJX-1-TEX-N-28"></use></g><g data-mml-node="mo" transform="translate(1152,0)"><use data-c="2211" xlink:href="#MJX-1-TEX-LO-2211"></use></g><g data-mml-node="msubsup" transform="translate(2762.7,0)"><g data-mml-node="mi"><use data-c="1D464" xlink:href="#MJX-1-TEX-I-1D464"></use></g><g data-mml-node="mn" transform="translate(749,413) scale(0.707)"><use data-c="32" xlink:href="#MJX-1-TEX-N-32"></use></g><g data-mml-node="mi" transform="translate(749,-247) scale(0.707)"><use data-c="1D456" xlink:href="#MJX-1-TEX-I-1D456"></use></g></g><g data-mml-node="mo" transform="translate(3915.2,0)"><use data-c="29" xlink:href="#MJX-1-TEX-N-29"></use></g></g></g></svg></mjx-container></div><p>其中 w_i 是 <code>words[i]</code> 的长度</p><p>空间复杂度：</p><div class="math math-display"><mjx-container className="MathJax" jax="SVG" display="true"><svg style="vertical-align:-1.018ex" xmlns="http://www.w3.org/2000/svg" width="9.49ex" height="3.167ex" role="img" focusable="false" viewBox="0 -950 4194.6 1400" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path id="MJX-2-TEX-I-1D442" d="M740 435Q740 320 676 213T511 42T304 -22Q207 -22 138 35T51 201Q50 209 50 244Q50 346 98 438T227 601Q351 704 476 704Q514 704 524 703Q621 689 680 617T740 435ZM637 476Q637 565 591 615T476 665Q396 665 322 605Q242 542 200 428T157 216Q157 126 200 73T314 19Q404 19 485 98T608 313Q637 408 637 476Z"></path><path id="MJX-2-TEX-N-28" d="M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z"></path><path id="MJX-2-TEX-LO-2211" d="M60 948Q63 950 665 950H1267L1325 815Q1384 677 1388 669H1348L1341 683Q1320 724 1285 761Q1235 809 1174 838T1033 881T882 898T699 902H574H543H251L259 891Q722 258 724 252Q725 250 724 246Q721 243 460 -56L196 -356Q196 -357 407 -357Q459 -357 548 -357T676 -358Q812 -358 896 -353T1063 -332T1204 -283T1307 -196Q1328 -170 1348 -124H1388Q1388 -125 1381 -145T1356 -210T1325 -294L1267 -449L666 -450Q64 -450 61 -448Q55 -446 55 -439Q55 -437 57 -433L590 177Q590 178 557 222T452 366T322 544L56 909L55 924Q55 945 60 948Z"></path><path id="MJX-2-TEX-I-1D464" d="M580 385Q580 406 599 424T641 443Q659 443 674 425T690 368Q690 339 671 253Q656 197 644 161T609 80T554 12T482 -11Q438 -11 404 5T355 48Q354 47 352 44Q311 -11 252 -11Q226 -11 202 -5T155 14T118 53T104 116Q104 170 138 262T173 379Q173 380 173 381Q173 390 173 393T169 400T158 404H154Q131 404 112 385T82 344T65 302T57 280Q55 278 41 278H27Q21 284 21 287Q21 293 29 315T52 366T96 418T161 441Q204 441 227 416T250 358Q250 340 217 250T184 111Q184 65 205 46T258 26Q301 26 334 87L339 96V119Q339 122 339 128T340 136T341 143T342 152T345 165T348 182T354 206T362 238T373 281Q402 395 406 404Q419 431 449 431Q468 431 475 421T483 402Q483 389 454 274T422 142Q420 131 420 107V100Q420 85 423 71T442 42T487 26Q558 26 600 148Q609 171 620 213T632 273Q632 306 619 325T593 357T580 385Z"></path><path id="MJX-2-TEX-I-1D456" d="M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z"></path><path id="MJX-2-TEX-N-29" d="M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z"></path></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><use data-c="1D442" xlink:href="#MJX-2-TEX-I-1D442"></use></g><g data-mml-node="mo" transform="translate(763,0)"><use data-c="28" xlink:href="#MJX-2-TEX-N-28"></use></g><g data-mml-node="mo" transform="translate(1152,0)"><use data-c="2211" xlink:href="#MJX-2-TEX-LO-2211"></use></g><g data-mml-node="msub" transform="translate(2762.7,0)"><g data-mml-node="mi"><use data-c="1D464" xlink:href="#MJX-2-TEX-I-1D464"></use></g><g data-mml-node="mi" transform="translate(749,-150) scale(0.707)"><use data-c="1D456" xlink:href="#MJX-2-TEX-I-1D456"></use></g></g><g data-mml-node="mo" transform="translate(3805.6,0)"><use data-c="29" xlink:href="#MJX-2-TEX-N-29"></use></g></g></g></svg></mjx-container></div><p><strong>方法二：Trie/字典树/前缀树</strong></p><p>关于前缀树算法题，可见：LeetCode<a target="_blank" rel="noopener noreferrer" href="https://leetcode-cn.com/problems/implement-trie-prefix-tree/">208. 实现 Trie (前缀树)<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="__dumi-default-external-link-icon"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p><p>假设我们现在给定字符串数组：<code>&quot;A&quot;, &quot;to&quot;, &quot;tea&quot;, &quot;ted&quot;, &quot;ten&quot;, &quot;i&quot;, &quot;in&quot;, &quot;inn&quot;</code></p><p><img src="http://walker-markdown.oss-cn-shenzhen.aliyuncs.com/uPic/JcFxI1.jpg" alt="JcFxI1"/></p><p>这颗树怎么理解呢？根节点无内容，读取第一个元素 <code>A</code> 加入这颗树，结果为：<code>{<!-- -->A: <!-- -->{<!-- -->}<!-- -->}</code>，读取第二个字符串 <code>to</code> ，构造出 <code>{<!-- -->t:<!-- -->{<!-- -->o:<!-- -->{<!-- -->}<!-- -->}<!-- -->, A:<!-- -->{<!-- -->}<!-- -->}</code>，继续读取第三个元素，构造出：<code>{<!-- -->t:<!-- -->{<!-- -->o:<!-- -->{<!-- -->}<!-- -->, e: <!-- -->{<!-- -->a: <!-- -->{<!-- -->}<!-- -->}<!-- -->}<!-- -->, A:<!-- -->{<!-- -->}<!-- -->}</code>。以此类推，将所有元素存放进树中。代码实现如下：</p><div class="__dumi-default-code-block"><pre class="prism-code language-js"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line"><span class="token comment">/**</span></div><div class="token-line"><span class="token comment"> * 初始化树.</span></div><div class="token-line"><span class="token comment"> */</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token keyword">var</span><span class="token plain"> </span><span class="token function-variable function maybe-class-name">Trie</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token property-access">root</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">
</span></div><div class="token-line"><span class="token plain"></span><span class="token comment">/**</span></div><div class="token-line"><span class="token comment"> * 将元素添加到树汇总</span></div><div class="token-line"><span class="token comment"> */</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token class-name">Trie</span><span class="token punctuation">.</span><span class="token property-access">prototype</span><span class="token punctuation">.</span><span class="token method-variable function-variable method function property-access">insert</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">word</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token keyword">let</span><span class="token plain"> cur </span><span class="token operator">=</span><span class="token plain"> </span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token property-access">root</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token keyword control-flow">for</span><span class="token plain"> </span><span class="token punctuation">(</span><span class="token plain">i </span><span class="token operator">=</span><span class="token plain"> </span><span class="token number">0</span><span class="token punctuation">;</span><span class="token plain"> i </span><span class="token operator">&lt;</span><span class="token plain"> word</span><span class="token punctuation">.</span><span class="token property-access">length</span><span class="token punctuation">;</span><span class="token plain"> i</span><span class="token operator">++</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token keyword">const</span><span class="token plain"> char </span><span class="token operator">=</span><span class="token plain"> word</span><span class="token punctuation">.</span><span class="token method function property-access">charAt</span><span class="token punctuation">(</span><span class="token plain">i</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token keyword control-flow">if</span><span class="token plain"> </span><span class="token punctuation">(</span><span class="token operator">!</span><span class="token plain">cur</span><span class="token punctuation">[</span><span class="token plain">char</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">      cur</span><span class="token punctuation">[</span><span class="token plain">char</span><span class="token punctuation">]</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    cur </span><span class="token operator">=</span><span class="token plain"> cur</span><span class="token punctuation">[</span><span class="token plain">char</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  cur</span><span class="token punctuation">.</span><span class="token property-access">isWord</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token boolean">true</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">
</span></div><div class="token-line"><span class="token plain"></span><span class="token comment">/**</span></div><div class="token-line"><span class="token comment"> * 搜索树中是否含有某给定字符串</span></div><div class="token-line"><span class="token comment"> */</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token class-name">Trie</span><span class="token punctuation">.</span><span class="token property-access">prototype</span><span class="token punctuation">.</span><span class="token method-variable function-variable method function property-access">search</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">word</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token keyword">let</span><span class="token plain"> cur </span><span class="token operator">=</span><span class="token plain"> </span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token property-access">root</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token keyword control-flow">for</span><span class="token plain"> </span><span class="token punctuation">(</span><span class="token plain">i </span><span class="token operator">=</span><span class="token plain"> </span><span class="token number">0</span><span class="token punctuation">;</span><span class="token plain"> i </span><span class="token operator">&lt;</span><span class="token plain"> word</span><span class="token punctuation">.</span><span class="token property-access">length</span><span class="token punctuation">;</span><span class="token plain"> i</span><span class="token operator">++</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token keyword">const</span><span class="token plain"> char </span><span class="token operator">=</span><span class="token plain"> word</span><span class="token punctuation">.</span><span class="token method function property-access">charAt</span><span class="token punctuation">(</span><span class="token plain">i</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token keyword control-flow">if</span><span class="token plain"> </span><span class="token punctuation">(</span><span class="token operator">!</span><span class="token plain">cur</span><span class="token punctuation">[</span><span class="token plain">char</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">      </span><span class="token keyword control-flow">return</span><span class="token plain"> </span><span class="token boolean">false</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    cur </span><span class="token operator">=</span><span class="token plain"> cur</span><span class="token punctuation">[</span><span class="token plain">char</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token keyword control-flow">return</span><span class="token plain"> cur</span><span class="token punctuation">.</span><span class="token property-access">isWord</span><span class="token plain"> </span><span class="token operator">||</span><span class="token plain"> </span><span class="token boolean">false</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">
</span></div><div class="token-line"><span class="token plain"></span><span class="token comment">/**</span></div><div class="token-line"><span class="token comment"> * 搜索树中是否含有以给定字符串为前缀</span></div><div class="token-line"><span class="token comment"> */</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token class-name">Trie</span><span class="token punctuation">.</span><span class="token property-access">prototype</span><span class="token punctuation">.</span><span class="token method-variable function-variable method function property-access">startsWith</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">prefix</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token keyword">let</span><span class="token plain"> cur </span><span class="token operator">=</span><span class="token plain"> </span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token property-access">root</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token keyword control-flow">for</span><span class="token plain"> </span><span class="token punctuation">(</span><span class="token plain">i </span><span class="token operator">=</span><span class="token plain"> </span><span class="token number">0</span><span class="token punctuation">;</span><span class="token plain"> i </span><span class="token operator">&lt;</span><span class="token plain"> prefix</span><span class="token punctuation">.</span><span class="token property-access">length</span><span class="token punctuation">;</span><span class="token plain"> i</span><span class="token operator">++</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token keyword">const</span><span class="token plain"> char </span><span class="token operator">=</span><span class="token plain"> prefix</span><span class="token punctuation">.</span><span class="token method function property-access">charAt</span><span class="token punctuation">(</span><span class="token plain">i</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token keyword control-flow">if</span><span class="token plain"> </span><span class="token punctuation">(</span><span class="token operator">!</span><span class="token plain">cur</span><span class="token punctuation">[</span><span class="token plain">char</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">      </span><span class="token keyword control-flow">return</span><span class="token plain"> </span><span class="token boolean">false</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    cur </span><span class="token operator">=</span><span class="token plain"> cur</span><span class="token punctuation">[</span><span class="token plain">char</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token keyword control-flow">return</span><span class="token plain"> </span><span class="token boolean">true</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">}</span><span class="token punctuation">;</span></div></pre></div><p>有了前缀树的概念，我们再来解这道题似乎很简单了。</p><p>针对本题，我们不是看各字符串的公共前缀，而是看后缀，怎么理解呢？我们看一张图，转自<strong>LeetCode</strong></p><p><img src="http://walker-markdown.oss-cn-shenzhen.aliyuncs.com/uPic/bPwADA.jpg" alt="bPwADA"/></p><p>我们把所有字符串先反转，然后存到字典树，查找时，我们只用统计根节点到叶子节点的节点个数+1 的总和，即可知道字符串压缩后的长度</p><h3 id="代码-2"><a aria-hidden="true" tabindex="-1" href="/enhanfe//algorithms/day#代码-2"><span class="icon icon-link"></span></a>代码</h3><p><strong>方法一：遍历后缀，hash 检索</strong></p><div class="__dumi-default-code-block"><pre class="prism-code language-js"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line"><span class="token comment">/**</span></div><div class="token-line"><span class="token comment"> * @param {string[]} words</span></div><div class="token-line"><span class="token comment"> * @return {number}</span></div><div class="token-line"><span class="token comment"> */</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token keyword">var</span><span class="token plain"> </span><span class="token function-variable function">minimumLengthEncoding</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">words</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token keyword">const</span><span class="token plain"> wordSet </span><span class="token operator">=</span><span class="token plain"> </span><span class="token keyword">new</span><span class="token plain"> </span><span class="token class-name">Set</span><span class="token punctuation">(</span><span class="token plain">words</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token keyword control-flow">for</span><span class="token plain"> </span><span class="token punctuation">(</span><span class="token keyword">let</span><span class="token plain"> word </span><span class="token keyword">of</span><span class="token plain"> words</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token keyword control-flow">for</span><span class="token plain"> </span><span class="token punctuation">(</span><span class="token keyword">let</span><span class="token plain"> i </span><span class="token operator">=</span><span class="token plain"> </span><span class="token number">1</span><span class="token punctuation">;</span><span class="token plain"> i </span><span class="token operator">&lt;</span><span class="token plain"> word</span><span class="token punctuation">.</span><span class="token property-access">length</span><span class="token punctuation">;</span><span class="token plain"> i</span><span class="token operator">++</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">      wordSet</span><span class="token punctuation">.</span><span class="token method function property-access">delete</span><span class="token punctuation">(</span><span class="token plain">word</span><span class="token punctuation">.</span><span class="token method function property-access">substring</span><span class="token punctuation">(</span><span class="token plain">i</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token keyword control-flow">return</span><span class="token plain"> </span><span class="token punctuation">[</span><span class="token spread operator">...</span><span class="token plain">wordSet</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token method function property-access">join</span><span class="token punctuation">(</span><span class="token string">&#x27;#&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token property-access">length</span><span class="token plain"> </span><span class="token operator">+</span><span class="token plain"> </span><span class="token number">1</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">}</span><span class="token punctuation">;</span></div></pre></div><p><strong>方法二：Trie/字典树/前缀树</strong></p><div class="__dumi-default-code-block"><pre class="prism-code language-js"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line"><span class="token comment">/**</span></div><div class="token-line"><span class="token comment"> * @param {string[]} words</span></div><div class="token-line"><span class="token comment"> * @return {number}</span></div><div class="token-line"><span class="token comment"> */</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token keyword">var</span><span class="token plain"> </span><span class="token function-variable function">minimumLengthEncoding</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">words</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token keyword">const</span><span class="token plain"> trie </span><span class="token operator">=</span><span class="token plain"> </span><span class="token keyword">new</span><span class="token plain"> </span><span class="token class-name">Trie</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token keyword">let</span><span class="token plain"> len </span><span class="token operator">=</span><span class="token plain"> </span><span class="token number">0</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token keyword">const</span><span class="token plain"> cwords </span><span class="token operator">=</span><span class="token plain"> words</span><span class="token punctuation">.</span><span class="token method function property-access">sort</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">a</span><span class="token parameter punctuation">,</span><span class="token parameter"> b</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token arrow operator">=&gt;</span><span class="token plain"> b</span><span class="token punctuation">.</span><span class="token property-access">length</span><span class="token plain"> </span><span class="token operator">-</span><span class="token plain"> a</span><span class="token punctuation">.</span><span class="token property-access">length</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token keyword control-flow">for</span><span class="token plain"> </span><span class="token punctuation">(</span><span class="token keyword">let</span><span class="token plain"> word </span><span class="token keyword">of</span><span class="token plain"> cwords</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    len </span><span class="token operator">+=</span><span class="token plain"> trie</span><span class="token punctuation">.</span><span class="token method function property-access">insert</span><span class="token punctuation">(</span><span class="token plain">word</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token keyword control-flow">return</span><span class="token plain"> len</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">
</span></div><div class="token-line"><span class="token plain"></span><span class="token keyword">var</span><span class="token plain"> </span><span class="token function-variable function maybe-class-name">Trie</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token property-access">root</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">
</span></div><div class="token-line"><span class="token plain"></span><span class="token class-name">Trie</span><span class="token punctuation">.</span><span class="token property-access">prototype</span><span class="token punctuation">.</span><span class="token method-variable function-variable method function property-access">insert</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">word</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token keyword">let</span><span class="token plain"> cur </span><span class="token operator">=</span><span class="token plain"> </span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token property-access">root</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token keyword">let</span><span class="token plain"> isNew </span><span class="token operator">=</span><span class="token plain"> </span><span class="token boolean">false</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token keyword control-flow">for</span><span class="token plain"> </span><span class="token punctuation">(</span><span class="token plain">i </span><span class="token operator">=</span><span class="token plain"> word</span><span class="token punctuation">.</span><span class="token property-access">length</span><span class="token plain"> </span><span class="token operator">-</span><span class="token plain"> </span><span class="token number">1</span><span class="token punctuation">;</span><span class="token plain"> i </span><span class="token operator">&gt;=</span><span class="token plain"> </span><span class="token number">0</span><span class="token punctuation">;</span><span class="token plain"> i</span><span class="token operator">--</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token keyword">const</span><span class="token plain"> char </span><span class="token operator">=</span><span class="token plain"> word</span><span class="token punctuation">.</span><span class="token method function property-access">charAt</span><span class="token punctuation">(</span><span class="token plain">i</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token keyword control-flow">if</span><span class="token plain"> </span><span class="token punctuation">(</span><span class="token operator">!</span><span class="token plain">cur</span><span class="token punctuation">[</span><span class="token plain">char</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">      isNew </span><span class="token operator">=</span><span class="token plain"> </span><span class="token boolean">true</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">      cur</span><span class="token punctuation">[</span><span class="token plain">char</span><span class="token punctuation">]</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    cur </span><span class="token operator">=</span><span class="token plain"> cur</span><span class="token punctuation">[</span><span class="token plain">char</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token keyword control-flow">return</span><span class="token plain"> isNew </span><span class="token operator">?</span><span class="token plain"> word</span><span class="token punctuation">.</span><span class="token property-access">length</span><span class="token plain"> </span><span class="token operator">+</span><span class="token plain"> </span><span class="token number">1</span><span class="token plain"> </span><span class="token operator">:</span><span class="token plain"> </span><span class="token number">0</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">}</span><span class="token punctuation">;</span></div></pre></div><h2 id="地图分析"><a aria-hidden="true" tabindex="-1" href="/enhanfe//algorithms/day#地图分析"><span class="icon icon-link"></span></a><a target="_blank" rel="noopener noreferrer" href="https://leetcode-cn.com/problems/as-far-from-land-as-possible/">地图分析<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="__dumi-default-external-link-icon"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></h2><h3 id="描述-5"><a aria-hidden="true" tabindex="-1" href="/enhanfe//algorithms/day#描述-5"><span class="icon icon-link"></span></a>描述</h3><p>你现在手里有一份大小为 N x N 的『地图』（网格） <code>grid</code>，上面的每个『区域』（单元格）都用 <code>0</code> 和 <code>1</code> 标记好了。其中 <code>0</code> 代表海洋，<code>1</code> 代表陆地，你知道距离陆地区域最远的海洋区域是是哪一个吗？请返回该海洋区域到离它最近的陆地区域的距离。</p><p>我们这里说的距离是『曼哈顿距离』（ Manhattan Distance）：<code>(x0, y0)</code> 和 <code>(x1, y1)</code> 这两个区域之间的距离是 <code>|x0 - x1| + |y0 - y1|</code> 。</p><p>如果我们的地图上只有陆地或者海洋，请返回 <code>-1</code>。</p><p><strong>示例 1</strong></p><p><img src="http://walker-markdown.oss-cn-shenzhen.aliyuncs.com/uPic/qonPlU.jpg" alt="qonPlU"/></p><div class="__dumi-default-code-block"><pre class="prism-code language-unknown"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line"><span class="token plain">输入：[[1,0,1],[0,0,0],[1,0,1]]</span></div><div class="token-line"><span class="token plain">输出：2</span></div><div class="token-line"><span class="token plain">解释：</span></div><div class="token-line"><span class="token plain">海洋区域 (1, 1) 和所有陆地区域之间的距离都达到最大，最大距离为 2。</span></div></pre></div><p><strong>示例 2</strong></p><p><img src="http://walker-markdown.oss-cn-shenzhen.aliyuncs.com/uPic/lbdOzP.jpg" alt="lbdOzP"/></p><div class="__dumi-default-code-block"><pre class="prism-code language-unknown"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line"><span class="token plain">输入：[[1,0,0],[0,0,0],[0,0,0]]</span></div><div class="token-line"><span class="token plain">输出：4</span></div><div class="token-line"><span class="token plain">解释：</span></div><div class="token-line"><span class="token plain">海洋区域 (2, 2) 和所有陆地区域之间的距离都达到最大，最大距离为 4。</span></div></pre></div><p><strong>提示：</strong></p><ul><li><code>1 &lt;= grid.length == grid[0].length &lt;= 100</code></li><li><code>grid\[i][j]</code> 不是 <code>0</code> 就是 <code>1</code></li></ul><h3 id="分析-5"><a aria-hidden="true" tabindex="-1" href="/enhanfe//algorithms/day#分析-5"><span class="icon icon-link"></span></a>分析</h3><p>本题实现方法很多，可使用 <strong>宽度优先搜索</strong>、<strong>多源最短路</strong>、<strong>动态规划</strong></p><p>多源最短路的示例图，引自<strong>LeetCode</strong></p><p><img src="http://walker-markdown.oss-cn-shenzhen.aliyuncs.com/uPic/SVKtmr.jpg" alt="SVKtmr"/></p><p>我们知道对于每个海洋区域 (x, y)(x,y)，离它最近的陆地区域到它的路径要么从上方或者左方来，要么从右方或者下方来。考虑做两次动态规划，第一次从左上到右下，第二次从右下到左上，记 f(x, y)f(x,y) 为 (x, y)(x,y) 距离最近的陆地区域的曼哈顿距离，则我们可以推出这样的转移方程：</p><p><img src="http://walker-markdown.oss-cn-shenzhen.aliyuncs.com/uPic/SZlZiT.png" alt="SZlZiT"/></p><p>我们初始化的时候把陆地的 f 值全部预置为 0，海洋的 f 全部预置为 INF，做完两个阶段的动态规划后，我们在所有的不为零的 f[i][j] 中比一个最大值即可，如果最终比较出的最大值为 INF，就返回 -1。</p><h3 id="代码-3"><a aria-hidden="true" tabindex="-1" href="/enhanfe//algorithms/day#代码-3"><span class="icon icon-link"></span></a>代码</h3><div class="__dumi-default-code-block"><pre class="prism-code language-js"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line"><span class="token comment">/**</span></div><div class="token-line"><span class="token comment"> * @param {number[][]} grid</span></div><div class="token-line"><span class="token comment"> * @return {number}</span></div><div class="token-line"><span class="token comment"> */</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token keyword">var</span><span class="token plain"> </span><span class="token function-variable function">maxDistance</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">grid</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token keyword control-flow">if</span><span class="token plain"> </span><span class="token punctuation">(</span><span class="token plain">grid</span><span class="token punctuation">.</span><span class="token property-access">length</span><span class="token plain"> </span><span class="token operator">&lt;</span><span class="token plain"> </span><span class="token number">2</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token keyword control-flow">return</span><span class="token plain"> </span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token keyword">let</span><span class="token plain"> n </span><span class="token operator">=</span><span class="token plain"> grid</span><span class="token punctuation">.</span><span class="token property-access">length</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token comment">// 创建 dp 状态矩阵</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token keyword">let</span><span class="token plain"> dp </span><span class="token operator">=</span><span class="token plain"> </span><span class="token keyword">new</span><span class="token plain"> </span><span class="token class-name">Array</span><span class="token punctuation">(</span><span class="token plain">n</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token keyword control-flow">for</span><span class="token plain"> </span><span class="token punctuation">(</span><span class="token keyword">let</span><span class="token plain"> i </span><span class="token operator">=</span><span class="token plain"> </span><span class="token number">0</span><span class="token punctuation">;</span><span class="token plain"> i </span><span class="token operator">&lt;</span><span class="token plain"> n</span><span class="token punctuation">;</span><span class="token plain"> i</span><span class="token operator">++</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    dp</span><span class="token punctuation">[</span><span class="token plain">i</span><span class="token punctuation">]</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token keyword">new</span><span class="token plain"> </span><span class="token class-name">Array</span><span class="token punctuation">(</span><span class="token plain">n</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">
</span></div><div class="token-line"><span class="token plain">  </span><span class="token keyword control-flow">for</span><span class="token plain"> </span><span class="token punctuation">(</span><span class="token keyword">let</span><span class="token plain"> i </span><span class="token operator">=</span><span class="token plain"> </span><span class="token number">0</span><span class="token punctuation">;</span><span class="token plain"> i </span><span class="token operator">&lt;</span><span class="token plain"> n</span><span class="token punctuation">;</span><span class="token plain"> i</span><span class="token operator">++</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token keyword control-flow">for</span><span class="token plain"> </span><span class="token punctuation">(</span><span class="token keyword">let</span><span class="token plain"> j </span><span class="token operator">=</span><span class="token plain"> </span><span class="token number">0</span><span class="token punctuation">;</span><span class="token plain"> j </span><span class="token operator">&lt;</span><span class="token plain"> n</span><span class="token punctuation">;</span><span class="token plain"> j</span><span class="token operator">++</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">      dp</span><span class="token punctuation">[</span><span class="token plain">i</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token plain">j</span><span class="token punctuation">]</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> grid</span><span class="token punctuation">[</span><span class="token plain">i</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token plain">j</span><span class="token punctuation">]</span><span class="token plain"> </span><span class="token operator">?</span><span class="token plain"> </span><span class="token number">0</span><span class="token plain"> </span><span class="token operator">:</span><span class="token plain"> </span><span class="token number">Infinity</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token comment">// 从左上向右下遍历</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token keyword control-flow">for</span><span class="token plain"> </span><span class="token punctuation">(</span><span class="token keyword">let</span><span class="token plain"> i </span><span class="token operator">=</span><span class="token plain"> </span><span class="token number">0</span><span class="token punctuation">;</span><span class="token plain"> i </span><span class="token operator">&lt;</span><span class="token plain"> n</span><span class="token punctuation">;</span><span class="token plain"> i</span><span class="token operator">++</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token keyword control-flow">for</span><span class="token plain"> </span><span class="token punctuation">(</span><span class="token keyword">let</span><span class="token plain"> j </span><span class="token operator">=</span><span class="token plain"> </span><span class="token number">0</span><span class="token punctuation">;</span><span class="token plain"> j </span><span class="token operator">&lt;</span><span class="token plain"> n</span><span class="token punctuation">;</span><span class="token plain"> j</span><span class="token operator">++</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">      </span><span class="token keyword control-flow">if</span><span class="token plain"> </span><span class="token punctuation">(</span><span class="token plain">grid</span><span class="token punctuation">[</span><span class="token plain">i</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token plain">j</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token keyword control-flow">continue</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">      </span><span class="token keyword control-flow">if</span><span class="token plain"> </span><span class="token punctuation">(</span><span class="token plain">i </span><span class="token operator">-</span><span class="token plain"> </span><span class="token number">1</span><span class="token plain"> </span><span class="token operator">&gt;=</span><span class="token plain"> </span><span class="token number">0</span><span class="token punctuation">)</span><span class="token plain"> dp</span><span class="token punctuation">[</span><span class="token plain">i</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token plain">j</span><span class="token punctuation">]</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token known-class-name class-name">Math</span><span class="token punctuation">.</span><span class="token method function property-access">min</span><span class="token punctuation">(</span><span class="token plain">dp</span><span class="token punctuation">[</span><span class="token plain">i</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token plain">j</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token plain"> dp</span><span class="token punctuation">[</span><span class="token plain">i </span><span class="token operator">-</span><span class="token plain"> </span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token plain">j</span><span class="token punctuation">]</span><span class="token plain"> </span><span class="token operator">+</span><span class="token plain"> </span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">      </span><span class="token keyword control-flow">if</span><span class="token plain"> </span><span class="token punctuation">(</span><span class="token plain">j </span><span class="token operator">-</span><span class="token plain"> </span><span class="token number">1</span><span class="token plain"> </span><span class="token operator">&gt;=</span><span class="token plain"> </span><span class="token number">0</span><span class="token punctuation">)</span><span class="token plain"> dp</span><span class="token punctuation">[</span><span class="token plain">i</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token plain">j</span><span class="token punctuation">]</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token known-class-name class-name">Math</span><span class="token punctuation">.</span><span class="token method function property-access">min</span><span class="token punctuation">(</span><span class="token plain">dp</span><span class="token punctuation">[</span><span class="token plain">i</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token plain">j</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token plain"> dp</span><span class="token punctuation">[</span><span class="token plain">i</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token plain">j </span><span class="token operator">-</span><span class="token plain"> </span><span class="token number">1</span><span class="token punctuation">]</span><span class="token plain"> </span><span class="token operator">+</span><span class="token plain"> </span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token comment">// 从右下向左上遍历</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token keyword control-flow">for</span><span class="token plain"> </span><span class="token punctuation">(</span><span class="token keyword">let</span><span class="token plain"> i </span><span class="token operator">=</span><span class="token plain"> n </span><span class="token operator">-</span><span class="token plain"> </span><span class="token number">1</span><span class="token punctuation">;</span><span class="token plain"> i </span><span class="token operator">&gt;=</span><span class="token plain"> </span><span class="token number">0</span><span class="token punctuation">;</span><span class="token plain"> i</span><span class="token operator">--</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token keyword control-flow">for</span><span class="token plain"> </span><span class="token punctuation">(</span><span class="token keyword">let</span><span class="token plain"> j </span><span class="token operator">=</span><span class="token plain"> n </span><span class="token operator">-</span><span class="token plain"> </span><span class="token number">1</span><span class="token punctuation">;</span><span class="token plain"> j </span><span class="token operator">&gt;=</span><span class="token plain"> </span><span class="token number">0</span><span class="token punctuation">;</span><span class="token plain"> j</span><span class="token operator">--</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">      </span><span class="token keyword control-flow">if</span><span class="token plain"> </span><span class="token punctuation">(</span><span class="token plain">grid</span><span class="token punctuation">[</span><span class="token plain">i</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token plain">j</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token keyword control-flow">continue</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">      </span><span class="token keyword control-flow">if</span><span class="token plain"> </span><span class="token punctuation">(</span><span class="token plain">i </span><span class="token operator">+</span><span class="token plain"> </span><span class="token number">1</span><span class="token plain"> </span><span class="token operator">&lt;</span><span class="token plain"> n</span><span class="token punctuation">)</span><span class="token plain"> dp</span><span class="token punctuation">[</span><span class="token plain">i</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token plain">j</span><span class="token punctuation">]</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token known-class-name class-name">Math</span><span class="token punctuation">.</span><span class="token method function property-access">min</span><span class="token punctuation">(</span><span class="token plain">dp</span><span class="token punctuation">[</span><span class="token plain">i</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token plain">j</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token plain"> dp</span><span class="token punctuation">[</span><span class="token plain">i </span><span class="token operator">+</span><span class="token plain"> </span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token plain">j</span><span class="token punctuation">]</span><span class="token plain"> </span><span class="token operator">+</span><span class="token plain"> </span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">      </span><span class="token keyword control-flow">if</span><span class="token plain"> </span><span class="token punctuation">(</span><span class="token plain">j </span><span class="token operator">+</span><span class="token plain"> </span><span class="token number">1</span><span class="token plain"> </span><span class="token operator">&lt;</span><span class="token plain"> n</span><span class="token punctuation">)</span><span class="token plain"> dp</span><span class="token punctuation">[</span><span class="token plain">i</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token plain">j</span><span class="token punctuation">]</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token known-class-name class-name">Math</span><span class="token punctuation">.</span><span class="token method function property-access">min</span><span class="token punctuation">(</span><span class="token plain">dp</span><span class="token punctuation">[</span><span class="token plain">i</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token plain">j</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token plain"> dp</span><span class="token punctuation">[</span><span class="token plain">i</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token plain">j </span><span class="token operator">+</span><span class="token plain"> </span><span class="token number">1</span><span class="token punctuation">]</span><span class="token plain"> </span><span class="token operator">+</span><span class="token plain"> </span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token keyword">let</span><span class="token plain"> ans </span><span class="token operator">=</span><span class="token plain"> </span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token keyword control-flow">for</span><span class="token plain"> </span><span class="token punctuation">(</span><span class="token keyword">let</span><span class="token plain"> i </span><span class="token operator">=</span><span class="token plain"> </span><span class="token number">0</span><span class="token punctuation">;</span><span class="token plain"> i </span><span class="token operator">&lt;</span><span class="token plain"> n</span><span class="token punctuation">;</span><span class="token plain"> i</span><span class="token operator">++</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token keyword control-flow">for</span><span class="token plain"> </span><span class="token punctuation">(</span><span class="token keyword">let</span><span class="token plain"> j </span><span class="token operator">=</span><span class="token plain"> </span><span class="token number">0</span><span class="token punctuation">;</span><span class="token plain"> j </span><span class="token operator">&lt;</span><span class="token plain"> n</span><span class="token punctuation">;</span><span class="token plain"> j</span><span class="token operator">++</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">      </span><span class="token keyword control-flow">if</span><span class="token plain"> </span><span class="token punctuation">(</span><span class="token operator">!</span><span class="token plain">grid</span><span class="token punctuation">[</span><span class="token plain">i</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token plain">j</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token plain"> ans </span><span class="token operator">=</span><span class="token plain"> </span><span class="token known-class-name class-name">Math</span><span class="token punctuation">.</span><span class="token method function property-access">max</span><span class="token punctuation">(</span><span class="token plain">ans</span><span class="token punctuation">,</span><span class="token plain"> dp</span><span class="token punctuation">[</span><span class="token plain">i</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token plain">j</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token keyword control-flow">if</span><span class="token plain"> </span><span class="token punctuation">(</span><span class="token plain">ans </span><span class="token operator">===</span><span class="token plain"> </span><span class="token number">Infinity</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token keyword control-flow">return</span><span class="token plain"> </span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token punctuation">}</span><span class="token plain"> </span><span class="token keyword control-flow">else</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token keyword control-flow">return</span><span class="token plain"> ans</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">}</span><span class="token punctuation">;</span></div></pre></div><h2 id="圆圈中最后剩下的数字"><a aria-hidden="true" tabindex="-1" href="/enhanfe//algorithms/day#圆圈中最后剩下的数字"><span class="icon icon-link"></span></a><a target="_blank" rel="noopener noreferrer" href="https://leetcode-cn.com/problems/yuan-quan-zhong-zui-hou-sheng-xia-de-shu-zi-lcof/">圆圈中最后剩下的数字<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="__dumi-default-external-link-icon"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></h2><h3 id="描述-6"><a aria-hidden="true" tabindex="-1" href="/enhanfe//algorithms/day#描述-6"><span class="icon icon-link"></span></a>描述</h3><p>0,1,,n-1 这 n 个数字排成一个圆圈，从数字 0 开始，每次从这个圆圈里删除第 m 个数字。求出这个圆圈里剩下的最后一个数字。</p><p>例如，0、1、2、3、4 这 5 个数字组成一个圆圈，从数字 0 开始每次删除第 3 个数字，则删除的前 4 个数字依次是 2、0、4、1，因此最后剩下的数字是 3。</p><p><strong>示例 1</strong></p><div class="__dumi-default-code-block"><pre class="prism-code language-unknown"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line"><span class="token plain">输入: n = 5, m = 3</span></div><div class="token-line"><span class="token plain">输出: 3</span></div></pre></div><p><strong>示例 2</strong></p><div class="__dumi-default-code-block"><pre class="prism-code language-unknown"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line"><span class="token plain">输入: n = 10, m = 17</span></div><div class="token-line"><span class="token plain">输出: 2</span></div></pre></div><p><strong>限制</strong></p><ul><li><code>1 &lt;= n &lt;= 10^5</code></li><li><code>1 &lt;= m &lt;= 10^6</code></li></ul><h3 id="分析-6"><a aria-hidden="true" tabindex="-1" href="/enhanfe//algorithms/day#分析-6"><span class="icon icon-link"></span></a>分析</h3><p>著名约瑟夫环问题，可以使用递归实现，但是有存在堆栈溢出问题。分析规律可以使用循环解决。</p><p>我们以 <code>n=5, m=3</code>为例</p><p><img src="http://walker-markdown.oss-cn-shenzhen.aliyuncs.com/uPic/PrCV3G.png" alt="PrCV3G"/></p><p>很明显我们每次删除的是第 mm 个数字，我都标红了。</p><p>第一轮是 <code>[0, 1, 2, 3, 4]</code> ，所以是 <code>[0, 1, 2, 3, 4]</code> 这个数组的多个复制。这一轮 <code>2</code> 删除了。</p><p>第二轮开始时，从 <code>3</code> 开始，所以是 <code>[3, 4, 0, 1]</code> 这个数组的多个复制。这一轮 <code>0</code> 删除了。</p><p>第三轮开始时，从 <code>1</code> 开始，所以是 <code>[1, 3, 4]</code> 这个数组的多个复制。这一轮 <code>4</code> 删除了。</p><p>第四轮开始时，还是从 <code>1</code> 开始，所以是 <code>[1, 3]</code> 这个数组的多个复制。这一轮 <code>1</code> 删除了。</p><p>最后剩下的数字是 <code>3</code>。</p><p>图中的绿色的线指的是新的一轮的开头是怎么指定的，每次都是固定地向前移位 <code>m</code> 个位置。</p><p>然后我们从最后剩下的 <code>3</code> 倒着看，我们可以反向推出这个数字在之前每个轮次的位置。</p><p>最后剩下的 <code>3</code> 的下标是 <code>0</code>。</p><p>第四轮反推，补上 <code>m</code> 个位置，然后模上当时的数组大小 <code>2</code>，位置是 <code>(0 + 3) % 2 = 1</code>。</p><p>第三轮反推，补上 <code>m</code> 个位置，然后模上当时的数组大小 <code>3</code>，位置是 <code>(1 + 3) % 3 = 1</code>。</p><p>第二轮反推，补上 <code>m</code> 个位置，然后模上当时的数组大小 <code>4</code>，位置是 <code>(1 + 3) % 4 = 0</code>。</p><p>第三轮反推，补上 <code>m</code> 个位置，然后模上当时的数组大小 <code>5</code>，位置是 <code>(0 + 3) % 5 = 3</code>。</p><p>所以最终剩下的数字的下标就是 <code>3</code>。因为数组是从 <code>0</code> 开始的，所以最终的答案就是 <code>3</code>。</p><p>总结一下反推的过程，就是 <code>(当前index + m) % 上一轮剩余数字的个数</code>。</p><p><strong>复杂度分析</strong></p><ul><li>时间复杂度：O(n)<em>O</em>(<em>n</em>)，需要求解的函数值有<code>n</code>个。</li><li>空间复杂度：O(1)<em>O</em>(1)，只使用常数个变量。</li></ul><h3 id="代码-4"><a aria-hidden="true" tabindex="-1" href="/enhanfe//algorithms/day#代码-4"><span class="icon icon-link"></span></a>代码</h3><div class="__dumi-default-code-block"><pre class="prism-code language-js"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line"><span class="token comment">/**</span></div><div class="token-line"><span class="token comment"> * @param {number} n</span></div><div class="token-line"><span class="token comment"> * @param {number} m</span></div><div class="token-line"><span class="token comment"> * @return {number}</span></div><div class="token-line"><span class="token comment"> */</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token keyword">var</span><span class="token plain"> </span><span class="token function-variable function">lastRemaining</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">n</span><span class="token parameter punctuation">,</span><span class="token parameter"> m</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token keyword">let</span><span class="token plain"> res </span><span class="token operator">=</span><span class="token plain"> </span><span class="token number">0</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token keyword control-flow">for</span><span class="token plain"> </span><span class="token punctuation">(</span><span class="token keyword">let</span><span class="token plain"> i </span><span class="token operator">=</span><span class="token plain"> </span><span class="token number">2</span><span class="token punctuation">;</span><span class="token plain"> i </span><span class="token operator">!=</span><span class="token plain"> n </span><span class="token operator">+</span><span class="token plain"> </span><span class="token number">1</span><span class="token punctuation">;</span><span class="token plain"> </span><span class="token operator">++</span><span class="token plain">i</span><span class="token punctuation">)</span><span class="token plain"> res </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation">(</span><span class="token plain">m </span><span class="token operator">+</span><span class="token plain"> res</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token operator">%</span><span class="token plain"> i</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token keyword control-flow">return</span><span class="token plain"> res</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">}</span><span class="token punctuation">;</span></div></pre></div><h2 id="有效括号的嵌套深度"><a aria-hidden="true" tabindex="-1" href="/enhanfe//algorithms/day#有效括号的嵌套深度"><span class="icon icon-link"></span></a><a target="_blank" rel="noopener noreferrer" href="https://leetcode-cn.com/problems/maximum-nesting-depth-of-two-valid-parentheses-strings/">有效括号的嵌套深度<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="__dumi-default-external-link-icon"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></h2><h3 id="描述-7"><a aria-hidden="true" tabindex="-1" href="/enhanfe//algorithms/day#描述-7"><span class="icon icon-link"></span></a>描述</h3><p><strong>有效括号字符串</strong> 定义：对于每个左括号，都能找到与之对应的右括号，反之亦然。详情参见题末 **「有效括号字符串」**部分。</p><p><strong>嵌套深度 depth 定义</strong>：即有效括号字符串嵌套的层数，depth(A) 表示有效括号字符串 A 的嵌套深度。详情参见题末**「嵌套深度」**部分。</p><p>有效括号字符串类型与对应的嵌套深度计算方法如下图所示：</p><p><img src="http://walker-markdown.oss-cn-shenzhen.aliyuncs.com/uPic/0HEQTU.jpg" alt="0HEQTU"/></p><p>给你一个「有效括号字符串」 <code>seq</code>，请你将其分成两个不相交的有效括号字符串，<code>A</code> 和 <code>B</code>，并使这两个字符串的深度最小。</p><ul><li>不相交：每个 <code>seq[i]</code> 只能分给 <code>A</code> 和 <code>B</code> 二者中的一个，不能既属于 <code>A</code> 也属于 <code>B</code> 。</li><li><code>A</code> 或 <code>B</code> 中的元素在原字符串中可以不连续。</li><li><code>A.length + B.length = seq.length</code></li><li>深度最小：<code>max(depth(A), depth(B))</code> 的可能取值最小。</li></ul><p>划分方案用一个长度为 seq.length 的答案数组 answer 表示，编码规则如下：</p><ul><li><code>answer[i] = 0</code>，<code>seq[i]</code> 分给 <code>A</code> 。</li><li><code>answer[i] = 1</code>，<code>seq[i]</code> 分给 <code>B</code> 。</li></ul><p>如果存在多个满足要求的答案，只需返回其中任意 一个 即可。</p><p><strong>示例 1</strong></p><div class="__dumi-default-code-block"><pre class="prism-code language-unknown"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line"><span class="token plain">输入：seq = &quot;(()())&quot;</span></div><div class="token-line"><span class="token plain">输出：[0,1,1,1,1,0]</span></div></pre></div><p><strong>示例 2</strong></p><div class="__dumi-default-code-block"><pre class="prism-code language-unknown"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line"><span class="token plain">输入：seq = &quot;()(())()&quot;</span></div><div class="token-line"><span class="token plain">输出：[0,0,0,1,1,0,1,1]</span></div><div class="token-line"><span class="token plain">解释：本示例答案不唯一。</span></div><div class="token-line"><span class="token plain">按此输出 A = &quot;()()&quot;, B = &quot;()()&quot;, max(depth(A), depth(B)) = 1，它们的深度最小。</span></div><div class="token-line"><span class="token plain">像 [1,1,1,0,0,1,1,1]，也是正确结果，其中 A = &quot;()()()&quot;, B = &quot;()&quot;, max(depth(A), depth(B)) = 1 。</span></div></pre></div><p><strong>提示</strong></p><ul><li><code>1 &lt;= text.size &lt;= 10000</code></li></ul><p><strong>有效括号字符串：</strong></p><div class="__dumi-default-code-block"><pre class="prism-code language-unknown"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line"><span class="token plain">仅由 &quot;(&quot; 和 &quot;)&quot; 构成的字符串，对于每个左括号，都能找到与之对应的右括号，反之亦然。</span></div><div class="token-line"><span class="token plain">下述几种情况同样属于有效括号字符串：</span></div><div class="token-line"><span class="token plain">
</span></div><div class="token-line"><span class="token plain">  1. 空字符串</span></div><div class="token-line"><span class="token plain">  2. 连接，可以记作 AB（A 与 B 连接），其中 A 和 B 都是有效括号字符串</span></div><div class="token-line"><span class="token plain">  3. 嵌套，可以记作 (A)，其中 A 是有效括号字符串</span></div></pre></div><p><strong>嵌套深度：</strong></p><div class="__dumi-default-code-block"><pre class="prism-code language-unknown"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line"><span class="token plain">类似地，我们可以定义任意有效括号字符串 s 的 嵌套深度 depth(S)：</span></div><div class="token-line"><span class="token plain">
</span></div><div class="token-line"><span class="token plain">  1. s 为空时，depth(&quot;&quot;) = 0</span></div><div class="token-line"><span class="token plain">  2. s 为 A 与 B 连接时，depth(A + B) = max(depth(A), depth(B))，其中 A 和 B 都是有效括号字符串</span></div><div class="token-line"><span class="token plain">  3. s 为嵌套情况，depth(&quot;(&quot; + A + &quot;)&quot;) = 1 + depth(A)，其中 A 是有效括号字符串</span></div><div class="token-line"><span class="token plain">
</span></div><div class="token-line"><span class="token plain">例如：&quot;&quot;，&quot;()()&quot;，和 &quot;()(()())&quot; 都是有效括号字符串，嵌套深度分别为 0，1，2，而 &quot;)(&quot; 和 &quot;(()&quot; 都不是有效括号字符串。</span></div></pre></div><h3 id="分析-7"><a aria-hidden="true" tabindex="-1" href="/enhanfe//algorithms/day#分析-7"><span class="icon icon-link"></span></a>分析</h3><p>这道题其实主要在审题，代码如下挺简单，新匹配到括号则++然后%2，否则--然后%2。</p><h3 id="代码-5"><a aria-hidden="true" tabindex="-1" href="/enhanfe//algorithms/day#代码-5"><span class="icon icon-link"></span></a>代码</h3><div class="__dumi-default-code-block"><pre class="prism-code language-js"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line"><span class="token comment">/**</span></div><div class="token-line"><span class="token comment"> * @param {string} seq</span></div><div class="token-line"><span class="token comment"> * @return {number[]}</span></div><div class="token-line"><span class="token comment"> */</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token keyword">let</span><span class="token plain"> </span><span class="token function-variable function">maxDepthAfterSplit</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation">(</span><span class="token parameter">seq</span><span class="token parameter punctuation">,</span><span class="token parameter"> dep </span><span class="token parameter operator">=</span><span class="token parameter"> </span><span class="token parameter number">0</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token arrow operator">=&gt;</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token keyword control-flow">return</span><span class="token plain"> seq</span><span class="token punctuation">.</span><span class="token method function property-access">split</span><span class="token punctuation">(</span><span class="token string">&#x27;&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token method function property-access">map</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token plain"> </span><span class="token arrow operator">=&gt;</span><span class="token plain"> </span><span class="token punctuation">(</span><span class="token plain">e </span><span class="token operator">===</span><span class="token plain"> </span><span class="token string">&#x27;(&#x27;</span><span class="token plain"> </span><span class="token operator">?</span><span class="token plain"> dep</span><span class="token operator">++</span><span class="token plain"> </span><span class="token operator">%</span><span class="token plain"> </span><span class="token number">2</span><span class="token plain"> </span><span class="token operator">:</span><span class="token plain"> </span><span class="token operator">--</span><span class="token plain">dep </span><span class="token operator">%</span><span class="token plain"> </span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">}</span><span class="token punctuation">;</span></div></pre></div><h2 id="生命游戏"><a aria-hidden="true" tabindex="-1" href="/enhanfe//algorithms/day#生命游戏"><span class="icon icon-link"></span></a><a target="_blank" rel="noopener noreferrer" href="https://leetcode-cn.com/problems/game-of-life/">生命游戏<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="__dumi-default-external-link-icon"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></h2><h3 id="描述-8"><a aria-hidden="true" tabindex="-1" href="/enhanfe//algorithms/day#描述-8"><span class="icon icon-link"></span></a>描述</h3><p>根据 百度百科 ，生命游戏，简称为生命，是英国数学家约翰·何顿·康威在 1970 年发明的细胞自动机。</p><p>给定一个包含 m × n 个格子的面板，每一个格子都可以看成是一个细胞。每个细胞都具有一个初始状态：1 即为活细胞（live），或 0 即为死细胞（dead）。每个细胞与其八个相邻位置（水平，垂直，对角线）的细胞都遵循以下四条生存定律：</p><ol><li>如果活细胞周围八个位置的活细胞数少于两个，则该位置活细胞死亡；</li><li>如果活细胞周围八个位置有两个或三个活细胞，则该位置活细胞仍然存活；</li><li>如果活细胞周围八个位置有超过三个活细胞，则该位置活细胞死亡；</li><li>如果死细胞周围正好有三个活细胞，则该位置死细胞复活；</li></ol><p>根据当前状态，写一个函数来计算面板上所有细胞的下一个（一次更新后的）状态。下一个状态是通过将上述规则同时应用于当前状态下的每个细胞所形成的，其中细胞的出生和死亡是同时发生的。</p><p><strong>示例 1</strong></p><div class="__dumi-default-code-block"><pre class="prism-code language-unknown"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line"><span class="token plain">输入：</span></div><div class="token-line"><span class="token plain">[</span></div><div class="token-line"><span class="token plain">  [0,1,0],</span></div><div class="token-line"><span class="token plain">  [0,0,1],</span></div><div class="token-line"><span class="token plain">  [1,1,1],</span></div><div class="token-line"><span class="token plain">  [0,0,0]</span></div><div class="token-line"><span class="token plain">]</span></div><div class="token-line"><span class="token plain">输出：</span></div><div class="token-line"><span class="token plain">[</span></div><div class="token-line"><span class="token plain">  [0,0,0],</span></div><div class="token-line"><span class="token plain">  [1,0,1],</span></div><div class="token-line"><span class="token plain">  [0,1,1],</span></div><div class="token-line"><span class="token plain">  [0,1,0]</span></div><div class="token-line"><span class="token plain">]</span></div></pre></div><h3 id="分析-8"><a aria-hidden="true" tabindex="-1" href="/enhanfe//algorithms/day#分析-8"><span class="icon icon-link"></span></a>分析</h3><p>这道题题意是：扫描一个数字，看他附近的 8 个元素（可能没有 8 个），分别对应以上列出的 4 个条件，更新数字。</p><h3 id="代码-6"><a aria-hidden="true" tabindex="-1" href="/enhanfe//algorithms/day#代码-6"><span class="icon icon-link"></span></a>代码</h3><div class="__dumi-default-code-block"><pre class="prism-code language-js"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line"><span class="token keyword">var</span><span class="token plain"> </span><span class="token function-variable function">gameOfLife</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">board</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token keyword">let</span><span class="token plain"> row </span><span class="token operator">=</span><span class="token plain"> board</span><span class="token punctuation">.</span><span class="token property-access">length</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token keyword">let</span><span class="token plain"> col </span><span class="token operator">=</span><span class="token plain"> board</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token property-access">length</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token keyword">let</span><span class="token plain"> </span><span class="token function-variable function">helper</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">ro</span><span class="token parameter punctuation">,</span><span class="token parameter"> co</span><span class="token parameter punctuation">,</span><span class="token parameter"> copy</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token keyword">let</span><span class="token plain"> count </span><span class="token operator">=</span><span class="token plain"> </span><span class="token number">0</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token keyword control-flow">if</span><span class="token plain"> </span><span class="token punctuation">(</span><span class="token plain">ro </span><span class="token operator">&gt;</span><span class="token plain"> </span><span class="token number">0</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">      count </span><span class="token operator">+=</span><span class="token plain"> copy</span><span class="token punctuation">[</span><span class="token plain">ro </span><span class="token operator">-</span><span class="token plain"> </span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token plain">co</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">      </span><span class="token keyword control-flow">if</span><span class="token plain"> </span><span class="token punctuation">(</span><span class="token plain">co </span><span class="token operator">&gt;</span><span class="token plain"> </span><span class="token number">0</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">        count </span><span class="token operator">+=</span><span class="token plain"> copy</span><span class="token punctuation">[</span><span class="token plain">ro </span><span class="token operator">-</span><span class="token plain"> </span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token plain">co </span><span class="token operator">-</span><span class="token plain"> </span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">      </span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">      </span><span class="token keyword control-flow">if</span><span class="token plain"> </span><span class="token punctuation">(</span><span class="token plain">co </span><span class="token operator">&lt;</span><span class="token plain"> col </span><span class="token operator">-</span><span class="token plain"> </span><span class="token number">1</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">        count </span><span class="token operator">+=</span><span class="token plain"> copy</span><span class="token punctuation">[</span><span class="token plain">ro </span><span class="token operator">-</span><span class="token plain"> </span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token plain">co </span><span class="token operator">+</span><span class="token plain"> </span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">      </span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token keyword control-flow">if</span><span class="token plain"> </span><span class="token punctuation">(</span><span class="token plain">ro </span><span class="token operator">&lt;</span><span class="token plain"> row </span><span class="token operator">-</span><span class="token plain"> </span><span class="token number">1</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">      count </span><span class="token operator">+=</span><span class="token plain"> copy</span><span class="token punctuation">[</span><span class="token plain">ro </span><span class="token operator">+</span><span class="token plain"> </span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token plain">co</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">      </span><span class="token keyword control-flow">if</span><span class="token plain"> </span><span class="token punctuation">(</span><span class="token plain">co </span><span class="token operator">&gt;</span><span class="token plain"> </span><span class="token number">0</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">        count </span><span class="token operator">+=</span><span class="token plain"> copy</span><span class="token punctuation">[</span><span class="token plain">ro </span><span class="token operator">+</span><span class="token plain"> </span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token plain">co </span><span class="token operator">-</span><span class="token plain"> </span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">      </span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">      </span><span class="token keyword control-flow">if</span><span class="token plain"> </span><span class="token punctuation">(</span><span class="token plain">co </span><span class="token operator">&lt;</span><span class="token plain"> col </span><span class="token operator">-</span><span class="token plain"> </span><span class="token number">1</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">        count </span><span class="token operator">+=</span><span class="token plain"> copy</span><span class="token punctuation">[</span><span class="token plain">ro </span><span class="token operator">+</span><span class="token plain"> </span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token plain">co </span><span class="token operator">+</span><span class="token plain"> </span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">      </span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token keyword control-flow">if</span><span class="token plain"> </span><span class="token punctuation">(</span><span class="token plain">co </span><span class="token operator">&gt;</span><span class="token plain"> </span><span class="token number">0</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">      count </span><span class="token operator">+=</span><span class="token plain"> copy</span><span class="token punctuation">[</span><span class="token plain">ro</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token plain">co </span><span class="token operator">-</span><span class="token plain"> </span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token keyword control-flow">if</span><span class="token plain"> </span><span class="token punctuation">(</span><span class="token plain">co </span><span class="token operator">&lt;</span><span class="token plain"> col </span><span class="token operator">-</span><span class="token plain"> </span><span class="token number">1</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">      count </span><span class="token operator">+=</span><span class="token plain"> copy</span><span class="token punctuation">[</span><span class="token plain">ro</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token plain">co </span><span class="token operator">+</span><span class="token plain"> </span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token comment">//根据状态进行归类，true为状态变化的，即死变活，活变死</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token keyword control-flow">if</span><span class="token plain"> </span><span class="token punctuation">(</span><span class="token plain">copy</span><span class="token punctuation">[</span><span class="token plain">ro</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token plain">co</span><span class="token punctuation">]</span><span class="token plain"> </span><span class="token operator">==</span><span class="token plain"> </span><span class="token number">1</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">      </span><span class="token keyword control-flow">if</span><span class="token plain"> </span><span class="token punctuation">(</span><span class="token plain">count </span><span class="token operator">&lt;</span><span class="token plain"> </span><span class="token number">2</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">        </span><span class="token keyword control-flow">return</span><span class="token plain"> </span><span class="token boolean">true</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">      </span><span class="token punctuation">}</span><span class="token plain"> </span><span class="token keyword control-flow">else</span><span class="token plain"> </span><span class="token keyword control-flow">if</span><span class="token plain"> </span><span class="token punctuation">(</span><span class="token plain">count </span><span class="token operator">&gt;</span><span class="token plain"> </span><span class="token number">3</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">        </span><span class="token keyword control-flow">return</span><span class="token plain"> </span><span class="token boolean">true</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">      </span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token keyword control-flow">if</span><span class="token plain"> </span><span class="token punctuation">(</span><span class="token plain">copy</span><span class="token punctuation">[</span><span class="token plain">ro</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token plain">co</span><span class="token punctuation">]</span><span class="token plain"> </span><span class="token operator">==</span><span class="token plain"> </span><span class="token number">0</span><span class="token plain"> </span><span class="token operator">&amp;&amp;</span><span class="token plain"> count </span><span class="token operator">==</span><span class="token plain"> </span><span class="token number">3</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token keyword control-flow">return</span><span class="token plain"> </span><span class="token boolean">true</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token keyword control-flow">return</span><span class="token plain"> </span><span class="token boolean">false</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token keyword">let</span><span class="token plain"> copy </span><span class="token operator">=</span><span class="token plain"> </span><span class="token known-class-name class-name">JSON</span><span class="token punctuation">.</span><span class="token method function property-access">parse</span><span class="token punctuation">(</span><span class="token known-class-name class-name">JSON</span><span class="token punctuation">.</span><span class="token method function property-access">stringify</span><span class="token punctuation">(</span><span class="token plain">board</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token keyword control-flow">for</span><span class="token plain"> </span><span class="token punctuation">(</span><span class="token keyword">let</span><span class="token plain"> i </span><span class="token operator">=</span><span class="token plain"> </span><span class="token number">0</span><span class="token punctuation">;</span><span class="token plain"> i </span><span class="token operator">&lt;</span><span class="token plain"> row</span><span class="token punctuation">;</span><span class="token plain"> i</span><span class="token operator">++</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token keyword control-flow">for</span><span class="token plain"> </span><span class="token punctuation">(</span><span class="token keyword">let</span><span class="token plain"> j </span><span class="token operator">=</span><span class="token plain"> </span><span class="token number">0</span><span class="token punctuation">;</span><span class="token plain"> j </span><span class="token operator">&lt;</span><span class="token plain"> col</span><span class="token punctuation">;</span><span class="token plain"> j</span><span class="token operator">++</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">      </span><span class="token keyword control-flow">if</span><span class="token plain"> </span><span class="token punctuation">(</span><span class="token function">helper</span><span class="token punctuation">(</span><span class="token plain">i</span><span class="token punctuation">,</span><span class="token plain"> j</span><span class="token punctuation">,</span><span class="token plain"> copy</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">        </span><span class="token comment">//直接通过异或运算变更状态</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">        board</span><span class="token punctuation">[</span><span class="token plain">i</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token plain">j</span><span class="token punctuation">]</span><span class="token plain"> </span><span class="token operator">^=</span><span class="token plain"> </span><span class="token number">1</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">      </span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">}</span><span class="token punctuation">;</span></div></pre></div><h2 id="字符串转换整数-atoi"><a aria-hidden="true" tabindex="-1" href="/enhanfe//algorithms/day#字符串转换整数-atoi"><span class="icon icon-link"></span></a><a target="_blank" rel="noopener noreferrer" href="https://leetcode-cn.com/problems/string-to-integer-atoi/">字符串转换整数 (atoi)<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="__dumi-default-external-link-icon"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></h2><h3 id="描述-9"><a aria-hidden="true" tabindex="-1" href="/enhanfe//algorithms/day#描述-9"><span class="icon icon-link"></span></a>描述</h3><p>请你来实现一个 atoi 函数，使其能将字符串转换成整数。</p><p>首先，该函数会根据需要丢弃无用的开头空格字符，直到寻找到第一个非空格的字符为止。接下来的转化规则如下：</p><ul><li>如果第一个非空字符为正或者负号时，则将该符号与之后面尽可能多的连续数字字符组合起来，形成一个有符号整数。</li></ul><ul><li><p>假如第一个非空字符是数字，则直接将其与之后连续的数字字符组合起来，形成一个整数。</p></li><li><p>该字符串在有效的整数部分之后也可能会存在多余的字符，那么这些字符可以被忽略，它们对函数不应该造成影响。</p></li></ul><p>注意：假如该字符串中的第一个非空格字符不是一个有效整数字符、字符串为空或字符串仅包含空白字符时，则你的函数不需要进行转换，即无法进行有效转换。</p><p>在任何情况下，若函数不能进行有效的转换时，请返回 0 。</p><p><strong>示例 1</strong></p><div class="__dumi-default-code-block"><pre class="prism-code language-unknown"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line"><span class="token plain">输入: &quot;42&quot;</span></div><div class="token-line"><span class="token plain">输出: 42</span></div></pre></div><p><strong>示例 2</strong></p><div class="__dumi-default-code-block"><pre class="prism-code language-js"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line"><span class="token plain">输入</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string">&quot;   -42&quot;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">输出</span><span class="token operator">:</span><span class="token plain"> </span><span class="token operator">-</span><span class="token number">42</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">解释</span><span class="token operator">:</span><span class="token plain"> 第一个非空白字符为 </span><span class="token string">&#x27;-&#x27;</span><span class="token punctuation">,</span><span class="token plain"> 它是一个负号。</span></div><div class="token-line"><span class="token plain">     我们尽可能将负号与后面所有连续出现的数字组合起来，最后得到 </span><span class="token operator">-</span><span class="token number">42</span><span class="token plain"> 。</span></div></pre></div><p><strong>示例 3</strong></p><div class="__dumi-default-code-block"><pre class="prism-code language-js"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line"><span class="token plain">输入</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string">&quot;4193 with words&quot;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">输出</span><span class="token operator">:</span><span class="token plain"> </span><span class="token number">4193</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">解释</span><span class="token operator">:</span><span class="token plain"> 转换截止于数字 </span><span class="token string">&#x27;3&#x27;</span><span class="token plain"> ，因为它的下一个字符不为数字。</span></div></pre></div><p><strong>示例 4</strong></p><div class="__dumi-default-code-block"><pre class="prism-code language-unknown"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line"><span class="token plain">输入: &quot;words and 987&quot;</span></div><div class="token-line"><span class="token plain">输出: 0</span></div><div class="token-line"><span class="token plain">解释: 第一个非空字符是 &#x27;w&#x27;, 但它不是数字或正、负号。</span></div><div class="token-line"><span class="token plain">     因此无法执行有效的转换。</span></div></pre></div><p><strong>示例 5</strong></p><div class="__dumi-default-code-block"><pre class="prism-code language-unknown"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line"><span class="token plain">输入: &quot;-91283472332&quot;</span></div><div class="token-line"><span class="token plain">输出: -2147483648</span></div><div class="token-line"><span class="token plain">解释: 数字 &quot;-91283472332&quot; 超过 32 位有符号整数范围。</span></div><div class="token-line"><span class="token plain">     因此返回 INT_MIN (−2^31) 。</span></div></pre></div><h3 id="分析-9"><a aria-hidden="true" tabindex="-1" href="/enhanfe//algorithms/day#分析-9"><span class="icon icon-link"></span></a>分析</h3><p>JavaScript 中提供该功能函数，<code>parseInt</code> 满足题目表述的需求。</p><p>我们分析，字符串首字符只能是数字、符号或空格，空格需要清除，然后逐步向后匹配满足为数字的字符，最终比较得到的数字是否超出 <code>int</code> 范围，如果超出则使用最大或最小 <code>int</code> 数。</p><h3 id="代码-7"><a aria-hidden="true" tabindex="-1" href="/enhanfe//algorithms/day#代码-7"><span class="icon icon-link"></span></a>代码</h3><div class="__dumi-default-code-block"><pre class="prism-code language-js"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line"><span class="token comment">/**</span></div><div class="token-line"><span class="token comment"> * @param {string} str</span></div><div class="token-line"><span class="token comment"> * @return {number}</span></div><div class="token-line"><span class="token comment"> */</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token keyword">var</span><span class="token plain"> </span><span class="token function-variable function">myAtoi</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">str</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  str </span><span class="token operator">=</span><span class="token plain"> str</span><span class="token punctuation">.</span><span class="token method function property-access">trim</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token keyword control-flow">if</span><span class="token plain"> </span><span class="token punctuation">(</span><span class="token operator">!</span><span class="token regex regex-delimiter">/</span><span class="token regex regex-source language-regex">^[+|-]?\d+</span><span class="token regex regex-delimiter">/</span><span class="token punctuation">.</span><span class="token method function property-access">test</span><span class="token punctuation">(</span><span class="token plain">str</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token keyword control-flow">return</span><span class="token plain"> </span><span class="token number">0</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token keyword">let</span><span class="token plain"> val </span><span class="token operator">=</span><span class="token plain"> </span><span class="token function">parseInt</span><span class="token punctuation">(</span><span class="token plain">str</span><span class="token punctuation">.</span><span class="token method function property-access">match</span><span class="token punctuation">(</span><span class="token regex regex-delimiter">/</span><span class="token regex regex-source language-regex">^[+|-]?\d+</span><span class="token regex regex-delimiter">/</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token keyword">let</span><span class="token plain"> base </span><span class="token operator">=</span><span class="token plain"> </span><span class="token known-class-name class-name">Math</span><span class="token punctuation">.</span><span class="token method function property-access">pow</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token number">31</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token keyword">let</span><span class="token plain"> min </span><span class="token operator">=</span><span class="token plain"> </span><span class="token operator">-</span><span class="token plain">base</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    max </span><span class="token operator">=</span><span class="token plain"> base </span><span class="token operator">-</span><span class="token plain"> </span><span class="token number">1</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token keyword control-flow">return</span><span class="token plain"> </span><span class="token known-class-name class-name">Math</span><span class="token punctuation">.</span><span class="token method function property-access">max</span><span class="token punctuation">(</span><span class="token known-class-name class-name">Math</span><span class="token punctuation">.</span><span class="token method function property-access">min</span><span class="token punctuation">(</span><span class="token plain">val</span><span class="token punctuation">,</span><span class="token plain"> max</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token plain"> min</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">}</span><span class="token punctuation">;</span></div></pre></div><h2 id="lfu-缓存"><a aria-hidden="true" tabindex="-1" href="/enhanfe//algorithms/day#lfu-缓存"><span class="icon icon-link"></span></a><a target="_blank" rel="noopener noreferrer" href="https://leetcode-cn.com/problems/lfu-cache/">LFU 缓存<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="__dumi-default-external-link-icon"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></h2><h3 id="描述-10"><a aria-hidden="true" tabindex="-1" href="/enhanfe//algorithms/day#描述-10"><span class="icon icon-link"></span></a>描述</h3><p>设计并实现最不经常使用<code>（LFU）</code>缓存的数据结构。它应该支持以下操作：<code>get</code> 和 <code>put</code>。</p><p><code>get(key)</code> - 如果键存在于缓存中，则获取键的值（总是正数），否则返回 -1。<code>put(key, value)</code> - 如果键不存在，请设置或插入值。当缓存达到其容量时，它应该在插入新项目之前，使最不经常使用的项目无效。在此问题中，当存在平局（即两个或更多个键具有相同使用频率）时，<strong>最近最少</strong>使用的键将被去除。</p><p><strong>进阶：</strong></p><p>你是否可以在 <strong>O(1)</strong> 时间复杂度内执行两项操作？</p><p><strong>示例</strong></p><div class="__dumi-default-code-block"><pre class="prism-code language-unknown"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line"><span class="token plain">LFUCache cache = new LFUCache( 2 /* capacity (缓存容量) */ );</span></div><div class="token-line"><span class="token plain">
</span></div><div class="token-line"><span class="token plain">cache.put(1, 1);</span></div><div class="token-line"><span class="token plain">cache.put(2, 2);</span></div><div class="token-line"><span class="token plain">cache.get(1);       // 返回 1</span></div><div class="token-line"><span class="token plain">cache.put(3, 3);    // 去除 key 2</span></div><div class="token-line"><span class="token plain">cache.get(2);       // 返回 -1 (未找到key 2)</span></div><div class="token-line"><span class="token plain">cache.get(3);       // 返回 3</span></div><div class="token-line"><span class="token plain">cache.put(4, 4);    // 去除 key 1</span></div><div class="token-line"><span class="token plain">cache.get(1);       // 返回 -1 (未找到 key 1)</span></div><div class="token-line"><span class="token plain">cache.get(3);       // 返回 3</span></div><div class="token-line"><span class="token plain">cache.get(4);       // 返回 4</span></div></pre></div><h3 id="分析-10"><a aria-hidden="true" tabindex="-1" href="/enhanfe//algorithms/day#分析-10"><span class="icon icon-link"></span></a>分析</h3><p>我们先回顾一下常用的缓存算法</p><p><strong>LRU (Least recently used)</strong> 最近最少使用，如果数据最近被访问过，那么将来被访问的几率也更高。<strong>LFU (Least frequently used)</strong> 最不经常使用，如果一个数据在最近一段时间内使用次数很少，那么在将来一段时间内被使用的可能性也很小。<strong>FIFO (Fist in first out)</strong> 先进先出， 如果一个数据最先进入缓存中，则应该最早淘汰掉。</p><p><strong>双 hash</strong></p><p>一个存储数据，给定的 <code>key</code> 作为键，给定的 <code>value</code>、<code>freq</code>组成对象作为值；一个存储使用频率 <code>freq</code> 作为键，符合该频率的 <code>key</code> 组成数组作为值。</p><p><code>put</code> 操作时，我们检测该值是否存在于 <code>cache</code> 中，若不存在则插入，并更新 <code>freq</code>，若存在，则直接更新 <code>cache</code> 、<code>freq</code> 。</p><p><code>get</code> 操作获取值的同时，将该<code>freq</code>中该 <code>key</code> 频率数组+1 即可。</p><h3 id="代码-8"><a aria-hidden="true" tabindex="-1" href="/enhanfe//algorithms/day#代码-8"><span class="icon icon-link"></span></a>代码</h3><div class="__dumi-default-code-block"><pre class="prism-code language-js"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line"><span class="token comment">/**</span></div><div class="token-line"><span class="token comment"> * @param {number} capacity</span></div><div class="token-line"><span class="token comment"> */</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token keyword">var</span><span class="token plain"> </span><span class="token function-variable function maybe-class-name">LFUCache</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">capacity</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token property-access">limit</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> capacity</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token property-access">cache</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token keyword">new</span><span class="token plain"> </span><span class="token class-name">Map</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token property-access">freqMap</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token keyword">new</span><span class="token plain"> </span><span class="token class-name">Map</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">
</span></div><div class="token-line"><span class="token plain"></span><span class="token comment">/**</span></div><div class="token-line"><span class="token comment"> * @param {number} key</span></div><div class="token-line"><span class="token comment"> * @return {number}</span></div><div class="token-line"><span class="token comment"> */</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token class-name">LFUCache</span><span class="token punctuation">.</span><span class="token property-access">prototype</span><span class="token punctuation">.</span><span class="token method-variable function-variable method function property-access">get</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">key</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token keyword">let</span><span class="token plain"> cache </span><span class="token operator">=</span><span class="token plain"> </span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token property-access">cache</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token keyword">let</span><span class="token plain"> r </span><span class="token operator">=</span><span class="token plain"> </span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token keyword control-flow">if</span><span class="token plain"> </span><span class="token punctuation">(</span><span class="token keyword">typeof</span><span class="token plain"> cache</span><span class="token punctuation">[</span><span class="token plain">key</span><span class="token punctuation">]</span><span class="token plain"> </span><span class="token operator">!=</span><span class="token plain"> </span><span class="token string">&#x27;undefined&#x27;</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token keyword">let</span><span class="token plain"> o </span><span class="token operator">=</span><span class="token plain"> cache</span><span class="token punctuation">[</span><span class="token plain">key</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    r </span><span class="token operator">=</span><span class="token plain"> o</span><span class="token punctuation">.</span><span class="token property-access">value</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token comment">//更新频率记录</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token method function property-access">updateL</span><span class="token punctuation">(</span><span class="token plain">key</span><span class="token punctuation">,</span><span class="token plain"> o</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token keyword control-flow">return</span><span class="token plain"> r</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">
</span></div><div class="token-line"><span class="token plain"></span><span class="token comment">/**</span></div><div class="token-line"><span class="token comment"> * @param {number} key</span></div><div class="token-line"><span class="token comment"> * @param {number} value</span></div><div class="token-line"><span class="token comment"> * @return {void}</span></div><div class="token-line"><span class="token comment"> */</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token class-name">LFUCache</span><span class="token punctuation">.</span><span class="token property-access">prototype</span><span class="token punctuation">.</span><span class="token method-variable function-variable method function property-access">put</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">key</span><span class="token parameter punctuation">,</span><span class="token parameter"> value</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token keyword">let</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"> cache</span><span class="token punctuation">,</span><span class="token plain"> limit</span><span class="token punctuation">,</span><span class="token plain"> freqMap</span><span class="token operator">:</span><span class="token plain"> fmap </span><span class="token punctuation">}</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token keyword">this</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token keyword control-flow">if</span><span class="token plain"> </span><span class="token punctuation">(</span><span class="token plain">limit </span><span class="token operator">&lt;=</span><span class="token plain"> </span><span class="token number">0</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token keyword control-flow">return</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token keyword control-flow">if</span><span class="token plain"> </span><span class="token punctuation">(</span><span class="token keyword">typeof</span><span class="token plain"> key </span><span class="token operator">==</span><span class="token plain"> </span><span class="token string">&#x27;undefined&#x27;</span><span class="token plain"> </span><span class="token operator">||</span><span class="token plain"> </span><span class="token keyword">typeof</span><span class="token plain"> value </span><span class="token operator">==</span><span class="token plain"> </span><span class="token string">&#x27;undefined&#x27;</span><span class="token punctuation">)</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token keyword control-flow">throw</span><span class="token plain"> </span><span class="token keyword">new</span><span class="token plain"> </span><span class="token class-name">Error</span><span class="token punctuation">(</span><span class="token string">&#x27;key or value is undefined&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token comment">// 存在则直接更新</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token keyword control-flow">if</span><span class="token plain"> </span><span class="token punctuation">(</span><span class="token keyword">typeof</span><span class="token plain"> cache</span><span class="token punctuation">[</span><span class="token plain">key</span><span class="token punctuation">]</span><span class="token plain"> </span><span class="token operator">==</span><span class="token plain"> </span><span class="token string">&#x27;undefined&#x27;</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token comment">// 获取频率 key</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token comment">// 判断容量是否满</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token keyword control-flow">if</span><span class="token plain"> </span><span class="token punctuation">(</span><span class="token known-class-name class-name">Object</span><span class="token punctuation">.</span><span class="token method function property-access">keys</span><span class="token punctuation">(</span><span class="token plain">cache</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token property-access">length</span><span class="token plain"> </span><span class="token operator">==</span><span class="token plain"> limit</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">      </span><span class="token keyword">let</span><span class="token plain"> fkeys </span><span class="token operator">=</span><span class="token plain"> </span><span class="token known-class-name class-name">Object</span><span class="token punctuation">.</span><span class="token method function property-access">keys</span><span class="token punctuation">(</span><span class="token plain">fmap</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">      </span><span class="token keyword">let</span><span class="token plain"> freq </span><span class="token operator">=</span><span class="token plain"> fkeys</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">      </span><span class="token comment">// 获取key集合</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">      </span><span class="token keyword">let</span><span class="token plain"> keys </span><span class="token operator">=</span><span class="token plain"> fmap</span><span class="token punctuation">[</span><span class="token plain">freq</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">      </span><span class="token comment">// 淘汰首位</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">      </span><span class="token keyword">delete</span><span class="token plain"> cache</span><span class="token punctuation">[</span><span class="token plain">keys</span><span class="token punctuation">.</span><span class="token method function property-access">shift</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">      </span><span class="token comment">// delete cache[keys[0]];</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">      </span><span class="token comment">// keys.splice(0, 1);</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">      </span><span class="token comment">// 清理</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">      </span><span class="token keyword control-flow">if</span><span class="token plain"> </span><span class="token punctuation">(</span><span class="token plain">fmap</span><span class="token punctuation">[</span><span class="token plain">freq</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token property-access">length</span><span class="token plain"> </span><span class="token operator">==</span><span class="token plain"> </span><span class="token number">0</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token keyword">delete</span><span class="token plain"> fmap</span><span class="token punctuation">[</span><span class="token plain">freq</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token comment">// 频率记录是否存在</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token keyword control-flow">if</span><span class="token plain"> </span><span class="token punctuation">(</span><span class="token operator">!</span><span class="token plain">fmap</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token plain"> fmap</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token comment">// 插入新值</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    fmap</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token method function property-access">push</span><span class="token punctuation">(</span><span class="token plain">key</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    cache</span><span class="token punctuation">[</span><span class="token plain">key</span><span class="token punctuation">]</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">      value</span><span class="token operator">:</span><span class="token plain"> value</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">      freq</span><span class="token operator">:</span><span class="token plain"> </span><span class="token number">1</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token comment">// 默认的频率</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token punctuation">}</span><span class="token plain"> </span><span class="token keyword control-flow">else</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    cache</span><span class="token punctuation">[</span><span class="token plain">key</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token property-access">value</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> value</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token comment">//更新频率记录</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token method function property-access">updateL</span><span class="token punctuation">(</span><span class="token plain">key</span><span class="token punctuation">,</span><span class="token plain"> cache</span><span class="token punctuation">[</span><span class="token plain">key</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">
</span></div><div class="token-line"><span class="token plain"></span><span class="token class-name">LFUCache</span><span class="token punctuation">.</span><span class="token property-access">prototype</span><span class="token punctuation">.</span><span class="token method-variable function-variable method function property-access">updateL</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">key</span><span class="token parameter punctuation">,</span><span class="token parameter"> obj</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token keyword">let</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"> freq </span><span class="token punctuation">}</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> obj</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token keyword">let</span><span class="token plain"> arr </span><span class="token operator">=</span><span class="token plain"> </span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token property-access">freqMap</span><span class="token punctuation">[</span><span class="token plain">freq</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token comment">// 删除原频率记录</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token property-access">freqMap</span><span class="token punctuation">[</span><span class="token plain">freq</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token method function property-access">splice</span><span class="token punctuation">(</span><span class="token plain">arr</span><span class="token punctuation">.</span><span class="token method function property-access">indexOf</span><span class="token punctuation">(</span><span class="token plain">key</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token comment">// 清理</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token keyword control-flow">if</span><span class="token plain"> </span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token property-access">freqMap</span><span class="token punctuation">[</span><span class="token plain">freq</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token property-access">length</span><span class="token plain"> </span><span class="token operator">==</span><span class="token plain"> </span><span class="token number">0</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token keyword">delete</span><span class="token plain"> </span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token property-access">freqMap</span><span class="token punctuation">[</span><span class="token plain">freq</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token comment">// 更新频率</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  freq </span><span class="token operator">=</span><span class="token plain"> obj</span><span class="token punctuation">.</span><span class="token property-access">freq</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> obj</span><span class="token punctuation">.</span><span class="token property-access">freq</span><span class="token plain"> </span><span class="token operator">+</span><span class="token plain"> </span><span class="token number">1</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token keyword control-flow">if</span><span class="token plain"> </span><span class="token punctuation">(</span><span class="token operator">!</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token property-access">freqMap</span><span class="token punctuation">[</span><span class="token plain">freq</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token property-access">freqMap</span><span class="token punctuation">[</span><span class="token plain">freq</span><span class="token punctuation">]</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token property-access">freqMap</span><span class="token punctuation">[</span><span class="token plain">freq</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token method function property-access">push</span><span class="token punctuation">(</span><span class="token plain">key</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">}</span><span class="token punctuation">;</span></div></pre></div><h2 id="旋转矩阵"><a aria-hidden="true" tabindex="-1" href="/enhanfe//algorithms/day#旋转矩阵"><span class="icon icon-link"></span></a><a target="_blank" rel="noopener noreferrer" href="https://leetcode-cn.com/problems/rotate-matrix-lcci/">旋转矩阵<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="__dumi-default-external-link-icon"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></h2><h3 id="描述-11"><a aria-hidden="true" tabindex="-1" href="/enhanfe//algorithms/day#描述-11"><span class="icon icon-link"></span></a>描述</h3><p>给你一幅由 <code>N × N</code> 矩阵表示的图像，其中每个像素的大小为 4 字节。请你设计一种算法，将图像旋转 90 度。</p><p>不占用额外内存空间能否做到？</p><p><strong>示例 1</strong></p><div class="__dumi-default-code-block"><pre class="prism-code language-unknown"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line"><span class="token plain">给定 matrix =</span></div><div class="token-line"><span class="token plain">[</span></div><div class="token-line"><span class="token plain">  [1,2,3],</span></div><div class="token-line"><span class="token plain">  [4,5,6],</span></div><div class="token-line"><span class="token plain">  [7,8,9]</span></div><div class="token-line"><span class="token plain">],</span></div><div class="token-line"><span class="token plain">
</span></div><div class="token-line"><span class="token plain">原地旋转输入矩阵，使其变为:</span></div><div class="token-line"><span class="token plain">[</span></div><div class="token-line"><span class="token plain">  [7,4,1],</span></div><div class="token-line"><span class="token plain">  [8,5,2],</span></div><div class="token-line"><span class="token plain">  [9,6,3]</span></div><div class="token-line"><span class="token plain">]</span></div></pre></div><p><strong>示例 2</strong></p><div class="__dumi-default-code-block"><pre class="prism-code language-unknown"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line"><span class="token plain">给定 matrix =</span></div><div class="token-line"><span class="token plain">[</span></div><div class="token-line"><span class="token plain">  [ 5, 1, 9,11],</span></div><div class="token-line"><span class="token plain">  [ 2, 4, 8,10],</span></div><div class="token-line"><span class="token plain">  [13, 3, 6, 7],</span></div><div class="token-line"><span class="token plain">  [15,14,12,16]</span></div><div class="token-line"><span class="token plain">],</span></div><div class="token-line"><span class="token plain">
</span></div><div class="token-line"><span class="token plain">原地旋转输入矩阵，使其变为:</span></div><div class="token-line"><span class="token plain">[</span></div><div class="token-line"><span class="token plain">  [15,13, 2, 5],</span></div><div class="token-line"><span class="token plain">  [14, 3, 4, 1],</span></div><div class="token-line"><span class="token plain">  [12, 6, 8, 9],</span></div><div class="token-line"><span class="token plain">  [16, 7,10,11]</span></div><div class="token-line"><span class="token plain">]</span></div></pre></div><h3 id="分析-11"><a aria-hidden="true" tabindex="-1" href="/enhanfe//algorithms/day#分析-11"><span class="icon icon-link"></span></a>分析</h3><p>二维数组的操作，并且要求 <strong>原地</strong> 操作，不能额外开辟空间。</p><p>双重循环，逐个先将 <strong>[i][j]</strong> 位置元素与 <strong>[j][i]</strong> 位置元素交换，最后将二维数组内层数组反转即可。</p><h3 id="代码-9"><a aria-hidden="true" tabindex="-1" href="/enhanfe//algorithms/day#代码-9"><span class="icon icon-link"></span></a>代码</h3><div class="__dumi-default-code-block"><pre class="prism-code language-js"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line"><span class="token comment">/**</span></div><div class="token-line"><span class="token comment"> * @param {number[][]} matrix</span></div><div class="token-line"><span class="token comment"> * @return {void} Do not return anything, modify matrix in-place instead.</span></div><div class="token-line"><span class="token comment"> */</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token keyword">let</span><span class="token plain"> </span><span class="token function-variable function">rotate</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token parameter">matrix</span><span class="token plain"> </span><span class="token arrow operator">=&gt;</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token keyword control-flow">for</span><span class="token plain"> </span><span class="token punctuation">(</span><span class="token keyword">let</span><span class="token plain"> i </span><span class="token operator">=</span><span class="token plain"> </span><span class="token number">0</span><span class="token punctuation">;</span><span class="token plain"> i </span><span class="token operator">&lt;</span><span class="token plain"> matrix</span><span class="token punctuation">.</span><span class="token property-access">length</span><span class="token punctuation">;</span><span class="token plain"> i</span><span class="token operator">++</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token keyword control-flow">for</span><span class="token plain"> </span><span class="token punctuation">(</span><span class="token keyword">let</span><span class="token plain"> j </span><span class="token operator">=</span><span class="token plain"> i</span><span class="token punctuation">;</span><span class="token plain"> j </span><span class="token operator">&lt;</span><span class="token plain"> matrix</span><span class="token punctuation">[</span><span class="token plain">i</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token property-access">length</span><span class="token punctuation">;</span><span class="token plain"> j</span><span class="token operator">++</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">      </span><span class="token punctuation">[</span><span class="token plain">matrix</span><span class="token punctuation">[</span><span class="token plain">i</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token plain">j</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token plain"> matrix</span><span class="token punctuation">[</span><span class="token plain">j</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token plain">i</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation">[</span><span class="token plain">matrix</span><span class="token punctuation">[</span><span class="token plain">j</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token plain">i</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token plain"> matrix</span><span class="token punctuation">[</span><span class="token plain">i</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token plain">j</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  matrix</span><span class="token punctuation">.</span><span class="token method function property-access">forEach</span><span class="token punctuation">(</span><span class="token parameter">row</span><span class="token plain"> </span><span class="token arrow operator">=&gt;</span><span class="token plain"> row</span><span class="token punctuation">.</span><span class="token method function property-access">reverse</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">}</span><span class="token punctuation">;</span></div></pre></div><h2 id="机器人的运动范围"><a aria-hidden="true" tabindex="-1" href="/enhanfe//algorithms/day#机器人的运动范围"><span class="icon icon-link"></span></a><a target="_blank" rel="noopener noreferrer" href="https://leetcode-cn.com/problems/ji-qi-ren-de-yun-dong-fan-wei-lcof/">机器人的运动范围<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="__dumi-default-external-link-icon"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></h2><h3 id="描述-12"><a aria-hidden="true" tabindex="-1" href="/enhanfe//algorithms/day#描述-12"><span class="icon icon-link"></span></a>描述</h3><p>地上有一个 m 行 n 列的方格，从坐标 <code>[0,0]</code> 到坐标 <code>[m-1,n-1]</code> 。一个机器人从坐标 <code>[0, 0]</code> 的格子开始移动，它每次可以向左、右、上、下移动一格（不能移动到方格外），也不能进入行坐标和列坐标的数位之和大于 k 的格子。例如，当 k 为 18 时，机器人能够进入方格 [35, 37] ，因为 3+5+3+7=18。但它不能进入方格 [35, 38]，因为 3+5+3+8=19。请问该机器人能够到达多少个格子？</p><p><strong>示例 1</strong></p><div class="__dumi-default-code-block"><pre class="prism-code language-unknown"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line"><span class="token plain">输入：m = 2, n = 3, k = 1</span></div><div class="token-line"><span class="token plain">输出：3</span></div></pre></div><p><strong>示例 2</strong></p><div class="__dumi-default-code-block"><pre class="prism-code language-unknown"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line"><span class="token plain">输入：m = 3, n = 1, k = 0</span></div><div class="token-line"><span class="token plain">输出：1</span></div></pre></div><p><strong>提示：</strong></p><ul><li><code>1 &lt;= n,m &lt;= 100</code></li><li><code>0 &lt;= k &lt;= 20</code></li></ul><h3 id="分析-12"><a aria-hidden="true" tabindex="-1" href="/enhanfe//algorithms/day#分析-12"><span class="icon icon-link"></span></a>分析</h3><p>很明显解题主要思路是 <code>广度优先搜索</code> 或者 <code>深度优先搜索</code> ，一张图示例可以走通的位置，</p><p><code>m=20</code>, <code>n=15</code>, <code>k=9</code> 的情况</p><p>转自 <strong>LeetCode</strong></p><p><img src="http://walker-markdown.oss-cn-shenzhen.aliyuncs.com/uPic/5mWLHV.jpg" alt="5mWLHV"/></p><p>我们看到虽然右下角存在绿色方块，但是我们无法走到这些位置，因此最终可以走通的位置应该为</p><p><img src="http://walker-markdown.oss-cn-shenzhen.aliyuncs.com/uPic/g8HpDZ.jpg" alt="g8HpDZ"/></p><h3 id="代码-10"><a aria-hidden="true" tabindex="-1" href="/enhanfe//algorithms/day#代码-10"><span class="icon icon-link"></span></a>代码</h3><div class="__dumi-default-code-block"><pre class="prism-code language-js"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line"><span class="token comment">/**</span></div><div class="token-line"><span class="token comment"> * @param {number} m</span></div><div class="token-line"><span class="token comment"> * @param {number} n</span></div><div class="token-line"><span class="token comment"> * @param {number} k</span></div><div class="token-line"><span class="token comment"> * @return {number}</span></div><div class="token-line"><span class="token comment"> */</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token keyword">var</span><span class="token plain"> </span><span class="token function-variable function">movingCount</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">m</span><span class="token parameter punctuation">,</span><span class="token parameter"> n</span><span class="token parameter punctuation">,</span><span class="token parameter"> k</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token keyword">let</span><span class="token plain"> step </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">
</span></div><div class="token-line"><span class="token plain">  </span><span class="token keyword">let</span><span class="token plain"> num </span><span class="token operator">=</span><span class="token plain"> </span><span class="token number">0</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token keyword">function</span><span class="token plain"> </span><span class="token function">dfs</span><span class="token punctuation">(</span><span class="token parameter">i</span><span class="token parameter punctuation">,</span><span class="token parameter"> j</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token keyword control-flow">if</span><span class="token plain"> </span><span class="token punctuation">(</span><span class="token plain">i </span><span class="token operator">&lt;</span><span class="token plain"> </span><span class="token number">0</span><span class="token plain"> </span><span class="token operator">||</span><span class="token plain"> j </span><span class="token operator">&lt;</span><span class="token plain"> </span><span class="token number">0</span><span class="token plain"> </span><span class="token operator">||</span><span class="token plain"> i </span><span class="token operator">&gt;=</span><span class="token plain"> m </span><span class="token operator">||</span><span class="token plain"> j </span><span class="token operator">&gt;=</span><span class="token plain"> n</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token keyword control-flow">return</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">
</span></div><div class="token-line"><span class="token plain">    </span><span class="token keyword control-flow">if</span><span class="token plain"> </span><span class="token punctuation">(</span><span class="token operator">!</span><span class="token plain">step</span><span class="token punctuation">[</span><span class="token template-string template-punctuation string">`</span><span class="token template-string interpolation interpolation-punctuation punctuation">${</span><span class="token template-string interpolation">i</span><span class="token template-string interpolation interpolation-punctuation punctuation">}</span><span class="token template-string string">|</span><span class="token template-string interpolation interpolation-punctuation punctuation">${</span><span class="token template-string interpolation">j</span><span class="token template-string interpolation interpolation-punctuation punctuation">}</span><span class="token template-string template-punctuation string">`</span><span class="token punctuation">]</span><span class="token plain"> </span><span class="token operator">&amp;&amp;</span><span class="token plain"> </span><span class="token function">canMove</span><span class="token punctuation">(</span><span class="token plain">i</span><span class="token punctuation">,</span><span class="token plain"> j</span><span class="token punctuation">,</span><span class="token plain"> k</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">      step</span><span class="token punctuation">[</span><span class="token template-string template-punctuation string">`</span><span class="token template-string interpolation interpolation-punctuation punctuation">${</span><span class="token template-string interpolation">i</span><span class="token template-string interpolation interpolation-punctuation punctuation">}</span><span class="token template-string string">|</span><span class="token template-string interpolation interpolation-punctuation punctuation">${</span><span class="token template-string interpolation">j</span><span class="token template-string interpolation interpolation-punctuation punctuation">}</span><span class="token template-string template-punctuation string">`</span><span class="token punctuation">]</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token boolean">true</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">      num</span><span class="token operator">++</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">
</span></div><div class="token-line"><span class="token plain">      </span><span class="token function">dfs</span><span class="token punctuation">(</span><span class="token plain">i </span><span class="token operator">-</span><span class="token plain"> </span><span class="token number">1</span><span class="token punctuation">,</span><span class="token plain"> j</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">      </span><span class="token function">dfs</span><span class="token punctuation">(</span><span class="token plain">i </span><span class="token operator">+</span><span class="token plain"> </span><span class="token number">1</span><span class="token punctuation">,</span><span class="token plain"> j</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">      </span><span class="token function">dfs</span><span class="token punctuation">(</span><span class="token plain">i</span><span class="token punctuation">,</span><span class="token plain"> j </span><span class="token operator">-</span><span class="token plain"> </span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">      </span><span class="token function">dfs</span><span class="token punctuation">(</span><span class="token plain">i</span><span class="token punctuation">,</span><span class="token plain"> j </span><span class="token operator">+</span><span class="token plain"> </span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token function">dfs</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token keyword control-flow">return</span><span class="token plain"> num</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token keyword">function</span><span class="token plain"> </span><span class="token function">canMove</span><span class="token punctuation">(</span><span class="token parameter">i</span><span class="token parameter punctuation">,</span><span class="token parameter"> j</span><span class="token parameter punctuation">,</span><span class="token parameter"> k</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token keyword">let</span><span class="token plain"> vali </span><span class="token operator">=</span><span class="token plain"> i</span></div><div class="token-line"><span class="token plain">    </span><span class="token punctuation">.</span><span class="token method function property-access">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token punctuation">.</span><span class="token method function property-access">split</span><span class="token punctuation">(</span><span class="token string">&#x27;&#x27;</span><span class="token punctuation">)</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token punctuation">.</span><span class="token method function property-access">reduce</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">a</span><span class="token parameter punctuation">,</span><span class="token parameter"> b</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token arrow operator">=&gt;</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">      </span><span class="token keyword control-flow">return</span><span class="token plain"> </span><span class="token known-class-name class-name">Number</span><span class="token punctuation">(</span><span class="token plain">a</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token operator">+</span><span class="token plain"> </span><span class="token known-class-name class-name">Number</span><span class="token punctuation">(</span><span class="token plain">b</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token keyword">let</span><span class="token plain"> valj </span><span class="token operator">=</span><span class="token plain"> j</span></div><div class="token-line"><span class="token plain">    </span><span class="token punctuation">.</span><span class="token method function property-access">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token punctuation">.</span><span class="token method function property-access">split</span><span class="token punctuation">(</span><span class="token string">&#x27;&#x27;</span><span class="token punctuation">)</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token punctuation">.</span><span class="token method function property-access">reduce</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">a</span><span class="token parameter punctuation">,</span><span class="token parameter"> b</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token arrow operator">=&gt;</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">      </span><span class="token keyword control-flow">return</span><span class="token plain"> </span><span class="token known-class-name class-name">Number</span><span class="token punctuation">(</span><span class="token plain">a</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token operator">+</span><span class="token plain"> </span><span class="token known-class-name class-name">Number</span><span class="token punctuation">(</span><span class="token plain">b</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token keyword control-flow">if</span><span class="token plain"> </span><span class="token punctuation">(</span><span class="token known-class-name class-name">Number</span><span class="token punctuation">(</span><span class="token plain">vali</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token operator">+</span><span class="token plain"> </span><span class="token known-class-name class-name">Number</span><span class="token punctuation">(</span><span class="token plain">valj</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token operator">&lt;=</span><span class="token plain"> k</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token keyword control-flow">return</span><span class="token plain"> </span><span class="token boolean">true</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token keyword control-flow">return</span><span class="token plain"> </span><span class="token boolean">false</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">}</span></div></pre></div><h2 id="括号生成"><a aria-hidden="true" tabindex="-1" href="/enhanfe//algorithms/day#括号生成"><span class="icon icon-link"></span></a><a target="_blank" rel="noopener noreferrer" href="https://leetcode-cn.com/problems/generate-parentheses/">括号生成<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="__dumi-default-external-link-icon"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></h2><h3 id="描述-13"><a aria-hidden="true" tabindex="-1" href="/enhanfe//algorithms/day#描述-13"><span class="icon icon-link"></span></a>描述</h3><p>数字 <em>n</em> 代表生成括号的对数，请你设计一个函数，用于能够生成所有可能的并且 <strong>有效的</strong> 括号组合。</p><p><strong>示例</strong></p><div class="__dumi-default-code-block"><pre class="prism-code language-unknown"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line"><span class="token plain">输入：n = 3</span></div><div class="token-line"><span class="token plain">输出：[</span></div><div class="token-line"><span class="token plain">       &quot;((()))&quot;,</span></div><div class="token-line"><span class="token plain">       &quot;(()())&quot;,</span></div><div class="token-line"><span class="token plain">       &quot;(())()&quot;,</span></div><div class="token-line"><span class="token plain">       &quot;()(())&quot;,</span></div><div class="token-line"><span class="token plain">       &quot;()()()&quot;</span></div><div class="token-line"><span class="token plain">     ]</span></div></pre></div><h3 id="分析-13"><a aria-hidden="true" tabindex="-1" href="/enhanfe//algorithms/day#分析-13"><span class="icon icon-link"></span></a>分析</h3><p>看到这种符合某种规律，但又有区别的算法问题，自然想到递归的解法。当然我们也知道递归解法是可以转化为栈+循环的解法的。</p><p>观察可得：</p><ol><li>某一次递归终止时需要将当前字符存入数组</li><li>字符任取一个位置左侧必为左括号 <strong>&gt;=</strong> 右括号</li><li>每次递归除了需要传当前字符还需要记清当前左右括号数</li></ol><h3 id="代码-11"><a aria-hidden="true" tabindex="-1" href="/enhanfe//algorithms/day#代码-11"><span class="icon icon-link"></span></a>代码</h3><div class="__dumi-default-code-block"><pre class="prism-code language-js"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line"><span class="token keyword">var</span><span class="token plain"> </span><span class="token function-variable function">generateParenthesis</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">n</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token keyword">let</span><span class="token plain"> res </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token comment">//  cur :当前字符  left：当前字符左括号 right:当前字符右括号</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token keyword">const</span><span class="token plain"> </span><span class="token function-variable function">help</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation">(</span><span class="token parameter">cur</span><span class="token parameter punctuation">,</span><span class="token parameter"> left</span><span class="token parameter punctuation">,</span><span class="token parameter"> right</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token arrow operator">=&gt;</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token keyword control-flow">if</span><span class="token plain"> </span><span class="token punctuation">(</span><span class="token plain">cur</span><span class="token punctuation">.</span><span class="token property-access">length</span><span class="token plain"> </span><span class="token operator">===</span><span class="token plain"> </span><span class="token number">2</span><span class="token plain"> </span><span class="token operator">*</span><span class="token plain"> n</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">      res</span><span class="token punctuation">.</span><span class="token method function property-access">push</span><span class="token punctuation">(</span><span class="token plain">cur</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">      </span><span class="token keyword control-flow">return</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token keyword control-flow">if</span><span class="token plain"> </span><span class="token punctuation">(</span><span class="token plain">left </span><span class="token operator">&lt;</span><span class="token plain"> n</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">      </span><span class="token function">help</span><span class="token punctuation">(</span><span class="token plain">cur </span><span class="token operator">+</span><span class="token plain"> </span><span class="token string">&#x27;(&#x27;</span><span class="token punctuation">,</span><span class="token plain"> left </span><span class="token operator">+</span><span class="token plain"> </span><span class="token number">1</span><span class="token punctuation">,</span><span class="token plain"> right</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token keyword control-flow">if</span><span class="token plain"> </span><span class="token punctuation">(</span><span class="token plain">right </span><span class="token operator">&lt;</span><span class="token plain"> left</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">      </span><span class="token function">help</span><span class="token punctuation">(</span><span class="token plain">cur </span><span class="token operator">+</span><span class="token plain"> </span><span class="token string">&#x27;)&#x27;</span><span class="token punctuation">,</span><span class="token plain"> left</span><span class="token punctuation">,</span><span class="token plain"> right </span><span class="token operator">+</span><span class="token plain"> </span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token function">help</span><span class="token punctuation">(</span><span class="token string">&#x27;&#x27;</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token number">0</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token keyword control-flow">return</span><span class="token plain"> res</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">}</span><span class="token punctuation">;</span></div></pre></div><h2 id="翻转字符串里的单词"><a aria-hidden="true" tabindex="-1" href="/enhanfe//algorithms/day#翻转字符串里的单词"><span class="icon icon-link"></span></a><a target="_blank" rel="noopener noreferrer" href="https://leetcode-cn.com/problems/reverse-words-in-a-string/">翻转字符串里的单词<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="__dumi-default-external-link-icon"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></h2><h3 id="描述-14"><a aria-hidden="true" tabindex="-1" href="/enhanfe//algorithms/day#描述-14"><span class="icon icon-link"></span></a>描述</h3><p>给定一个字符串，逐个翻转字符串中的每个单词。</p><p><strong>示例 1</strong></p><div class="__dumi-default-code-block"><pre class="prism-code language-unknown"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line"><span class="token plain">输入: &quot;the sky is blue&quot;</span></div><div class="token-line"><span class="token plain">输出: &quot;blue is sky the&quot;</span></div></pre></div><p><strong>示例 2</strong></p><div class="__dumi-default-code-block"><pre class="prism-code language-unknown"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line"><span class="token plain">输入: &quot;  hello world!  &quot;</span></div><div class="token-line"><span class="token plain">输出: &quot;world! hello&quot;</span></div><div class="token-line"><span class="token plain">解释: 输入字符串可以在前面或者后面包含多余的空格，但是反转后的字符不能包括。</span></div></pre></div><p><strong>示例 3</strong></p><div class="__dumi-default-code-block"><pre class="prism-code language-unknown"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line"><span class="token plain">输入: &quot;a good   example&quot;</span></div><div class="token-line"><span class="token plain">输出: &quot;example good a&quot;</span></div><div class="token-line"><span class="token plain">解释: 如果两个单词间有多余的空格，将反转后单词间的空格减少到只含一个。</span></div></pre></div><h3 id="代码-12"><a aria-hidden="true" tabindex="-1" href="/enhanfe//algorithms/day#代码-12"><span class="icon icon-link"></span></a>代码</h3><div class="__dumi-default-code-block"><pre class="prism-code language-js"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line"><span class="token comment">/**</span></div><div class="token-line"><span class="token comment"> * @param {string} s</span></div><div class="token-line"><span class="token comment"> * @return {string}</span></div><div class="token-line"><span class="token comment"> */</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token keyword">var</span><span class="token plain"> </span><span class="token function-variable function">reverseWords</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">s</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token keyword control-flow">return</span><span class="token plain"> s</span></div><div class="token-line"><span class="token plain">    </span><span class="token punctuation">.</span><span class="token method function property-access">split</span><span class="token punctuation">(</span><span class="token string">&#x27; &#x27;</span><span class="token punctuation">)</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token punctuation">.</span><span class="token method function property-access">filter</span><span class="token punctuation">(</span><span class="token parameter">item</span><span class="token plain"> </span><span class="token arrow operator">=&gt;</span><span class="token plain"> item</span><span class="token punctuation">)</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token punctuation">.</span><span class="token method function property-access">reverse</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token punctuation">.</span><span class="token method function property-access">join</span><span class="token punctuation">(</span><span class="token string">&#x27; &#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">}</span><span class="token punctuation">;</span></div></pre></div><h2 id="鸡蛋掉落"><a aria-hidden="true" tabindex="-1" href="/enhanfe//algorithms/day#鸡蛋掉落"><span class="icon icon-link"></span></a><a target="_blank" rel="noopener noreferrer" href="https://leetcode-cn.com/problems/super-egg-drop/">鸡蛋掉落<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="__dumi-default-external-link-icon"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></h2><h3 id="描述-15"><a aria-hidden="true" tabindex="-1" href="/enhanfe//algorithms/day#描述-15"><span class="icon icon-link"></span></a>描述</h3><p>你将获得 <code>K</code> 个鸡蛋，并可以使用一栋从 <code>1</code> 到 <code>N</code> 共有 <code>N</code> 层楼的建筑。</p><p>每个蛋的功能都是一样的，如果一个蛋碎了，你就不能再把它掉下去。</p><p>你知道存在楼层 <code>F</code> ，满足 <code>0 &lt;= F &lt;= N</code> 任何从高于 F 的楼层落下的鸡蛋都会碎，从 <code>F</code> 楼层或比它低的楼层落下的鸡蛋都不会破。</p><p>每次移动，你可以取一个鸡蛋（如果你有完整的鸡蛋）并把它从任一楼层 X 扔下（满足 <code>1 &lt;= X &lt;= N</code>）。</p><p>你的目标是<strong>确切地</strong>知道 <code>F</code> 的值是多少。</p><p>无论 <code>F</code> 的初始值如何，你确定 <code>F</code> 的值的最小移动次数是多少？</p><p><strong>示例 1</strong></p><div class="__dumi-default-code-block"><pre class="prism-code language-unknown"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line"><span class="token plain">输入：K = 1, N = 2</span></div><div class="token-line"><span class="token plain">输出：2</span></div><div class="token-line"><span class="token plain">解释：</span></div><div class="token-line"><span class="token plain">鸡蛋从 1 楼掉落。如果它碎了，我们肯定知道 F = 0 。</span></div><div class="token-line"><span class="token plain">否则，鸡蛋从 2 楼掉落。如果它碎了，我们肯定知道 F = 1 。</span></div><div class="token-line"><span class="token plain">如果它没碎，那么我们肯定知道 F = 2 。</span></div><div class="token-line"><span class="token plain">因此，在最坏的情况下我们需要移动 2 次以确定 F 是多少。</span></div></pre></div><p><strong>示例 2</strong></p><div class="__dumi-default-code-block"><pre class="prism-code language-unknown"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line"><span class="token plain">输入：K = 2, N = 6</span></div><div class="token-line"><span class="token plain">输出：3</span></div></pre></div><p><strong>示例 3</strong></p><div class="__dumi-default-code-block"><pre class="prism-code language-unknown"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line"><span class="token plain">输入：K = 3, N = 14</span></div><div class="token-line"><span class="token plain">输出：4</span></div></pre></div><p><strong>提示：</strong></p><ol><li><code>1 &lt;= K &lt;= 100</code></li><li><code>1 &lt;= N &lt;= 10000</code></li></ol><h3 id="代码-13"><a aria-hidden="true" tabindex="-1" href="/enhanfe//algorithms/day#代码-13"><span class="icon icon-link"></span></a>代码</h3><div class="__dumi-default-code-block"><pre class="prism-code language-js"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line"><span class="token comment">/**</span></div><div class="token-line"><span class="token comment"> * @param {number} K</span></div><div class="token-line"><span class="token comment"> * @param {number} N</span></div><div class="token-line"><span class="token comment"> * @return {number}</span></div><div class="token-line"><span class="token comment"> */</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token keyword">var</span><span class="token plain"> </span><span class="token function-variable function">superEggDrop</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">K</span><span class="token parameter punctuation">,</span><span class="token parameter"> N</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token keyword">let</span><span class="token plain"> dp </span><span class="token operator">=</span><span class="token plain"> </span><span class="token known-class-name class-name">Array</span><span class="token punctuation">(</span><span class="token constant">K</span><span class="token plain"> </span><span class="token operator">+</span><span class="token plain"> </span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token method function property-access">fill</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token keyword">let</span><span class="token plain"> cnt </span><span class="token operator">=</span><span class="token plain"> </span><span class="token number">0</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token keyword control-flow">while</span><span class="token plain"> </span><span class="token punctuation">(</span><span class="token plain">dp</span><span class="token punctuation">[</span><span class="token constant">K</span><span class="token punctuation">]</span><span class="token plain"> </span><span class="token operator">&lt;</span><span class="token plain"> </span><span class="token constant">N</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    cnt</span><span class="token operator">++</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token keyword control-flow">for</span><span class="token plain"> </span><span class="token punctuation">(</span><span class="token keyword">let</span><span class="token plain"> i </span><span class="token operator">=</span><span class="token plain"> </span><span class="token constant">K</span><span class="token punctuation">;</span><span class="token plain"> i </span><span class="token operator">&gt;</span><span class="token plain"> </span><span class="token number">0</span><span class="token punctuation">;</span><span class="token plain"> i</span><span class="token operator">--</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">      dp</span><span class="token punctuation">[</span><span class="token plain">i</span><span class="token punctuation">]</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> dp</span><span class="token punctuation">[</span><span class="token plain">i </span><span class="token operator">-</span><span class="token plain"> </span><span class="token number">1</span><span class="token punctuation">]</span><span class="token plain"> </span><span class="token operator">+</span><span class="token plain"> dp</span><span class="token punctuation">[</span><span class="token plain">i</span><span class="token punctuation">]</span><span class="token plain"> </span><span class="token operator">+</span><span class="token plain"> </span><span class="token number">1</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token keyword control-flow">return</span><span class="token plain"> cnt</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">}</span><span class="token punctuation">;</span></div></pre></div><h2 id="设计推特"><a aria-hidden="true" tabindex="-1" href="/enhanfe//algorithms/day#设计推特"><span class="icon icon-link"></span></a><a target="_blank" rel="noopener noreferrer" href="https://leetcode-cn.com/problems/design-twitter/">设计推特<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="__dumi-default-external-link-icon"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></h2><h3 id="描述-16"><a aria-hidden="true" tabindex="-1" href="/enhanfe//algorithms/day#描述-16"><span class="icon icon-link"></span></a>描述</h3><p>设计一个简化版的推特(Twitter)，可以让用户实现发送推文，关注/取消关注其他用户，能够看见关注人（包括自己）的最近十条推文。你的设计需要支持以下的几个功能：</p><ol><li><p><strong>postTweet(userId, tweetId)</strong>: 创建一条新的推文</p></li><li><p><strong>getNewsFeed(userId)</strong>: 检索最近的十条推文。每个推文都必须是由此用户关注的人或者是用户自己发出的。推文必须按照时间顺序由最近的开始排序。</p></li><li><p><strong>follow(followerId, followeeId)</strong>: 关注一个用户</p></li><li><p><strong>unfollow(followerId, followeeId</strong>): 取消关注一个用户</p></li></ol><p><strong>示例</strong></p><div class="__dumi-default-code-block"><pre class="prism-code language-unknown"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line"><span class="token plain">Twitter twitter = new Twitter();</span></div><div class="token-line"><span class="token plain">
</span></div><div class="token-line"><span class="token plain">// 用户1发送了一条新推文 (用户id = 1, 推文id = 5).</span></div><div class="token-line"><span class="token plain">twitter.postTweet(1, 5);</span></div><div class="token-line"><span class="token plain">
</span></div><div class="token-line"><span class="token plain">// 用户1的获取推文应当返回一个列表，其中包含一个id为5的推文.</span></div><div class="token-line"><span class="token plain">twitter.getNewsFeed(1);</span></div><div class="token-line"><span class="token plain">
</span></div><div class="token-line"><span class="token plain">// 用户1关注了用户2.</span></div><div class="token-line"><span class="token plain">twitter.follow(1, 2);</span></div><div class="token-line"><span class="token plain">
</span></div><div class="token-line"><span class="token plain">// 用户2发送了一个新推文 (推文id = 6).</span></div><div class="token-line"><span class="token plain">twitter.postTweet(2, 6);</span></div><div class="token-line"><span class="token plain">
</span></div><div class="token-line"><span class="token plain">// 用户1的获取推文应当返回一个列表，其中包含两个推文，id分别为 -&gt; [6, 5].</span></div><div class="token-line"><span class="token plain">// 推文id6应当在推文id5之前，因为它是在5之后发送的.</span></div><div class="token-line"><span class="token plain">twitter.getNewsFeed(1);</span></div><div class="token-line"><span class="token plain">
</span></div><div class="token-line"><span class="token plain">// 用户1取消关注了用户2.</span></div><div class="token-line"><span class="token plain">twitter.unfollow(1, 2);</span></div><div class="token-line"><span class="token plain">
</span></div><div class="token-line"><span class="token plain">// 用户1的获取推文应当返回一个列表，其中包含一个id为5的推文.</span></div><div class="token-line"><span class="token plain">// 因为用户1已经不再关注用户2.</span></div><div class="token-line"><span class="token plain">twitter.getNewsFeed(1);</span></div></pre></div><h3 id="代码-14"><a aria-hidden="true" tabindex="-1" href="/enhanfe//algorithms/day#代码-14"><span class="icon icon-link"></span></a>代码</h3><div class="__dumi-default-code-block"><pre class="prism-code language-js"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line"><span class="token comment">/**</span></div><div class="token-line"><span class="token comment"> * Initialize your data structure here.</span></div><div class="token-line"><span class="token comment"> */</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token keyword">var</span><span class="token plain"> </span><span class="token function-variable function maybe-class-name">Twitter</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token property-access">time</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token number">0</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token property-access">users</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token plain"> </span><span class="token comment">// follows</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">
</span></div><div class="token-line"><span class="token plain"></span><span class="token comment">/**</span></div><div class="token-line"><span class="token comment"> * Compose a new tweet.</span></div><div class="token-line"><span class="token comment"> * @param {number} userId</span></div><div class="token-line"><span class="token comment"> * @param {number} tweetId</span></div><div class="token-line"><span class="token comment"> * @return {void}</span></div><div class="token-line"><span class="token comment"> */</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token class-name">Twitter</span><span class="token punctuation">.</span><span class="token property-access">prototype</span><span class="token punctuation">.</span><span class="token method-variable function-variable method function property-access">postTweet</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">userId</span><span class="token parameter punctuation">,</span><span class="token parameter"> tweetId</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token property-access">time</span><span class="token plain"> </span><span class="token operator">+=</span><span class="token plain"> </span><span class="token number">1</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token keyword">let</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"> users </span><span class="token punctuation">}</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token keyword">this</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token keyword control-flow">if</span><span class="token plain"> </span><span class="token punctuation">(</span><span class="token plain">users</span><span class="token punctuation">[</span><span class="token plain">userId</span><span class="token punctuation">]</span><span class="token plain"> </span><span class="token operator">===</span><span class="token plain"> </span><span class="token keyword nil">undefined</span><span class="token punctuation">)</span><span class="token plain"> users</span><span class="token punctuation">[</span><span class="token plain">userId</span><span class="token punctuation">]</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token keyword control-flow">if</span><span class="token plain"> </span><span class="token punctuation">(</span><span class="token plain">users</span><span class="token punctuation">[</span><span class="token plain">userId</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string">&#x27;tweets&#x27;</span><span class="token punctuation">]</span><span class="token plain"> </span><span class="token operator">===</span><span class="token plain"> </span><span class="token keyword nil">undefined</span><span class="token punctuation">)</span><span class="token plain"> users</span><span class="token punctuation">[</span><span class="token plain">userId</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string">&#x27;tweets&#x27;</span><span class="token punctuation">]</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token comment">// 考虑重复推文</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token keyword">let</span><span class="token plain"> hasTweets </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token keyword control-flow">for</span><span class="token plain"> </span><span class="token punctuation">(</span><span class="token keyword">let</span><span class="token plain"> tweet </span><span class="token keyword">of</span><span class="token plain"> users</span><span class="token punctuation">[</span><span class="token plain">userId</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string">&#x27;tweets&#x27;</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    hasTweets</span><span class="token punctuation">.</span><span class="token method function property-access">push</span><span class="token punctuation">(</span><span class="token plain">tweet</span><span class="token punctuation">.</span><span class="token property-access">tweetId</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token keyword control-flow">if</span><span class="token plain"> </span><span class="token punctuation">(</span><span class="token plain">hasTweets</span><span class="token punctuation">.</span><span class="token method function property-access">includes</span><span class="token punctuation">(</span><span class="token plain">tweetId</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token keyword control-flow">return</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  users</span><span class="token punctuation">[</span><span class="token plain">userId</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string">&#x27;tweets&#x27;</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token method function property-access">push</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token plain"> tweetId</span><span class="token punctuation">,</span><span class="token plain"> time</span><span class="token operator">:</span><span class="token plain"> </span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token property-access">time</span><span class="token plain"> </span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">
</span></div><div class="token-line"><span class="token plain"></span><span class="token comment">/**</span></div><div class="token-line"><span class="token comment"> * Retrieve the 10 most recent tweet ids in the user&#x27;s news feed. Each item in the news feed must be posted by users who the user followed or by the user herself. Tweets must be ordered from most recent to least recent.</span></div><div class="token-line"><span class="token comment"> * @param {number} userId</span></div><div class="token-line"><span class="token comment"> * @return {number[]}</span></div><div class="token-line"><span class="token comment"> */</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token class-name">Twitter</span><span class="token punctuation">.</span><span class="token property-access">prototype</span><span class="token punctuation">.</span><span class="token method-variable function-variable method function property-access">getNewsFeed</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">userId</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token keyword">let</span><span class="token plain"> users </span><span class="token operator">=</span><span class="token plain"> </span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token property-access">users</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    list </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    ids </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation">[</span><span class="token plain">userId</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token plain"> </span><span class="token comment">// 自己和自己关注的 userId</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token keyword control-flow">if</span><span class="token plain"> </span><span class="token punctuation">(</span><span class="token plain">users</span><span class="token punctuation">[</span><span class="token plain">userId</span><span class="token punctuation">]</span><span class="token plain"> </span><span class="token operator">===</span><span class="token plain"> </span><span class="token keyword nil">undefined</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token keyword control-flow">return</span><span class="token plain"> </span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token keyword">let</span><span class="token plain"> follows </span><span class="token operator">=</span><span class="token plain"> users</span><span class="token punctuation">[</span><span class="token plain">userId</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string">&#x27;follows&#x27;</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token keyword control-flow">if</span><span class="token plain"> </span><span class="token punctuation">(</span><span class="token plain">follows </span><span class="token operator">!==</span><span class="token plain"> </span><span class="token keyword nil">undefined</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    ids</span><span class="token punctuation">.</span><span class="token method function property-access">push</span><span class="token punctuation">(</span><span class="token spread operator">...</span><span class="token plain">follows</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">
</span></div><div class="token-line"><span class="token plain">  </span><span class="token keyword control-flow">for</span><span class="token plain"> </span><span class="token punctuation">(</span><span class="token keyword">let</span><span class="token plain"> userid </span><span class="token keyword">of</span><span class="token plain"> ids</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token keyword control-flow">if</span><span class="token plain"> </span><span class="token punctuation">(</span><span class="token plain">users</span><span class="token punctuation">[</span><span class="token plain">userid</span><span class="token punctuation">]</span><span class="token plain"> </span><span class="token operator">===</span><span class="token plain"> </span><span class="token keyword nil">undefined</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token keyword control-flow">continue</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token keyword control-flow">if</span><span class="token plain"> </span><span class="token punctuation">(</span><span class="token plain">users</span><span class="token punctuation">[</span><span class="token plain">userid</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string">&#x27;tweets&#x27;</span><span class="token punctuation">]</span><span class="token plain"> </span><span class="token operator">===</span><span class="token plain"> </span><span class="token keyword nil">undefined</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token keyword control-flow">continue</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    list</span><span class="token punctuation">.</span><span class="token method function property-access">push</span><span class="token punctuation">(</span><span class="token spread operator">...</span><span class="token plain">users</span><span class="token punctuation">[</span><span class="token plain">userid</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string">&#x27;tweets&#x27;</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">
</span></div><div class="token-line"><span class="token plain">  list</span><span class="token punctuation">.</span><span class="token method function property-access">sort</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">a</span><span class="token parameter punctuation">,</span><span class="token parameter"> b</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token arrow operator">=&gt;</span><span class="token plain"> b</span><span class="token punctuation">.</span><span class="token property-access">time</span><span class="token plain"> </span><span class="token operator">-</span><span class="token plain"> a</span><span class="token punctuation">.</span><span class="token property-access">time</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">
</span></div><div class="token-line"><span class="token plain">  </span><span class="token keyword">let</span><span class="token plain"> res </span><span class="token operator">=</span><span class="token plain"> </span><span class="token keyword">new</span><span class="token plain"> </span><span class="token class-name">Set</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"> </span><span class="token comment">// 去重重复推文，防止自己关注自己的情况</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token keyword control-flow">for</span><span class="token plain"> </span><span class="token punctuation">(</span><span class="token keyword">let</span><span class="token plain"> i </span><span class="token operator">=</span><span class="token plain"> </span><span class="token number">0</span><span class="token punctuation">;</span><span class="token plain"> i </span><span class="token operator">&lt;</span><span class="token plain"> list</span><span class="token punctuation">.</span><span class="token property-access">length</span><span class="token punctuation">;</span><span class="token plain"> i</span><span class="token operator">++</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    res</span><span class="token punctuation">.</span><span class="token method function property-access">add</span><span class="token punctuation">(</span><span class="token plain">list</span><span class="token punctuation">[</span><span class="token plain">i</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string">&#x27;tweetId&#x27;</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token keyword control-flow">if</span><span class="token plain"> </span><span class="token punctuation">(</span><span class="token plain">res</span><span class="token punctuation">.</span><span class="token property-access">size</span><span class="token plain"> </span><span class="token operator">===</span><span class="token plain"> </span><span class="token number">10</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token keyword control-flow">break</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token keyword control-flow">return</span><span class="token plain"> </span><span class="token punctuation">[</span><span class="token spread operator">...</span><span class="token plain">res</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">
</span></div><div class="token-line"><span class="token plain"></span><span class="token comment">/**</span></div><div class="token-line"><span class="token comment"> * Follower follows a followee. If the operation is invalid, it should be a no-op.</span></div><div class="token-line"><span class="token comment"> * @param {number} followerId</span></div><div class="token-line"><span class="token comment"> * @param {number} followeeId</span></div><div class="token-line"><span class="token comment"> * @return {void}</span></div><div class="token-line"><span class="token comment"> */</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token class-name">Twitter</span><span class="token punctuation">.</span><span class="token property-access">prototype</span><span class="token punctuation">.</span><span class="token method-variable function-variable method function property-access">follow</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">followerId</span><span class="token parameter punctuation">,</span><span class="token parameter"> followeeId</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token keyword">let</span><span class="token plain"> users </span><span class="token operator">=</span><span class="token plain"> </span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token property-access">users</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token keyword control-flow">if</span><span class="token plain"> </span><span class="token punctuation">(</span><span class="token plain">users</span><span class="token punctuation">[</span><span class="token plain">followerId</span><span class="token punctuation">]</span><span class="token plain"> </span><span class="token operator">===</span><span class="token plain"> </span><span class="token keyword nil">undefined</span><span class="token punctuation">)</span><span class="token plain"> users</span><span class="token punctuation">[</span><span class="token plain">followerId</span><span class="token punctuation">]</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token keyword control-flow">if</span><span class="token plain"> </span><span class="token punctuation">(</span><span class="token plain">users</span><span class="token punctuation">[</span><span class="token plain">followerId</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string">&#x27;follows&#x27;</span><span class="token punctuation">]</span><span class="token plain"> </span><span class="token operator">===</span><span class="token plain"> </span><span class="token keyword nil">undefined</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    users</span><span class="token punctuation">[</span><span class="token plain">followerId</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string">&#x27;follows&#x27;</span><span class="token punctuation">]</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token keyword control-flow">if</span><span class="token plain"> </span><span class="token punctuation">(</span><span class="token plain">users</span><span class="token punctuation">[</span><span class="token plain">followerId</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string">&#x27;follows&#x27;</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token method function property-access">indexOf</span><span class="token punctuation">(</span><span class="token plain">followeeId</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token operator">!==</span><span class="token plain"> </span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token keyword control-flow">return</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  users</span><span class="token punctuation">[</span><span class="token plain">followerId</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string">&#x27;follows&#x27;</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token method function property-access">push</span><span class="token punctuation">(</span><span class="token plain">followeeId</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">
</span></div><div class="token-line"><span class="token plain"></span><span class="token comment">/**</span></div><div class="token-line"><span class="token comment"> * Follower unfollows a followee. If the operation is invalid, it should be a no-op.</span></div><div class="token-line"><span class="token comment"> * @param {number} followerId</span></div><div class="token-line"><span class="token comment"> * @param {number} followeeId</span></div><div class="token-line"><span class="token comment"> * @return {void}</span></div><div class="token-line"><span class="token comment"> */</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token class-name">Twitter</span><span class="token punctuation">.</span><span class="token property-access">prototype</span><span class="token punctuation">.</span><span class="token method-variable function-variable method function property-access">unfollow</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">followerId</span><span class="token parameter punctuation">,</span><span class="token parameter"> followeeId</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token keyword">let</span><span class="token plain"> users </span><span class="token operator">=</span><span class="token plain"> </span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token property-access">users</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token keyword control-flow">if</span><span class="token plain"> </span><span class="token punctuation">(</span><span class="token plain">users</span><span class="token punctuation">[</span><span class="token plain">followerId</span><span class="token punctuation">]</span><span class="token plain"> </span><span class="token operator">===</span><span class="token plain"> </span><span class="token keyword nil">undefined</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token keyword control-flow">return</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token keyword control-flow">if</span><span class="token plain"> </span><span class="token punctuation">(</span><span class="token plain">users</span><span class="token punctuation">[</span><span class="token plain">followerId</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string">&#x27;follows&#x27;</span><span class="token punctuation">]</span><span class="token plain"> </span><span class="token operator">===</span><span class="token plain"> </span><span class="token keyword nil">undefined</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token keyword control-flow">return</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token keyword">let</span><span class="token plain"> userFollows </span><span class="token operator">=</span><span class="token plain"> users</span><span class="token punctuation">[</span><span class="token plain">followerId</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string">&#x27;follows&#x27;</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token keyword">let</span><span class="token plain"> index </span><span class="token operator">=</span><span class="token plain"> userFollows</span><span class="token punctuation">.</span><span class="token method function property-access">indexOf</span><span class="token punctuation">(</span><span class="token plain">followeeId</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token keyword control-flow">if</span><span class="token plain"> </span><span class="token punctuation">(</span><span class="token plain">index </span><span class="token operator">===</span><span class="token plain"> </span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token keyword control-flow">return</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  userFollows</span><span class="token punctuation">.</span><span class="token method function property-access">splice</span><span class="token punctuation">(</span><span class="token plain">index</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">}</span><span class="token punctuation">;</span></div></pre></div><h2 id="两数相加-ii"><a aria-hidden="true" tabindex="-1" href="/enhanfe//algorithms/day#两数相加-ii"><span class="icon icon-link"></span></a><a target="_blank" rel="noopener noreferrer" href="https://leetcode-cn.com/problems/add-two-numbers-ii/">两数相加 II<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="__dumi-default-external-link-icon"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></h2><h3 id="描述-17"><a aria-hidden="true" tabindex="-1" href="/enhanfe//algorithms/day#描述-17"><span class="icon icon-link"></span></a>描述</h3><p>给你两个 <strong>非空</strong> 链表来代表两个非负整数。数字最高位位于链表开始位置。它们的每个节点只存储一位数字。将这两数相加会返回一个新的链表。</p><p>你可以假设除了数字 0 之外，这两个数字都不会以零开头。</p><p><strong>示例</strong></p><div class="__dumi-default-code-block"><pre class="prism-code language-unknown"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line"><span class="token plain">输入：(7 -&gt; 2 -&gt; 4 -&gt; 3) + (5 -&gt; 6 -&gt; 4)</span></div><div class="token-line"><span class="token plain">输出：7 -&gt; 8 -&gt; 0 -&gt; 7</span></div></pre></div><h3 id="分析-14"><a aria-hidden="true" tabindex="-1" href="/enhanfe//algorithms/day#分析-14"><span class="icon icon-link"></span></a>分析</h3><p>此题为两数之和的变体，两数之和是链表从根节点向后遍历相加，而此题是从后往前相加进位。很容易想到的思路是：将链表先旋转，求和后在旋转回去。这里我们必须联想到，<strong>栈</strong> 对于数据处理的一个优势，栈元素始终是后进先出，因此我们可以将两个链表各节点数字入栈，待 <code>l1</code> 入栈 <code>stack1</code> , <code>l2</code> 入栈 <code>stack2</code> 完毕后，出栈求解两数之和从而生成新的链表节点，并连接成链表。</p><h3 id="代码-15"><a aria-hidden="true" tabindex="-1" href="/enhanfe//algorithms/day#代码-15"><span class="icon icon-link"></span></a>代码</h3><div class="__dumi-default-code-block"><pre class="prism-code language-js"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line"><span class="token comment">/**</span></div><div class="token-line"><span class="token comment"> * Definition for singly-linked list.</span></div><div class="token-line"><span class="token comment"> * function ListNode(val) {</span></div><div class="token-line"><span class="token comment"> *     this.val = val;</span></div><div class="token-line"><span class="token comment"> *     this.next = null;</span></div><div class="token-line"><span class="token comment"> * }</span></div><div class="token-line"><span class="token comment"> */</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token comment">/**</span></div><div class="token-line"><span class="token comment"> * @param {ListNode} l1</span></div><div class="token-line"><span class="token comment"> * @param {ListNode} l2</span></div><div class="token-line"><span class="token comment"> * @return {ListNode}</span></div><div class="token-line"><span class="token comment"> */</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token keyword">var</span><span class="token plain"> </span><span class="token function-variable function">addTwoNumbers</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">l1</span><span class="token parameter punctuation">,</span><span class="token parameter"> l2</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token keyword">let</span><span class="token plain"> stack1 </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token keyword">let</span><span class="token plain"> stack2 </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token keyword control-flow">while</span><span class="token plain"> </span><span class="token punctuation">(</span><span class="token plain">l1</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    stack1</span><span class="token punctuation">.</span><span class="token method function property-access">push</span><span class="token punctuation">(</span><span class="token plain">l1</span><span class="token punctuation">.</span><span class="token property-access">val</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    l1 </span><span class="token operator">=</span><span class="token plain"> l1</span><span class="token punctuation">.</span><span class="token property-access">next</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token keyword control-flow">while</span><span class="token plain"> </span><span class="token punctuation">(</span><span class="token plain">l2</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    stack2</span><span class="token punctuation">.</span><span class="token method function property-access">push</span><span class="token punctuation">(</span><span class="token plain">l2</span><span class="token punctuation">.</span><span class="token property-access">val</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    l2 </span><span class="token operator">=</span><span class="token plain"> l2</span><span class="token punctuation">.</span><span class="token property-access">next</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token keyword">let</span><span class="token plain"> mark </span><span class="token operator">=</span><span class="token plain"> </span><span class="token number">0</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token keyword">let</span><span class="token plain"> res </span><span class="token operator">=</span><span class="token plain"> </span><span class="token keyword null nil">null</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token keyword control-flow">while</span><span class="token plain"> </span><span class="token punctuation">(</span><span class="token plain">stack1</span><span class="token punctuation">.</span><span class="token property-access">length</span><span class="token plain"> </span><span class="token operator">&gt;</span><span class="token plain"> </span><span class="token number">0</span><span class="token plain"> </span><span class="token operator">||</span><span class="token plain"> stack2</span><span class="token punctuation">.</span><span class="token property-access">length</span><span class="token plain"> </span><span class="token operator">&gt;</span><span class="token plain"> </span><span class="token number">0</span><span class="token plain"> </span><span class="token operator">||</span><span class="token plain"> mark </span><span class="token operator">!==</span><span class="token plain"> </span><span class="token number">0</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token keyword">let</span><span class="token plain"> val1 </span><span class="token operator">=</span><span class="token plain"> stack1</span><span class="token punctuation">.</span><span class="token property-access">length</span><span class="token plain"> </span><span class="token operator">&gt;</span><span class="token plain"> </span><span class="token number">0</span><span class="token plain"> </span><span class="token operator">?</span><span class="token plain"> stack1</span><span class="token punctuation">.</span><span class="token method function property-access">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token operator">:</span><span class="token plain"> </span><span class="token number">0</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token keyword">let</span><span class="token plain"> val2 </span><span class="token operator">=</span><span class="token plain"> stack2</span><span class="token punctuation">.</span><span class="token property-access">length</span><span class="token plain"> </span><span class="token operator">&gt;</span><span class="token plain"> </span><span class="token number">0</span><span class="token plain"> </span><span class="token operator">?</span><span class="token plain"> stack2</span><span class="token punctuation">.</span><span class="token method function property-access">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token operator">:</span><span class="token plain"> </span><span class="token number">0</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token keyword">let</span><span class="token plain"> val </span><span class="token operator">=</span><span class="token plain"> val1 </span><span class="token operator">+</span><span class="token plain"> val2 </span><span class="token operator">+</span><span class="token plain"> mark</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    mark </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation">(</span><span class="token plain">val </span><span class="token operator">/</span><span class="token plain"> </span><span class="token number">10</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token operator">|</span><span class="token plain"> </span><span class="token number">0</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    curNode </span><span class="token operator">=</span><span class="token plain"> </span><span class="token keyword">new</span><span class="token plain"> </span><span class="token class-name">ListNode</span><span class="token punctuation">(</span><span class="token plain">val </span><span class="token operator">%</span><span class="token plain"> </span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    curNode</span><span class="token punctuation">.</span><span class="token property-access">next</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> res</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    res </span><span class="token operator">=</span><span class="token plain"> curNode</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token keyword control-flow">return</span><span class="token plain"> res</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">}</span><span class="token punctuation">;</span></div></pre></div><h2 id="01-矩阵"><a aria-hidden="true" tabindex="-1" href="/enhanfe//algorithms/day#01-矩阵"><span class="icon icon-link"></span></a><a target="_blank" rel="noopener noreferrer" href="https://leetcode-cn.com/problems/01-matrix/">01 矩阵<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="__dumi-default-external-link-icon"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></h2><h3 id="描述-18"><a aria-hidden="true" tabindex="-1" href="/enhanfe//algorithms/day#描述-18"><span class="icon icon-link"></span></a>描述</h3><p>给定一个由 0 和 1 组成的矩阵，找出每个元素到最近的 0 的距离。</p><p>两个相邻元素间的距离为 1 。</p><p><strong>示例 1：</strong></p><div class="__dumi-default-code-block"><pre class="prism-code language-unknown"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line"><span class="token plain">输入</span></div><div class="token-line"><span class="token plain">0 0 0</span></div><div class="token-line"><span class="token plain">0 1 0</span></div><div class="token-line"><span class="token plain">0 0 0</span></div><div class="token-line"><span class="token plain">
</span></div><div class="token-line"><span class="token plain">输出</span></div><div class="token-line"><span class="token plain">0 0 0</span></div><div class="token-line"><span class="token plain">0 1 0</span></div><div class="token-line"><span class="token plain">0 0 0</span></div></pre></div><p><strong>示例 2：</strong></p><div class="__dumi-default-code-block"><pre class="prism-code language-unknown"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line"><span class="token plain">输入</span></div><div class="token-line"><span class="token plain">0 0 0</span></div><div class="token-line"><span class="token plain">0 1 0</span></div><div class="token-line"><span class="token plain">1 1 1</span></div><div class="token-line"><span class="token plain">
</span></div><div class="token-line"><span class="token plain">输出</span></div><div class="token-line"><span class="token plain">0 0 0</span></div><div class="token-line"><span class="token plain">0 1 0</span></div><div class="token-line"><span class="token plain">1 2 1</span></div></pre></div><p><strong>注意:</strong></p><ol><li>给定矩阵的元素个数不超过 10000。</li><li>给定矩阵中至少有一个元素是 0。</li><li>矩阵中的元素只在四个方向上相邻: 上、下、左、右。</li></ol><h3 id="分析-15"><a aria-hidden="true" tabindex="-1" href="/enhanfe//algorithms/day#分析-15"><span class="icon icon-link"></span></a>分析</h3><p>典型的动态规划问题</p><h3 id="代码-16"><a aria-hidden="true" tabindex="-1" href="/enhanfe//algorithms/day#代码-16"><span class="icon icon-link"></span></a>代码</h3><div class="__dumi-default-code-block"><pre class="prism-code language-js"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line"><span class="token comment">/**</span></div><div class="token-line"><span class="token comment"> * @param {number[][]} matrix</span></div><div class="token-line"><span class="token comment"> * @return {number[][]}</span></div><div class="token-line"><span class="token comment"> */</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token keyword">var</span><span class="token plain"> </span><span class="token function-variable function">updateMatrix</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">matrix</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token comment">// dp optimise</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token keyword control-flow">if</span><span class="token plain"> </span><span class="token punctuation">(</span><span class="token plain">matrix</span><span class="token punctuation">.</span><span class="token property-access">length</span><span class="token plain"> </span><span class="token operator">==</span><span class="token plain"> </span><span class="token number">0</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token keyword control-flow">return</span><span class="token plain"> </span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token keyword">let</span><span class="token plain"> m </span><span class="token operator">=</span><span class="token plain"> matrix</span><span class="token punctuation">.</span><span class="token property-access">length</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    n </span><span class="token operator">=</span><span class="token plain"> matrix</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token property-access">length</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token comment">// left-top to right-bottom</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token keyword control-flow">for</span><span class="token plain"> </span><span class="token punctuation">(</span><span class="token keyword">let</span><span class="token plain"> i </span><span class="token operator">=</span><span class="token plain"> </span><span class="token number">0</span><span class="token punctuation">;</span><span class="token plain"> i </span><span class="token operator">&lt;</span><span class="token plain"> m</span><span class="token punctuation">;</span><span class="token plain"> i</span><span class="token operator">++</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token keyword control-flow">for</span><span class="token plain"> </span><span class="token punctuation">(</span><span class="token keyword">let</span><span class="token plain"> j </span><span class="token operator">=</span><span class="token plain"> </span><span class="token number">0</span><span class="token punctuation">;</span><span class="token plain"> j </span><span class="token operator">&lt;</span><span class="token plain"> n</span><span class="token punctuation">;</span><span class="token plain"> j</span><span class="token operator">++</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">      </span><span class="token keyword control-flow">if</span><span class="token plain"> </span><span class="token punctuation">(</span><span class="token plain">matrix</span><span class="token punctuation">[</span><span class="token plain">i</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token plain">j</span><span class="token punctuation">]</span><span class="token plain"> </span><span class="token operator">!=</span><span class="token plain"> </span><span class="token number">0</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">        matrix</span><span class="token punctuation">[</span><span class="token plain">i</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token plain">j</span><span class="token punctuation">]</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> m </span><span class="token operator">+</span><span class="token plain"> n</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">        </span><span class="token keyword control-flow">if</span><span class="token plain"> </span><span class="token punctuation">(</span><span class="token plain">i </span><span class="token operator">&gt;</span><span class="token plain"> </span><span class="token number">0</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">          matrix</span><span class="token punctuation">[</span><span class="token plain">i</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token plain">j</span><span class="token punctuation">]</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token known-class-name class-name">Math</span><span class="token punctuation">.</span><span class="token method function property-access">min</span><span class="token punctuation">(</span><span class="token plain">matrix</span><span class="token punctuation">[</span><span class="token plain">i </span><span class="token operator">-</span><span class="token plain"> </span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token plain">j</span><span class="token punctuation">]</span><span class="token plain"> </span><span class="token operator">+</span><span class="token plain"> </span><span class="token number">1</span><span class="token punctuation">,</span><span class="token plain"> matrix</span><span class="token punctuation">[</span><span class="token plain">i</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token plain">j</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">        </span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">        </span><span class="token keyword control-flow">if</span><span class="token plain"> </span><span class="token punctuation">(</span><span class="token plain">j </span><span class="token operator">&gt;</span><span class="token plain"> </span><span class="token number">0</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">          matrix</span><span class="token punctuation">[</span><span class="token plain">i</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token plain">j</span><span class="token punctuation">]</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token known-class-name class-name">Math</span><span class="token punctuation">.</span><span class="token method function property-access">min</span><span class="token punctuation">(</span><span class="token plain">matrix</span><span class="token punctuation">[</span><span class="token plain">i</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token plain">j </span><span class="token operator">-</span><span class="token plain"> </span><span class="token number">1</span><span class="token punctuation">]</span><span class="token plain"> </span><span class="token operator">+</span><span class="token plain"> </span><span class="token number">1</span><span class="token punctuation">,</span><span class="token plain"> matrix</span><span class="token punctuation">[</span><span class="token plain">i</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token plain">j</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">        </span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">      </span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token comment">// right-bottom to left-top</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token keyword control-flow">for</span><span class="token plain"> </span><span class="token punctuation">(</span><span class="token keyword">let</span><span class="token plain"> i </span><span class="token operator">=</span><span class="token plain"> m </span><span class="token operator">-</span><span class="token plain"> </span><span class="token number">1</span><span class="token punctuation">;</span><span class="token plain"> i </span><span class="token operator">&gt;=</span><span class="token plain"> </span><span class="token number">0</span><span class="token punctuation">;</span><span class="token plain"> i</span><span class="token operator">--</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token keyword control-flow">for</span><span class="token plain"> </span><span class="token punctuation">(</span><span class="token keyword">let</span><span class="token plain"> j </span><span class="token operator">=</span><span class="token plain"> n </span><span class="token operator">-</span><span class="token plain"> </span><span class="token number">1</span><span class="token punctuation">;</span><span class="token plain"> j </span><span class="token operator">&gt;=</span><span class="token plain"> </span><span class="token number">0</span><span class="token punctuation">;</span><span class="token plain"> j</span><span class="token operator">--</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">      </span><span class="token comment">// distance</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">      </span><span class="token keyword control-flow">if</span><span class="token plain"> </span><span class="token punctuation">(</span><span class="token plain">matrix</span><span class="token punctuation">[</span><span class="token plain">i</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token plain">j</span><span class="token punctuation">]</span><span class="token plain"> </span><span class="token operator">!=</span><span class="token plain"> </span><span class="token number">0</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">        </span><span class="token keyword control-flow">if</span><span class="token plain"> </span><span class="token punctuation">(</span><span class="token plain">j </span><span class="token operator">&lt;</span><span class="token plain"> n </span><span class="token operator">-</span><span class="token plain"> </span><span class="token number">1</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">          matrix</span><span class="token punctuation">[</span><span class="token plain">i</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token plain">j</span><span class="token punctuation">]</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token known-class-name class-name">Math</span><span class="token punctuation">.</span><span class="token method function property-access">min</span><span class="token punctuation">(</span><span class="token plain">matrix</span><span class="token punctuation">[</span><span class="token plain">i</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token plain">j</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token plain"> matrix</span><span class="token punctuation">[</span><span class="token plain">i</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token plain">j </span><span class="token operator">+</span><span class="token plain"> </span><span class="token number">1</span><span class="token punctuation">]</span><span class="token plain"> </span><span class="token operator">+</span><span class="token plain"> </span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">        </span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">        </span><span class="token keyword control-flow">if</span><span class="token plain"> </span><span class="token punctuation">(</span><span class="token plain">i </span><span class="token operator">&lt;</span><span class="token plain"> matrix</span><span class="token punctuation">.</span><span class="token property-access">length</span><span class="token plain"> </span><span class="token operator">-</span><span class="token plain"> </span><span class="token number">1</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">          matrix</span><span class="token punctuation">[</span><span class="token plain">i</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token plain">j</span><span class="token punctuation">]</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token known-class-name class-name">Math</span><span class="token punctuation">.</span><span class="token method function property-access">min</span><span class="token punctuation">(</span><span class="token plain">matrix</span><span class="token punctuation">[</span><span class="token plain">i</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token plain">j</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token plain"> matrix</span><span class="token punctuation">[</span><span class="token plain">i </span><span class="token operator">+</span><span class="token plain"> </span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token plain">j</span><span class="token punctuation">]</span><span class="token plain"> </span><span class="token operator">+</span><span class="token plain"> </span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">        </span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">      </span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token keyword control-flow">return</span><span class="token plain"> matrix</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">}</span><span class="token punctuation">;</span></div></pre></div><h2 id="合并区间"><a aria-hidden="true" tabindex="-1" href="/enhanfe//algorithms/day#合并区间"><span class="icon icon-link"></span></a><a target="_blank" rel="noopener noreferrer" href="https://leetcode-cn.com/problems/merge-intervals/">合并区间<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="__dumi-default-external-link-icon"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></h2><h3 id="描述-19"><a aria-hidden="true" tabindex="-1" href="/enhanfe//algorithms/day#描述-19"><span class="icon icon-link"></span></a>描述</h3><p>给出一个区间的集合，请合并所有重叠的区间。</p><p><strong>示例 1:</strong></p><div class="__dumi-default-code-block"><pre class="prism-code language-unknown"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line"><span class="token plain">输入: [[1,3],[2,6],[8,10],[15,18]]</span></div><div class="token-line"><span class="token plain">输出: [[1,6],[8,10],[15,18]]</span></div><div class="token-line"><span class="token plain">解释: 区间 [1,3] 和 [2,6] 重叠, 将它们合并为 [1,6].</span></div></pre></div><p><strong>示例 2：</strong></p><div class="__dumi-default-code-block"><pre class="prism-code language-unknown"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line"><span class="token plain">输入: [[1,4],[4,5]]</span></div><div class="token-line"><span class="token plain">输出: [[1,5]]</span></div><div class="token-line"><span class="token plain">解释: 区间 [1,4] 和 [4,5] 可被视为重叠区间。</span></div></pre></div><h3 id="分析-16"><a aria-hidden="true" tabindex="-1" href="/enhanfe//algorithms/day#分析-16"><span class="icon icon-link"></span></a>分析</h3><p>很多场景可能用到这个算法，比如时间区间的合并。</p><h3 id="代码-17"><a aria-hidden="true" tabindex="-1" href="/enhanfe//algorithms/day#代码-17"><span class="icon icon-link"></span></a>代码</h3><div class="__dumi-default-code-block"><pre class="prism-code language-js"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line"><span class="token comment">/**</span></div><div class="token-line"><span class="token comment"> * @param {number[][]} intervals</span></div><div class="token-line"><span class="token comment"> * @return {number[][]}</span></div><div class="token-line"><span class="token comment"> */</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token keyword">var</span><span class="token plain"> </span><span class="token function-variable function">merge</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">intervals</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token keyword control-flow">if</span><span class="token plain"> </span><span class="token punctuation">(</span><span class="token operator">!</span><span class="token plain">intervals </span><span class="token operator">||</span><span class="token plain"> </span><span class="token operator">!</span><span class="token plain">intervals</span><span class="token punctuation">.</span><span class="token property-access">length</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token keyword control-flow">return</span><span class="token plain"> </span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  intervals</span><span class="token punctuation">.</span><span class="token method function property-access">sort</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">a</span><span class="token parameter punctuation">,</span><span class="token parameter"> b</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token arrow operator">=&gt;</span><span class="token plain"> a</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token plain"> </span><span class="token operator">-</span><span class="token plain"> b</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token keyword">let</span><span class="token plain"> ans </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation">[</span><span class="token plain">intervals</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token keyword control-flow">for</span><span class="token plain"> </span><span class="token punctuation">(</span><span class="token keyword">let</span><span class="token plain"> i </span><span class="token operator">=</span><span class="token plain"> </span><span class="token number">1</span><span class="token punctuation">;</span><span class="token plain"> i </span><span class="token operator">&lt;</span><span class="token plain"> intervals</span><span class="token punctuation">.</span><span class="token property-access">length</span><span class="token punctuation">;</span><span class="token plain"> i</span><span class="token operator">++</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token keyword control-flow">if</span><span class="token plain"> </span><span class="token punctuation">(</span><span class="token plain">ans</span><span class="token punctuation">[</span><span class="token plain">ans</span><span class="token punctuation">.</span><span class="token property-access">length</span><span class="token plain"> </span><span class="token operator">-</span><span class="token plain"> </span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token plain"> </span><span class="token operator">&gt;=</span><span class="token plain"> intervals</span><span class="token punctuation">[</span><span class="token plain">i</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">      ans</span><span class="token punctuation">[</span><span class="token plain">ans</span><span class="token punctuation">.</span><span class="token property-access">length</span><span class="token plain"> </span><span class="token operator">-</span><span class="token plain"> </span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token known-class-name class-name">Math</span><span class="token punctuation">.</span><span class="token method function property-access">max</span><span class="token punctuation">(</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">        ans</span><span class="token punctuation">[</span><span class="token plain">ans</span><span class="token punctuation">.</span><span class="token property-access">length</span><span class="token plain"> </span><span class="token operator">-</span><span class="token plain"> </span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">        intervals</span><span class="token punctuation">[</span><span class="token plain">i</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">      </span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token punctuation">}</span><span class="token plain"> </span><span class="token keyword control-flow">else</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">      ans</span><span class="token punctuation">.</span><span class="token method function property-access">push</span><span class="token punctuation">(</span><span class="token plain">intervals</span><span class="token punctuation">[</span><span class="token plain">i</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token keyword control-flow">return</span><span class="token plain"> ans</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">}</span><span class="token punctuation">;</span></div></pre></div><h2 id="跳跃游戏"><a aria-hidden="true" tabindex="-1" href="/enhanfe//algorithms/day#跳跃游戏"><span class="icon icon-link"></span></a><a target="_blank" rel="noopener noreferrer" href="https://leetcode-cn.com/problems/jump-game/">跳跃游戏<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="__dumi-default-external-link-icon"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></h2><h3 id="描述-20"><a aria-hidden="true" tabindex="-1" href="/enhanfe//algorithms/day#描述-20"><span class="icon icon-link"></span></a>描述</h3><p>给定一个非负整数数组，你最初位于数组的第一个位置。</p><p>数组中的每个元素代表你在该位置可以跳跃的最大长度。</p><p>判断你是否能够到达最后一个位置。</p><p><strong>示例 1:</strong></p><div class="__dumi-default-code-block"><pre class="prism-code language-unknown"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line"><span class="token plain">输入: [2,3,1,1,4]</span></div><div class="token-line"><span class="token plain">输出: true</span></div><div class="token-line"><span class="token plain">解释: 我们可以先跳 1 步，从位置 0 到达 位置 1, 然后再从位置 1 跳 3 步到达最后一个位置。</span></div></pre></div><p><strong>示例 2：</strong></p><div class="__dumi-default-code-block"><pre class="prism-code language-unknown"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line"><span class="token plain">输入: [3,2,1,0,4]</span></div><div class="token-line"><span class="token plain">输出: false</span></div><div class="token-line"><span class="token plain">解释: 无论怎样，你总会到达索引为 3 的位置。但该位置的最大跳跃长度是 0 ， 所以你永远不可能到达最后一个位置。</span></div></pre></div><h3 id="分析-17"><a aria-hidden="true" tabindex="-1" href="/enhanfe//algorithms/day#分析-17"><span class="icon icon-link"></span></a>分析</h3><p>我们可以使用贪心算法来解该题，一直向后匹配，直至不满足条件位置。定义一个存储当前跳转到下一元素的数字，如果遍历过程中，索引大于了该数字，表示无法跳到最后。示例 2 的例子，当跳到 0 位置时，此时 <code>k = 3</code>, <code>i = 3</code>，到下一个位置，k = 3, i = 4，i &gt; k 成立，返回 false。</p><h3 id="代码-18"><a aria-hidden="true" tabindex="-1" href="/enhanfe//algorithms/day#代码-18"><span class="icon icon-link"></span></a>代码</h3><div class="__dumi-default-code-block"><pre class="prism-code language-js"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line"><span class="token comment">/**</span></div><div class="token-line"><span class="token comment"> * @param {number[]} nums</span></div><div class="token-line"><span class="token comment"> * @return {boolean}</span></div><div class="token-line"><span class="token comment"> */</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token keyword">var</span><span class="token plain"> </span><span class="token function-variable function">canJump</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">nums</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token keyword">let</span><span class="token plain"> k </span><span class="token operator">=</span><span class="token plain"> </span><span class="token number">0</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token keyword control-flow">for</span><span class="token plain"> </span><span class="token punctuation">(</span><span class="token keyword">let</span><span class="token plain"> i </span><span class="token operator">=</span><span class="token plain"> </span><span class="token number">0</span><span class="token punctuation">;</span><span class="token plain"> i </span><span class="token operator">&lt;</span><span class="token plain"> nums</span><span class="token punctuation">.</span><span class="token property-access">length</span><span class="token punctuation">;</span><span class="token plain"> i</span><span class="token operator">++</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token keyword control-flow">if</span><span class="token plain"> </span><span class="token punctuation">(</span><span class="token plain">i </span><span class="token operator">&gt;</span><span class="token plain"> k</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token keyword control-flow">return</span><span class="token plain"> </span><span class="token boolean">false</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    k </span><span class="token operator">=</span><span class="token plain"> </span><span class="token known-class-name class-name">Math</span><span class="token punctuation">.</span><span class="token method function property-access">max</span><span class="token punctuation">(</span><span class="token plain">k</span><span class="token punctuation">,</span><span class="token plain"> i </span><span class="token operator">+</span><span class="token plain"> nums</span><span class="token punctuation">[</span><span class="token plain">i</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token keyword control-flow">return</span><span class="token plain"> </span><span class="token boolean">true</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">}</span><span class="token punctuation">;</span></div></pre></div><h2 id="盛最多水的容器"><a aria-hidden="true" tabindex="-1" href="/enhanfe//algorithms/day#盛最多水的容器"><span class="icon icon-link"></span></a><a target="_blank" rel="noopener noreferrer" href="https://leetcode-cn.com/problems/container-with-most-water/">盛最多水的容器<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="__dumi-default-external-link-icon"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></h2><h3 id="描述-21"><a aria-hidden="true" tabindex="-1" href="/enhanfe//algorithms/day#描述-21"><span class="icon icon-link"></span></a>描述</h3><p>给你 n 个非负整数 a1，a2，...，an，每个数代表坐标中的一个点 (i, ai) 。在坐标内画 n 条垂直线，垂直线 i 的两个端点分别为 (i, ai) 和 (i, 0)。找出其中的两条线，使得它们与 x 轴共同构成的容器可以容纳最多的水。</p><p>**说明：**你不能倾斜容器，且 <em>n</em> 的值至少为 2。</p><p><img src="http://walker-markdown.oss-cn-shenzhen.aliyuncs.com/uPic/68KK2f.jpg" alt="68KK2f"/></p><p>图中垂直线代表输入数组 [1,8,6,2,5,4,8,3,7]。在此情况下，容器能够容纳水（表示为蓝色部分）的最大值为 49。</p><p><strong>示例 :</strong></p><div class="__dumi-default-code-block"><pre class="prism-code language-unknown"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line"><span class="token plain">输入：[1,8,6,2,5,4,8,3,7]</span></div><div class="token-line"><span class="token plain">输出：49</span></div></pre></div><h3 id="分析-18"><a aria-hidden="true" tabindex="-1" href="/enhanfe//algorithms/day#分析-18"><span class="icon icon-link"></span></a>分析</h3><p>本题解法类似 <code>盛雨水</code> ，使用双指针。</p><h3 id="代码-19"><a aria-hidden="true" tabindex="-1" href="/enhanfe//algorithms/day#代码-19"><span class="icon icon-link"></span></a>代码</h3><div class="__dumi-default-code-block"><pre class="prism-code language-js"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line"><span class="token comment">/**</span></div><div class="token-line"><span class="token comment"> * @param {number[]} height</span></div><div class="token-line"><span class="token comment"> * @return {number}</span></div><div class="token-line"><span class="token comment"> */</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token keyword">var</span><span class="token plain"> </span><span class="token function-variable function">maxArea</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">height</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token keyword">let</span><span class="token plain"> i </span><span class="token operator">=</span><span class="token plain"> </span><span class="token number">0</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    j </span><span class="token operator">=</span><span class="token plain"> height</span><span class="token punctuation">.</span><span class="token property-access">length</span><span class="token plain"> </span><span class="token operator">-</span><span class="token plain"> </span><span class="token number">1</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token keyword">let</span><span class="token plain"> square</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    max </span><span class="token operator">=</span><span class="token plain"> </span><span class="token number">0</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token keyword control-flow">while</span><span class="token plain"> </span><span class="token punctuation">(</span><span class="token plain">j </span><span class="token operator">-</span><span class="token plain"> i </span><span class="token operator">&gt;=</span><span class="token plain"> </span><span class="token number">1</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token keyword control-flow">if</span><span class="token plain"> </span><span class="token punctuation">(</span><span class="token plain">height</span><span class="token punctuation">[</span><span class="token plain">i</span><span class="token punctuation">]</span><span class="token plain"> </span><span class="token operator">&gt;</span><span class="token plain"> height</span><span class="token punctuation">[</span><span class="token plain">j</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">      square </span><span class="token operator">=</span><span class="token plain"> height</span><span class="token punctuation">[</span><span class="token plain">j</span><span class="token punctuation">]</span><span class="token plain"> </span><span class="token operator">*</span><span class="token plain"> </span><span class="token punctuation">(</span><span class="token plain">j </span><span class="token operator">-</span><span class="token plain"> i</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">      j</span><span class="token operator">--</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token punctuation">}</span><span class="token plain"> </span><span class="token keyword control-flow">else</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">      square </span><span class="token operator">=</span><span class="token plain"> height</span><span class="token punctuation">[</span><span class="token plain">i</span><span class="token punctuation">]</span><span class="token plain"> </span><span class="token operator">*</span><span class="token plain"> </span><span class="token punctuation">(</span><span class="token plain">j </span><span class="token operator">-</span><span class="token plain"> i</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">      i</span><span class="token operator">++</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    max </span><span class="token operator">=</span><span class="token plain"> </span><span class="token known-class-name class-name">Math</span><span class="token punctuation">.</span><span class="token method function property-access">max</span><span class="token punctuation">(</span><span class="token plain">square</span><span class="token punctuation">,</span><span class="token plain"> max</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token keyword control-flow">return</span><span class="token plain"> max</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">}</span><span class="token punctuation">;</span></div></pre></div><h2 id="岛屿数量"><a aria-hidden="true" tabindex="-1" href="/enhanfe//algorithms/day#岛屿数量"><span class="icon icon-link"></span></a><a target="_blank" rel="noopener noreferrer" href="https://leetcode-cn.com/problems/number-of-islands/">岛屿数量<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="__dumi-default-external-link-icon"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></h2><h3 id="描述-22"><a aria-hidden="true" tabindex="-1" href="/enhanfe//algorithms/day#描述-22"><span class="icon icon-link"></span></a>描述</h3><p>给你一个由 <code>&#x27;1&#x27;</code>（陆地）和 <code>&#x27;0&#x27;</code>（水）组成的的二维网格，请你计算网格中岛屿的数量。</p><p>岛屿总是被水包围，并且每座岛屿只能由水平方向和/或竖直方向上相邻的陆地连接形成。</p><p>此外，你可以假设该网格的四条边均被水包围。</p><p><strong>示例 1:</strong></p><div class="__dumi-default-code-block"><pre class="prism-code language-unknown"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line"><span class="token plain">输入:</span></div><div class="token-line"><span class="token plain">11110</span></div><div class="token-line"><span class="token plain">11010</span></div><div class="token-line"><span class="token plain">11000</span></div><div class="token-line"><span class="token plain">00000</span></div><div class="token-line"><span class="token plain">输出: 1</span></div></pre></div><p><strong>示例 2:</strong></p><div class="__dumi-default-code-block"><pre class="prism-code language-unknown"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line"><span class="token plain">输入:</span></div><div class="token-line"><span class="token plain">11000</span></div><div class="token-line"><span class="token plain">11000</span></div><div class="token-line"><span class="token plain">00100</span></div><div class="token-line"><span class="token plain">00011</span></div><div class="token-line"><span class="token plain">输出: 3</span></div><div class="token-line"><span class="token plain">解释: 每座岛屿只能由水平和/或竖直方向上相邻的陆地连接而成。</span></div></pre></div><h3 id="分析-19"><a aria-hidden="true" tabindex="-1" href="/enhanfe//algorithms/day#分析-19"><span class="icon icon-link"></span></a>分析</h3><p>我们其实就是要求红色区域的个数，换句话说就是求连续区域的个数。</p><p><img src="http://walker-markdown.oss-cn-shenzhen.aliyuncs.com/uPic/SXRZLd.jpg" alt="SXRZLd"/></p><p>可以运用深度优先搜索（DFS）来解。</p><ol><li>建立一个 visited 数组用来记录某个位置是否被访问过；</li><li>对于一个为 <code>1</code> 且未被访问过的位置，我们递归进入其上下左右位置上为 <code>1</code> 的数，将其 visited 变成 true；</li><li>重复以上步骤；</li><li>找完相邻区域后，我们将结果 res 自增 1，然后我们在继续找下一个为 <code>1</code> 且未被访问过的位置，直至遍历完；</li></ol><h3 id="代码-20"><a aria-hidden="true" tabindex="-1" href="/enhanfe//algorithms/day#代码-20"><span class="icon icon-link"></span></a>代码</h3><div class="__dumi-default-code-block"><pre class="prism-code language-js"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line"><span class="token comment">/*</span></div><div class="token-line"><span class="token comment"> * @lc app=leetcode id=200 lang=javascript</span></div><div class="token-line"><span class="token comment"> *</span></div><div class="token-line"><span class="token comment"> * [200] Number of Islands</span></div><div class="token-line"><span class="token comment"> */</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token keyword">function</span><span class="token plain"> </span><span class="token function">helper</span><span class="token punctuation">(</span><span class="token parameter">grid</span><span class="token parameter punctuation">,</span><span class="token parameter"> i</span><span class="token parameter punctuation">,</span><span class="token parameter"> j</span><span class="token parameter punctuation">,</span><span class="token parameter"> rows</span><span class="token parameter punctuation">,</span><span class="token parameter"> cols</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token keyword control-flow">if</span><span class="token plain"> </span><span class="token punctuation">(</span><span class="token plain">i </span><span class="token operator">&lt;</span><span class="token plain"> </span><span class="token number">0</span><span class="token plain"> </span><span class="token operator">||</span><span class="token plain"> j </span><span class="token operator">&lt;</span><span class="token plain"> </span><span class="token number">0</span><span class="token plain"> </span><span class="token operator">||</span><span class="token plain"> i </span><span class="token operator">&gt;</span><span class="token plain"> rows </span><span class="token operator">-</span><span class="token plain"> </span><span class="token number">1</span><span class="token plain"> </span><span class="token operator">||</span><span class="token plain"> j </span><span class="token operator">&gt;</span><span class="token plain"> cols </span><span class="token operator">-</span><span class="token plain"> </span><span class="token number">1</span><span class="token plain"> </span><span class="token operator">||</span><span class="token plain"> grid</span><span class="token punctuation">[</span><span class="token plain">i</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token plain">j</span><span class="token punctuation">]</span><span class="token plain"> </span><span class="token operator">===</span><span class="token plain"> </span><span class="token string">&#x27;0&#x27;</span><span class="token punctuation">)</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token keyword control-flow">return</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">
</span></div><div class="token-line"><span class="token plain">  grid</span><span class="token punctuation">[</span><span class="token plain">i</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token plain">j</span><span class="token punctuation">]</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token string">&#x27;0&#x27;</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">
</span></div><div class="token-line"><span class="token plain">  </span><span class="token function">helper</span><span class="token punctuation">(</span><span class="token plain">grid</span><span class="token punctuation">,</span><span class="token plain"> i </span><span class="token operator">+</span><span class="token plain"> </span><span class="token number">1</span><span class="token punctuation">,</span><span class="token plain"> j</span><span class="token punctuation">,</span><span class="token plain"> rows</span><span class="token punctuation">,</span><span class="token plain"> cols</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token function">helper</span><span class="token punctuation">(</span><span class="token plain">grid</span><span class="token punctuation">,</span><span class="token plain"> i</span><span class="token punctuation">,</span><span class="token plain"> j </span><span class="token operator">+</span><span class="token plain"> </span><span class="token number">1</span><span class="token punctuation">,</span><span class="token plain"> rows</span><span class="token punctuation">,</span><span class="token plain"> cols</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token function">helper</span><span class="token punctuation">(</span><span class="token plain">grid</span><span class="token punctuation">,</span><span class="token plain"> i </span><span class="token operator">-</span><span class="token plain"> </span><span class="token number">1</span><span class="token punctuation">,</span><span class="token plain"> j</span><span class="token punctuation">,</span><span class="token plain"> rows</span><span class="token punctuation">,</span><span class="token plain"> cols</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token function">helper</span><span class="token punctuation">(</span><span class="token plain">grid</span><span class="token punctuation">,</span><span class="token plain"> i</span><span class="token punctuation">,</span><span class="token plain"> j </span><span class="token operator">-</span><span class="token plain"> </span><span class="token number">1</span><span class="token punctuation">,</span><span class="token plain"> rows</span><span class="token punctuation">,</span><span class="token plain"> cols</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token comment">/**</span></div><div class="token-line"><span class="token comment"> * @param {character[][]} grid</span></div><div class="token-line"><span class="token comment"> * @return {number}</span></div><div class="token-line"><span class="token comment"> */</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token keyword">var</span><span class="token plain"> </span><span class="token function-variable function">numIslands</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">grid</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token keyword">let</span><span class="token plain"> res </span><span class="token operator">=</span><span class="token plain"> </span><span class="token number">0</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token keyword">const</span><span class="token plain"> rows </span><span class="token operator">=</span><span class="token plain"> grid</span><span class="token punctuation">.</span><span class="token property-access">length</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token keyword control-flow">if</span><span class="token plain"> </span><span class="token punctuation">(</span><span class="token plain">rows </span><span class="token operator">===</span><span class="token plain"> </span><span class="token number">0</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token keyword control-flow">return</span><span class="token plain"> </span><span class="token number">0</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token keyword">const</span><span class="token plain"> cols </span><span class="token operator">=</span><span class="token plain"> grid</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token property-access">length</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token keyword control-flow">for</span><span class="token plain"> </span><span class="token punctuation">(</span><span class="token keyword">let</span><span class="token plain"> i </span><span class="token operator">=</span><span class="token plain"> </span><span class="token number">0</span><span class="token punctuation">;</span><span class="token plain"> i </span><span class="token operator">&lt;</span><span class="token plain"> rows</span><span class="token punctuation">;</span><span class="token plain"> i</span><span class="token operator">++</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token keyword control-flow">for</span><span class="token plain"> </span><span class="token punctuation">(</span><span class="token keyword">let</span><span class="token plain"> j </span><span class="token operator">=</span><span class="token plain"> </span><span class="token number">0</span><span class="token punctuation">;</span><span class="token plain"> j </span><span class="token operator">&lt;</span><span class="token plain"> cols</span><span class="token punctuation">;</span><span class="token plain"> j</span><span class="token operator">++</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">      </span><span class="token keyword control-flow">if</span><span class="token plain"> </span><span class="token punctuation">(</span><span class="token plain">grid</span><span class="token punctuation">[</span><span class="token plain">i</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token plain">j</span><span class="token punctuation">]</span><span class="token plain"> </span><span class="token operator">===</span><span class="token plain"> </span><span class="token string">&#x27;1&#x27;</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">        </span><span class="token function">helper</span><span class="token punctuation">(</span><span class="token plain">grid</span><span class="token punctuation">,</span><span class="token plain"> i</span><span class="token punctuation">,</span><span class="token plain"> j</span><span class="token punctuation">,</span><span class="token plain"> rows</span><span class="token punctuation">,</span><span class="token plain"> cols</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">        res</span><span class="token operator">++</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">      </span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token keyword control-flow">return</span><span class="token plain"> res</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">}</span><span class="token punctuation">;</span></div></pre></div><h2 id="统计「优美子数组」"><a aria-hidden="true" tabindex="-1" href="/enhanfe//algorithms/day#统计「优美子数组」"><span class="icon icon-link"></span></a><a target="_blank" rel="noopener noreferrer" href="https://leetcode-cn.com/problems/count-number-of-nice-subarrays/">统计「优美子数组」<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="__dumi-default-external-link-icon"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></h2><h3 id="描述-23"><a aria-hidden="true" tabindex="-1" href="/enhanfe//algorithms/day#描述-23"><span class="icon icon-link"></span></a>描述</h3><p>给你一个整数数组 <code>nums</code> 和一个整数 <code>k</code>。</p><p>如果某个 连续 子数组中恰好有 <code>k</code> 个奇数数字，我们就认为这个子数组是**「优美子数组」**。</p><p>请返回这个数组中**「优美子数组」**的数目。</p><p><strong>示例 1:</strong></p><div class="__dumi-default-code-block"><pre class="prism-code language-unknown"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line"><span class="token plain">输入：nums = [1,1,2,1,1], k = 3</span></div><div class="token-line"><span class="token plain">输出：2</span></div><div class="token-line"><span class="token plain">解释：包含 3 个奇数的子数组是 [1,1,2,1] 和 [1,2,1,1] 。</span></div></pre></div><p><strong>示例 2:</strong></p><div class="__dumi-default-code-block"><pre class="prism-code language-unknown"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line"><span class="token plain">输入：nums = [2,4,6], k = 1</span></div><div class="token-line"><span class="token plain">输出：0</span></div><div class="token-line"><span class="token plain">解释：数列中不包含任何奇数，所以不存在优美子数组。</span></div></pre></div><p><strong>示例 3：</strong></p><div class="__dumi-default-code-block"><pre class="prism-code language-unknown"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line"><span class="token plain">输入：nums = [2,2,2,1,2,2,1,2,2,2], k = 2</span></div><div class="token-line"><span class="token plain">输出：16</span></div></pre></div><p><strong>提示：</strong></p><ul><li><code>1 &lt;= nums.length &lt;= 50000</code></li><li><code>1 &lt;= nums[i] &lt;= 10^5</code></li><li><code>1 &lt;= k &lt;= nums.length</code></li></ul><h3 id="分析-20"><a aria-hidden="true" tabindex="-1" href="/enhanfe//algorithms/day#分析-20"><span class="icon icon-link"></span></a>分析</h3><p>巧妙解法，详细直接上代码。</p><h3 id="代码-21"><a aria-hidden="true" tabindex="-1" href="/enhanfe//algorithms/day#代码-21"><span class="icon icon-link"></span></a>代码</h3><div class="__dumi-default-code-block"><pre class="prism-code language-js"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line"><span class="token comment">/**</span></div><div class="token-line"><span class="token comment"> * @param {number[]} nums</span></div><div class="token-line"><span class="token comment"> * @param {number} k</span></div><div class="token-line"><span class="token comment"> * @return {number}</span></div><div class="token-line"><span class="token comment"> */</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token keyword">const</span><span class="token plain"> </span><span class="token function-variable function">numberOfSubarrays</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation">(</span><span class="token parameter">nums</span><span class="token parameter punctuation">,</span><span class="token parameter"> k</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token arrow operator">=&gt;</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token keyword">let</span><span class="token plain"> n </span><span class="token operator">=</span><span class="token plain"> nums</span><span class="token punctuation">.</span><span class="token property-access">length</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    counts </span><span class="token operator">=</span><span class="token plain"> </span><span class="token keyword">new</span><span class="token plain"> </span><span class="token class-name">Array</span><span class="token punctuation">(</span><span class="token plain">n </span><span class="token operator">+</span><span class="token plain"> </span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token method function property-access">fill</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token method function property-access">fill</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token number">0</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    oddCount </span><span class="token operator">=</span><span class="token plain"> </span><span class="token number">0</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    result </span><span class="token operator">=</span><span class="token plain"> </span><span class="token number">0</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token keyword control-flow">for</span><span class="token plain"> </span><span class="token punctuation">(</span><span class="token keyword">let</span><span class="token plain"> i </span><span class="token operator">=</span><span class="token plain"> </span><span class="token number">0</span><span class="token punctuation">;</span><span class="token plain"> i </span><span class="token operator">&lt;</span><span class="token plain"> n</span><span class="token punctuation">;</span><span class="token plain"> i</span><span class="token operator">++</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    oddCount </span><span class="token operator">+=</span><span class="token plain"> nums</span><span class="token punctuation">[</span><span class="token plain">i</span><span class="token punctuation">]</span><span class="token plain"> </span><span class="token operator">&amp;</span><span class="token plain"> </span><span class="token number">1</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    result </span><span class="token operator">+=</span><span class="token plain"> oddCount </span><span class="token operator">&gt;=</span><span class="token plain"> k </span><span class="token operator">?</span><span class="token plain"> counts</span><span class="token punctuation">[</span><span class="token plain">oddCount </span><span class="token operator">-</span><span class="token plain"> k</span><span class="token punctuation">]</span><span class="token plain"> </span><span class="token operator">:</span><span class="token plain"> </span><span class="token number">0</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    counts</span><span class="token punctuation">[</span><span class="token plain">oddCount</span><span class="token punctuation">]</span><span class="token plain"> </span><span class="token operator">+=</span><span class="token plain"> </span><span class="token number">1</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token keyword control-flow">return</span><span class="token plain"> result</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">}</span><span class="token punctuation">;</span></div></pre></div><h2 id="二叉树的右视图"><a aria-hidden="true" tabindex="-1" href="/enhanfe//algorithms/day#二叉树的右视图"><span class="icon icon-link"></span></a><a target="_blank" rel="noopener noreferrer" href="https://leetcode-cn.com/problems/binary-tree-right-side-view/">二叉树的右视图<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="__dumi-default-external-link-icon"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></h2><h3 id="描述-24"><a aria-hidden="true" tabindex="-1" href="/enhanfe//algorithms/day#描述-24"><span class="icon icon-link"></span></a>描述</h3><p>给定一棵二叉树，想象自己站在它的右侧，按照从顶部到底部的顺序，返回从右侧所能看到的节点值。</p><p><strong>示例 :</strong></p><div class="__dumi-default-code-block"><pre class="prism-code language-unknown"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line"><span class="token plain">输入: [1,2,3,null,5,null,4]</span></div><div class="token-line"><span class="token plain">输出: [1, 3, 4]</span></div><div class="token-line"><span class="token plain">解释:</span></div><div class="token-line"><span class="token plain">
</span></div><div class="token-line"><span class="token plain">   1            &lt;---</span></div><div class="token-line"><span class="token plain"> /   \</span></div><div class="token-line"><span class="token plain">2     3         &lt;---</span></div><div class="token-line"><span class="token plain"> \     \</span></div><div class="token-line"><span class="token plain">  5     4       &lt;---</span></div></pre></div><h3 id="分析-21"><a aria-hidden="true" tabindex="-1" href="/enhanfe//algorithms/day#分析-21"><span class="icon icon-link"></span></a>分析</h3><p>典型二叉树的遍历问题，可以使用递归深度优先搜索实现，转自 <strong>LeetCode</strong></p><p><img src="http://walker-markdown.oss-cn-shenzhen.aliyuncs.com/uPic/UDR6qR.jpg" alt="UDR6qR"/></p><h3 id="代码-22"><a aria-hidden="true" tabindex="-1" href="/enhanfe//algorithms/day#代码-22"><span class="icon icon-link"></span></a>代码</h3><div class="__dumi-default-code-block"><pre class="prism-code language-js"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line"><span class="token comment">/**</span></div><div class="token-line"><span class="token comment"> * Definition for a binary tree node.</span></div><div class="token-line"><span class="token comment"> * function TreeNode(val) {</span></div><div class="token-line"><span class="token comment"> *     this.val = val;</span></div><div class="token-line"><span class="token comment"> *     this.left = this.right = null;</span></div><div class="token-line"><span class="token comment"> * }</span></div><div class="token-line"><span class="token comment"> */</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token comment">/**</span></div><div class="token-line"><span class="token comment"> * @param {TreeNode} root</span></div><div class="token-line"><span class="token comment"> * @return {number[]}</span></div><div class="token-line"><span class="token comment"> */</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token keyword">var</span><span class="token plain"> </span><span class="token function-variable function">rightSideView</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">root</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token keyword control-flow">if</span><span class="token plain"> </span><span class="token punctuation">(</span><span class="token operator">!</span><span class="token plain">root</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token keyword control-flow">return</span><span class="token plain"> </span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token keyword">let</span><span class="token plain"> arr </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token function">dfs</span><span class="token punctuation">(</span><span class="token plain">root</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token number">0</span><span class="token punctuation">,</span><span class="token plain"> arr</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token keyword control-flow">return</span><span class="token plain"> arr</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token keyword">function</span><span class="token plain"> </span><span class="token function">dfs</span><span class="token punctuation">(</span><span class="token parameter">root</span><span class="token parameter punctuation">,</span><span class="token parameter"> step</span><span class="token parameter punctuation">,</span><span class="token parameter"> res</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token keyword control-flow">if</span><span class="token plain"> </span><span class="token punctuation">(</span><span class="token plain">root</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token keyword control-flow">if</span><span class="token plain"> </span><span class="token punctuation">(</span><span class="token plain">res</span><span class="token punctuation">.</span><span class="token property-access">length</span><span class="token plain"> </span><span class="token operator">===</span><span class="token plain"> step</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">      res</span><span class="token punctuation">.</span><span class="token method function property-access">push</span><span class="token punctuation">(</span><span class="token plain">root</span><span class="token punctuation">.</span><span class="token property-access">val</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"> </span><span class="token comment">// 当数组长度等于当前 深度 时, 把当前的值加入数组</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token function">dfs</span><span class="token punctuation">(</span><span class="token plain">root</span><span class="token punctuation">.</span><span class="token property-access">right</span><span class="token punctuation">,</span><span class="token plain"> step </span><span class="token operator">+</span><span class="token plain"> </span><span class="token number">1</span><span class="token punctuation">,</span><span class="token plain"> res</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"> </span><span class="token comment">// 先从右边开始, 当右边没了, 再轮到左边</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token function">dfs</span><span class="token punctuation">(</span><span class="token plain">root</span><span class="token punctuation">.</span><span class="token property-access">left</span><span class="token punctuation">,</span><span class="token plain"> step </span><span class="token operator">+</span><span class="token plain"> </span><span class="token number">1</span><span class="token punctuation">,</span><span class="token plain"> res</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">}</span></div></pre></div><h2 id="硬币"><a aria-hidden="true" tabindex="-1" href="/enhanfe//algorithms/day#硬币"><span class="icon icon-link"></span></a><a target="_blank" rel="noopener noreferrer" href="https://leetcode-cn.com/problems/coin-lcci/">硬币<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="__dumi-default-external-link-icon"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></h2><h3 id="描述-25"><a aria-hidden="true" tabindex="-1" href="/enhanfe//algorithms/day#描述-25"><span class="icon icon-link"></span></a>描述</h3><p>硬币。给定数量不限的硬币，币值为 25 分、10 分、5 分和 1 分，编写代码计算 n 分有几种表示法。(结果可能会很大，你需要将结果模上 1000000007)</p><p><strong>示例 1 :</strong></p><div class="__dumi-default-code-block"><pre class="prism-code language-unknown"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line"><span class="token plain">输入: n = 5</span></div><div class="token-line"><span class="token plain"> 输出：2</span></div><div class="token-line"><span class="token plain"> 解释: 有两种方式可以凑成总金额:</span></div><div class="token-line"><span class="token plain">5=5</span></div><div class="token-line"><span class="token plain">5=1+1+1+1+1</span></div></pre></div><p><strong>示例 2 :</strong></p><div class="__dumi-default-code-block"><pre class="prism-code language-unknown"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line"><span class="token plain">输入: n = 10</span></div><div class="token-line"><span class="token plain"> 输出：4</span></div><div class="token-line"><span class="token plain"> 解释: 有四种方式可以凑成总金额:</span></div><div class="token-line"><span class="token plain">10=10</span></div><div class="token-line"><span class="token plain">10=5+5</span></div><div class="token-line"><span class="token plain">10=5+1+1+1+1+1</span></div><div class="token-line"><span class="token plain">10=1+1+1+1+1+1+1+1+1+1</span></div></pre></div><p><strong>说明：</strong></p><p>注意:</p><p>你可以假设：</p><ul><li>0 &lt;= n (总金额) &lt;= 1000000</li></ul><h3 id="分析-22"><a aria-hidden="true" tabindex="-1" href="/enhanfe//algorithms/day#分析-22"><span class="icon icon-link"></span></a>分析</h3><p>本题可使用动态规划或数学解法求解，以动态规划为例。</p><h3 id="代码-23"><a aria-hidden="true" tabindex="-1" href="/enhanfe//algorithms/day#代码-23"><span class="icon icon-link"></span></a>代码</h3><div class="__dumi-default-code-block"><pre class="prism-code language-js"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line"><span class="token comment">/**</span></div><div class="token-line"><span class="token comment"> * @param {number} n</span></div><div class="token-line"><span class="token comment"> * @return {number}</span></div><div class="token-line"><span class="token comment"> */</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token keyword">let</span><span class="token plain"> </span><span class="token function-variable function">waysToChange</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token parameter">n</span><span class="token plain"> </span><span class="token arrow operator">=&gt;</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token keyword">let</span><span class="token plain"> dp </span><span class="token operator">=</span><span class="token plain"> </span><span class="token keyword">new</span><span class="token plain"> </span><span class="token class-name">Array</span><span class="token punctuation">(</span><span class="token plain">n </span><span class="token operator">+</span><span class="token plain"> </span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token method function property-access">fill</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token keyword">let</span><span class="token plain"> coins </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token number">5</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token number">10</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token number">25</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token keyword control-flow">for</span><span class="token plain"> </span><span class="token punctuation">(</span><span class="token keyword">let</span><span class="token plain"> i </span><span class="token operator">=</span><span class="token plain"> </span><span class="token number">1</span><span class="token punctuation">;</span><span class="token plain"> i </span><span class="token operator">&lt;</span><span class="token plain"> </span><span class="token number">4</span><span class="token punctuation">;</span><span class="token plain"> i</span><span class="token operator">++</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token keyword control-flow">for</span><span class="token plain"> </span><span class="token punctuation">(</span><span class="token keyword">let</span><span class="token plain"> j </span><span class="token operator">=</span><span class="token plain"> </span><span class="token number">1</span><span class="token punctuation">;</span><span class="token plain"> j </span><span class="token operator">&lt;=</span><span class="token plain"> n</span><span class="token punctuation">;</span><span class="token plain"> j</span><span class="token operator">++</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">      </span><span class="token keyword control-flow">if</span><span class="token plain"> </span><span class="token punctuation">(</span><span class="token plain">j </span><span class="token operator">-</span><span class="token plain"> coins</span><span class="token punctuation">[</span><span class="token plain">i</span><span class="token punctuation">]</span><span class="token plain"> </span><span class="token operator">&gt;=</span><span class="token plain"> </span><span class="token number">0</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">        dp</span><span class="token punctuation">[</span><span class="token plain">j</span><span class="token punctuation">]</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation">(</span><span class="token plain">dp</span><span class="token punctuation">[</span><span class="token plain">j</span><span class="token punctuation">]</span><span class="token plain"> </span><span class="token operator">+</span><span class="token plain"> dp</span><span class="token punctuation">[</span><span class="token plain">j </span><span class="token operator">-</span><span class="token plain"> coins</span><span class="token punctuation">[</span><span class="token plain">i</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token operator">%</span><span class="token plain"> </span><span class="token punctuation">(</span><span class="token number">1e9</span><span class="token plain"> </span><span class="token operator">+</span><span class="token plain"> </span><span class="token number">7</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">      </span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token keyword control-flow">return</span><span class="token plain"> dp</span><span class="token punctuation">[</span><span class="token plain">n</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">}</span><span class="token punctuation">;</span></div></pre></div><h2 id="数组中的逆序对"><a aria-hidden="true" tabindex="-1" href="/enhanfe//algorithms/day#数组中的逆序对"><span class="icon icon-link"></span></a><a target="_blank" rel="noopener noreferrer" href="https://leetcode-cn.com/problems/shu-zu-zhong-de-ni-xu-dui-lcof/">数组中的逆序对<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="__dumi-default-external-link-icon"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></h2><h3 id="描述-26"><a aria-hidden="true" tabindex="-1" href="/enhanfe//algorithms/day#描述-26"><span class="icon icon-link"></span></a>描述</h3><p>在数组中的两个数字，如果前面一个数字大于后面的数字，则这两个数字组成一个逆序对。输入一个数组，求出这个数组中的逆序对的总数。</p><p><strong>示例 :</strong></p><div class="__dumi-default-code-block"><pre class="prism-code language-unknown"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line"><span class="token plain">输入: [7,5,6,4]</span></div><div class="token-line"><span class="token plain">输出: 5</span></div></pre></div><p><strong>限制：</strong></p><p><code>0 &lt;= 数组长度 &lt;= 50000</code></p><h3 id="分析-23"><a aria-hidden="true" tabindex="-1" href="/enhanfe//algorithms/day#分析-23"><span class="icon icon-link"></span></a>分析</h3><p>首先能想到使用暴力解法，双重循环，但时间复杂度为 N 方，显然有待改进。</p><p>可使用归并的方式实现</p><h3 id="代码-24"><a aria-hidden="true" tabindex="-1" href="/enhanfe//algorithms/day#代码-24"><span class="icon icon-link"></span></a>代码</h3><div class="__dumi-default-code-block"><pre class="prism-code language-js"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line"><span class="token comment">/**</span></div><div class="token-line"><span class="token comment"> * @param {number[]} nums</span></div><div class="token-line"><span class="token comment"> * @return {number}</span></div><div class="token-line"><span class="token comment"> */</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token keyword">var</span><span class="token plain"> </span><span class="token function-variable function">reversePairs</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">nums</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token comment">// 归并排序</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token keyword">let</span><span class="token plain"> sum </span><span class="token operator">=</span><span class="token plain"> </span><span class="token number">0</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token function">mergeSort</span><span class="token punctuation">(</span><span class="token plain">nums</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token keyword control-flow">return</span><span class="token plain"> sum</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">
</span></div><div class="token-line"><span class="token plain">  </span><span class="token keyword">function</span><span class="token plain"> </span><span class="token function">mergeSort</span><span class="token punctuation">(</span><span class="token parameter">nums</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token keyword control-flow">if</span><span class="token plain"> </span><span class="token punctuation">(</span><span class="token plain">nums</span><span class="token punctuation">.</span><span class="token property-access">length</span><span class="token plain"> </span><span class="token operator">&lt;</span><span class="token plain"> </span><span class="token number">2</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token keyword control-flow">return</span><span class="token plain"> nums</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token keyword">const</span><span class="token plain"> mid </span><span class="token operator">=</span><span class="token plain"> </span><span class="token function">parseInt</span><span class="token punctuation">(</span><span class="token plain">nums</span><span class="token punctuation">.</span><span class="token property-access">length</span><span class="token plain"> </span><span class="token operator">/</span><span class="token plain"> </span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token keyword">let</span><span class="token plain"> left </span><span class="token operator">=</span><span class="token plain"> nums</span><span class="token punctuation">.</span><span class="token method function property-access">slice</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token plain"> mid</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token keyword">let</span><span class="token plain"> right </span><span class="token operator">=</span><span class="token plain"> nums</span><span class="token punctuation">.</span><span class="token method function property-access">slice</span><span class="token punctuation">(</span><span class="token plain">mid</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token keyword control-flow">return</span><span class="token plain"> </span><span class="token function">merge</span><span class="token punctuation">(</span><span class="token function">mergeSort</span><span class="token punctuation">(</span><span class="token plain">left</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token function">mergeSort</span><span class="token punctuation">(</span><span class="token plain">right</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">
</span></div><div class="token-line"><span class="token plain">  </span><span class="token keyword">function</span><span class="token plain"> </span><span class="token function">merge</span><span class="token punctuation">(</span><span class="token parameter">left</span><span class="token parameter punctuation">,</span><span class="token parameter"> right</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token keyword">let</span><span class="token plain"> res </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token keyword">let</span><span class="token plain"> leftLen </span><span class="token operator">=</span><span class="token plain"> left</span><span class="token punctuation">.</span><span class="token property-access">length</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token keyword">let</span><span class="token plain"> rightLen </span><span class="token operator">=</span><span class="token plain"> right</span><span class="token punctuation">.</span><span class="token property-access">length</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token keyword">let</span><span class="token plain"> len </span><span class="token operator">=</span><span class="token plain"> leftLen </span><span class="token operator">+</span><span class="token plain"> rightLen</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token keyword control-flow">for</span><span class="token plain"> </span><span class="token punctuation">(</span><span class="token keyword">let</span><span class="token plain"> index </span><span class="token operator">=</span><span class="token plain"> </span><span class="token number">0</span><span class="token punctuation">,</span><span class="token plain"> i </span><span class="token operator">=</span><span class="token plain"> </span><span class="token number">0</span><span class="token punctuation">,</span><span class="token plain"> j </span><span class="token operator">=</span><span class="token plain"> </span><span class="token number">0</span><span class="token punctuation">;</span><span class="token plain"> index </span><span class="token operator">&lt;</span><span class="token plain"> len</span><span class="token punctuation">;</span><span class="token plain"> index</span><span class="token operator">++</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">      </span><span class="token keyword control-flow">if</span><span class="token plain"> </span><span class="token punctuation">(</span><span class="token plain">i </span><span class="token operator">&gt;=</span><span class="token plain"> leftLen</span><span class="token punctuation">)</span><span class="token plain"> res</span><span class="token punctuation">[</span><span class="token plain">index</span><span class="token punctuation">]</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> right</span><span class="token punctuation">[</span><span class="token plain">j</span><span class="token operator">++</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">      </span><span class="token keyword control-flow">else</span><span class="token plain"> </span><span class="token keyword control-flow">if</span><span class="token plain"> </span><span class="token punctuation">(</span><span class="token plain">j </span><span class="token operator">&gt;=</span><span class="token plain"> rightLen</span><span class="token punctuation">)</span><span class="token plain"> res</span><span class="token punctuation">[</span><span class="token plain">index</span><span class="token punctuation">]</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> left</span><span class="token punctuation">[</span><span class="token plain">i</span><span class="token operator">++</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">      </span><span class="token keyword control-flow">else</span><span class="token plain"> </span><span class="token keyword control-flow">if</span><span class="token plain"> </span><span class="token punctuation">(</span><span class="token plain">left</span><span class="token punctuation">[</span><span class="token plain">i</span><span class="token punctuation">]</span><span class="token plain"> </span><span class="token operator">&lt;=</span><span class="token plain"> right</span><span class="token punctuation">[</span><span class="token plain">j</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token plain"> res</span><span class="token punctuation">[</span><span class="token plain">index</span><span class="token punctuation">]</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> left</span><span class="token punctuation">[</span><span class="token plain">i</span><span class="token operator">++</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">      </span><span class="token keyword control-flow">else</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">        res</span><span class="token punctuation">[</span><span class="token plain">index</span><span class="token punctuation">]</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> right</span><span class="token punctuation">[</span><span class="token plain">j</span><span class="token operator">++</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">        sum </span><span class="token operator">+=</span><span class="token plain"> leftLen </span><span class="token operator">-</span><span class="token plain"> i</span><span class="token punctuation">;</span><span class="token plain"> </span><span class="token comment">//在归并排序中唯一加的一行代码</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">      </span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token keyword control-flow">return</span><span class="token plain"> res</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">}</span><span class="token punctuation">;</span></div></pre></div><h2 id="合并-k-个排序链表"><a aria-hidden="true" tabindex="-1" href="/enhanfe//algorithms/day#合并-k-个排序链表"><span class="icon icon-link"></span></a><a target="_blank" rel="noopener noreferrer" href="https://leetcode-cn.com/problems/merge-k-sorted-lists/">合并 K 个排序链表<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="__dumi-default-external-link-icon"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></h2><h3 id="描述-27"><a aria-hidden="true" tabindex="-1" href="/enhanfe//algorithms/day#描述-27"><span class="icon icon-link"></span></a>描述</h3><p>合并 <em>k</em> 个排序链表，返回合并后的排序链表。请分析和描述算法的复杂度。</p><p><strong>示例 :</strong></p><div class="__dumi-default-code-block"><pre class="prism-code language-unknown"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line"><span class="token plain">输入:</span></div><div class="token-line"><span class="token plain">[</span></div><div class="token-line"><span class="token plain">  1-&gt;4-&gt;5,</span></div><div class="token-line"><span class="token plain">  1-&gt;3-&gt;4,</span></div><div class="token-line"><span class="token plain">  2-&gt;6</span></div><div class="token-line"><span class="token plain">]</span></div><div class="token-line"><span class="token plain">输出: 1-&gt;1-&gt;2-&gt;3-&gt;4-&gt;4-&gt;5-&gt;6</span></div></pre></div><h3 id="分析-24"><a aria-hidden="true" tabindex="-1" href="/enhanfe//algorithms/day#分析-24"><span class="icon icon-link"></span></a>分析</h3><p>实现思路很多，比如：</p><ol><li>双指针+合并</li><li>递归 + 分治</li><li>优先级队列</li><li>转换为数组求解</li></ol><p>我们以递归+分支思路为例</p><p><img src="http://walker-markdown.oss-cn-shenzhen.aliyuncs.com/uPic/JtciiU.jpg" alt="JtciiU"/></p><h3 id="代码-25"><a aria-hidden="true" tabindex="-1" href="/enhanfe//algorithms/day#代码-25"><span class="icon icon-link"></span></a>代码</h3><div class="__dumi-default-code-block"><pre class="prism-code language-js"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line"><span class="token comment">/**</span></div><div class="token-line"><span class="token comment"> * Definition for singly-linked list.</span></div><div class="token-line"><span class="token comment"> * function ListNode(val) {</span></div><div class="token-line"><span class="token comment"> *     this.val = val;</span></div><div class="token-line"><span class="token comment"> *     this.next = null;</span></div><div class="token-line"><span class="token comment"> * }</span></div><div class="token-line"><span class="token comment"> */</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token comment">/**</span></div><div class="token-line"><span class="token comment"> * @param {ListNode[]} lists</span></div><div class="token-line"><span class="token comment"> * @return {ListNode}</span></div><div class="token-line"><span class="token comment"> */</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token keyword">var</span><span class="token plain"> </span><span class="token function-variable function">mergeKLists</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">lists</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token keyword">let</span><span class="token plain"> n </span><span class="token operator">=</span><span class="token plain"> lists</span><span class="token punctuation">.</span><span class="token property-access">length</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token keyword control-flow">if</span><span class="token plain"> </span><span class="token punctuation">(</span><span class="token plain">n </span><span class="token operator">==</span><span class="token plain"> </span><span class="token number">0</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token keyword control-flow">return</span><span class="token plain"> </span><span class="token keyword null nil">null</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token keyword">let</span><span class="token plain"> </span><span class="token function-variable function">mergeTwoLists</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation">(</span><span class="token parameter">l1</span><span class="token parameter punctuation">,</span><span class="token parameter"> l2</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token arrow operator">=&gt;</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token keyword control-flow">if</span><span class="token plain"> </span><span class="token punctuation">(</span><span class="token plain">l1 </span><span class="token operator">==</span><span class="token plain"> </span><span class="token keyword null nil">null</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token keyword control-flow">return</span><span class="token plain"> l2</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token keyword control-flow">if</span><span class="token plain"> </span><span class="token punctuation">(</span><span class="token plain">l2 </span><span class="token operator">==</span><span class="token plain"> </span><span class="token keyword null nil">null</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token keyword control-flow">return</span><span class="token plain"> l1</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token keyword control-flow">if</span><span class="token plain"> </span><span class="token punctuation">(</span><span class="token plain">l1</span><span class="token punctuation">.</span><span class="token property-access">val</span><span class="token plain"> </span><span class="token operator">&lt;=</span><span class="token plain"> l2</span><span class="token punctuation">.</span><span class="token property-access">val</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">      l1</span><span class="token punctuation">.</span><span class="token property-access">next</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token function">mergeTwoLists</span><span class="token punctuation">(</span><span class="token plain">l1</span><span class="token punctuation">.</span><span class="token property-access">next</span><span class="token punctuation">,</span><span class="token plain"> l2</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">      </span><span class="token keyword control-flow">return</span><span class="token plain"> l1</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token punctuation">}</span><span class="token plain"> </span><span class="token keyword control-flow">else</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">      l2</span><span class="token punctuation">.</span><span class="token property-access">next</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token function">mergeTwoLists</span><span class="token punctuation">(</span><span class="token plain">l1</span><span class="token punctuation">,</span><span class="token plain"> l2</span><span class="token punctuation">.</span><span class="token property-access">next</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">      </span><span class="token keyword control-flow">return</span><span class="token plain"> l2</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token keyword">let</span><span class="token plain"> </span><span class="token function-variable function">merge</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation">(</span><span class="token parameter">left</span><span class="token parameter punctuation">,</span><span class="token parameter"> right</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token arrow operator">=&gt;</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token keyword control-flow">if</span><span class="token plain"> </span><span class="token punctuation">(</span><span class="token plain">left </span><span class="token operator">==</span><span class="token plain"> right</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token keyword control-flow">return</span><span class="token plain"> lists</span><span class="token punctuation">[</span><span class="token plain">left</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token keyword">let</span><span class="token plain"> mid </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation">(</span><span class="token plain">left </span><span class="token operator">+</span><span class="token plain"> right</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token operator">&gt;&gt;</span><span class="token plain"> </span><span class="token number">1</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token keyword">let</span><span class="token plain"> l1 </span><span class="token operator">=</span><span class="token plain"> </span><span class="token function">merge</span><span class="token punctuation">(</span><span class="token plain">left</span><span class="token punctuation">,</span><span class="token plain"> mid</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token keyword">let</span><span class="token plain"> l2 </span><span class="token operator">=</span><span class="token plain"> </span><span class="token function">merge</span><span class="token punctuation">(</span><span class="token plain">mid </span><span class="token operator">+</span><span class="token plain"> </span><span class="token number">1</span><span class="token punctuation">,</span><span class="token plain"> right</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token keyword control-flow">return</span><span class="token plain"> </span><span class="token function">mergeTwoLists</span><span class="token punctuation">(</span><span class="token plain">l1</span><span class="token punctuation">,</span><span class="token plain"> l2</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token keyword control-flow">return</span><span class="token plain"> </span><span class="token function">merge</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token plain"> n </span><span class="token operator">-</span><span class="token plain"> </span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">}</span><span class="token punctuation">;</span></div></pre></div><h2 id="搜索旋转排序数组"><a aria-hidden="true" tabindex="-1" href="/enhanfe//algorithms/day#搜索旋转排序数组"><span class="icon icon-link"></span></a><a target="_blank" rel="noopener noreferrer" href="https://leetcode-cn.com/problems/search-in-rotated-sorted-array/">搜索旋转排序数组<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="__dumi-default-external-link-icon"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></h2><h3 id="描述-28"><a aria-hidden="true" tabindex="-1" href="/enhanfe//algorithms/day#描述-28"><span class="icon icon-link"></span></a>描述</h3><p>假设按照升序排序的数组在预先未知的某个点上进行了旋转。</p><p>( 例如，数组 <code>[0,1,2,4,5,6,7]</code> 可能变为 <code>[4,5,6,7,0,1,2]</code> )。</p><p>搜索一个给定的目标值，如果数组中存在这个目标值，则返回它的索引，否则返回 <code>-1</code> 。</p><p>你可以假设数组中不存在重复的元素。</p><p>你的算法时间复杂度必须是 O(log n) 级别。</p><p><strong>示例 1 :</strong></p><div class="__dumi-default-code-block"><pre class="prism-code language-unknown"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line"><span class="token plain">输入: nums = [4,5,6,7,0,1,2], target = 0</span></div><div class="token-line"><span class="token plain">输出: 4</span></div></pre></div><p><strong>示例 2:</strong></p><div class="__dumi-default-code-block"><pre class="prism-code language-unknown"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line"><span class="token plain">输入: nums = [4,5,6,7,0,1,2], target = 3</span></div><div class="token-line"><span class="token plain">输出: -1</span></div></pre></div><h3 id="分析-25"><a aria-hidden="true" tabindex="-1" href="/enhanfe//algorithms/day#分析-25"><span class="icon icon-link"></span></a>分析</h3><p>使用二分法即可完成，当然 JavaScript 中的数组方法 <code>index</code> 已实现该功能，见代码二。</p><h3 id="代码-26"><a aria-hidden="true" tabindex="-1" href="/enhanfe//algorithms/day#代码-26"><span class="icon icon-link"></span></a>代码</h3><div class="__dumi-default-code-block"><pre class="prism-code language-js"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line"><span class="token comment">/**</span></div><div class="token-line"><span class="token comment"> * @param {number[]} nums</span></div><div class="token-line"><span class="token comment"> * @param {number} target</span></div><div class="token-line"><span class="token comment"> * @return {number}</span></div><div class="token-line"><span class="token comment"> */</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token keyword">var</span><span class="token plain"> </span><span class="token function-variable function">search</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">nums</span><span class="token parameter punctuation">,</span><span class="token parameter"> target</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token keyword">let</span><span class="token plain"> l </span><span class="token operator">=</span><span class="token plain"> </span><span class="token number">0</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token keyword">let</span><span class="token plain"> r </span><span class="token operator">=</span><span class="token plain"> nums</span><span class="token punctuation">.</span><span class="token property-access">length</span><span class="token plain"> </span><span class="token operator">-</span><span class="token plain"> </span><span class="token number">1</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token keyword control-flow">while</span><span class="token plain"> </span><span class="token punctuation">(</span><span class="token plain">l </span><span class="token operator">&lt;=</span><span class="token plain"> r</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token keyword">let</span><span class="token plain"> mid </span><span class="token operator">=</span><span class="token plain"> l </span><span class="token operator">+</span><span class="token plain"> </span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token plain">r </span><span class="token operator">-</span><span class="token plain"> l</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token operator">&gt;&gt;</span><span class="token plain"> </span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"> </span><span class="token comment">// 取中间索引</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token keyword control-flow">if</span><span class="token plain"> </span><span class="token punctuation">(</span><span class="token plain">nums</span><span class="token punctuation">[</span><span class="token plain">mid</span><span class="token punctuation">]</span><span class="token plain"> </span><span class="token operator">===</span><span class="token plain"> target</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token keyword control-flow">return</span><span class="token plain"> mid</span><span class="token punctuation">;</span><span class="token plain"> </span><span class="token comment">// 找到了 直接返回</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">
</span></div><div class="token-line"><span class="token plain">    </span><span class="token keyword control-flow">if</span><span class="token plain"> </span><span class="token punctuation">(</span><span class="token plain">nums</span><span class="token punctuation">[</span><span class="token plain">l</span><span class="token punctuation">]</span><span class="token plain"> </span><span class="token operator">&lt;=</span><span class="token plain"> nums</span><span class="token punctuation">[</span><span class="token plain">mid</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">      </span><span class="token comment">// 如果第一个元素 小于等于 中间元素 表示 左边的是增序的 如[4,5,6,7,0,1,2]</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">
</span></div><div class="token-line"><span class="token plain">      </span><span class="token comment">// 如果target 小于 中间元素, 大于第一个元素 ,说明target处于 [l, mid]间</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">      </span><span class="token keyword control-flow">if</span><span class="token plain"> </span><span class="token punctuation">(</span><span class="token plain">nums</span><span class="token punctuation">[</span><span class="token plain">mid</span><span class="token punctuation">]</span><span class="token plain"> </span><span class="token operator">&gt;</span><span class="token plain"> target </span><span class="token operator">&amp;&amp;</span><span class="token plain"> nums</span><span class="token punctuation">[</span><span class="token plain">l</span><span class="token punctuation">]</span><span class="token plain"> </span><span class="token operator">&lt;=</span><span class="token plain"> target</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">        r </span><span class="token operator">=</span><span class="token plain"> mid </span><span class="token operator">-</span><span class="token plain"> </span><span class="token number">1</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">      </span><span class="token punctuation">}</span><span class="token plain"> </span><span class="token keyword control-flow">else</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">        </span><span class="token comment">// 否则处于 [mid + 1, r]中</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">        l </span><span class="token operator">=</span><span class="token plain"> mid </span><span class="token operator">+</span><span class="token plain"> </span><span class="token number">1</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">      </span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token punctuation">}</span><span class="token plain"> </span><span class="token keyword control-flow">else</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">      </span><span class="token comment">// 否则 右边是增序的 如[6,7,0,1,2,4,5]</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">
</span></div><div class="token-line"><span class="token plain">      </span><span class="token comment">// 如果target 大于中间元素 小于最后元素, 说明处于[mid + 1, r]中</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">      </span><span class="token keyword control-flow">if</span><span class="token plain"> </span><span class="token punctuation">(</span><span class="token plain">nums</span><span class="token punctuation">[</span><span class="token plain">mid</span><span class="token punctuation">]</span><span class="token plain"> </span><span class="token operator">&lt;</span><span class="token plain"> target </span><span class="token operator">&amp;&amp;</span><span class="token plain"> nums</span><span class="token punctuation">[</span><span class="token plain">r</span><span class="token punctuation">]</span><span class="token plain"> </span><span class="token operator">&gt;=</span><span class="token plain"> target</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">        l </span><span class="token operator">=</span><span class="token plain"> mid </span><span class="token operator">+</span><span class="token plain"> </span><span class="token number">1</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">      </span><span class="token punctuation">}</span><span class="token plain"> </span><span class="token keyword control-flow">else</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">        </span><span class="token comment">// 否则处于[l, mid - 1]中</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">        r </span><span class="token operator">=</span><span class="token plain"> mid </span><span class="token operator">-</span><span class="token plain"> </span><span class="token number">1</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">      </span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token comment">// 没找到</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token keyword control-flow">return</span><span class="token plain"> </span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">}</span><span class="token punctuation">;</span></div></pre></div><h3 id="代码二"><a aria-hidden="true" tabindex="-1" href="/enhanfe//algorithms/day#代码二"><span class="icon icon-link"></span></a>代码二</h3><div class="__dumi-default-code-block"><pre class="prism-code language-js"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line"><span class="token keyword">var</span><span class="token plain"> </span><span class="token function-variable function">search</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">nums</span><span class="token parameter punctuation">,</span><span class="token parameter"> target</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token keyword control-flow">return</span><span class="token plain"> nums</span><span class="token punctuation">.</span><span class="token method function property-access">indexOf</span><span class="token punctuation">(</span><span class="token plain">target</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">}</span><span class="token punctuation">;</span></div></pre></div><h2 id="数组中数字出现的次数"><a aria-hidden="true" tabindex="-1" href="/enhanfe//algorithms/day#数组中数字出现的次数"><span class="icon icon-link"></span></a><a target="_blank" rel="noopener noreferrer" href="https://leetcode-cn.com/problems/shu-zu-zhong-shu-zi-chu-xian-de-ci-shu-lcof/">数组中数字出现的次数<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="__dumi-default-external-link-icon"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></h2><h3 id="描述-29"><a aria-hidden="true" tabindex="-1" href="/enhanfe//algorithms/day#描述-29"><span class="icon icon-link"></span></a>描述</h3><p>一个整型数组 <code>nums</code> 里除两个数字之外，其他数字都出现了两次。请写程序找出这两个只出现一次的数字。要求时间复杂度是 O(n)，空间复杂度是 O(1)。</p><p><strong>示例 1 :</strong></p><div class="__dumi-default-code-block"><pre class="prism-code language-unknown"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line"><span class="token plain">输入：nums = [4,1,4,6]</span></div><div class="token-line"><span class="token plain">输出：[1,6] 或 [6,1]</span></div></pre></div><p><strong>示例 2:</strong></p><div class="__dumi-default-code-block"><pre class="prism-code language-unknown"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line"><span class="token plain">输入：nums = [1,2,10,4,1,4,3,3]</span></div><div class="token-line"><span class="token plain">输出：[2,10] 或 [10,2]</span></div></pre></div><p><strong>限制：</strong></p><ul><li><code>2 &lt;= nums &lt;= 10000</code></li></ul><h3 id="分析-26"><a aria-hidden="true" tabindex="-1" href="/enhanfe//algorithms/day#分析-26"><span class="icon icon-link"></span></a>分析</h3><p>hash 表解决这个问题很简单，见代码。</p><h3 id="代码-27"><a aria-hidden="true" tabindex="-1" href="/enhanfe//algorithms/day#代码-27"><span class="icon icon-link"></span></a>代码</h3><div class="__dumi-default-code-block"><pre class="prism-code language-js"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line"><span class="token keyword">var</span><span class="token plain"> </span><span class="token function-variable function">singleNumbers</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">nums</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token keyword">var</span><span class="token plain"> obj </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  nums</span><span class="token punctuation">.</span><span class="token method function property-access">forEach</span><span class="token punctuation">(</span><span class="token parameter">count</span><span class="token plain"> </span><span class="token arrow operator">=&gt;</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token keyword">let</span><span class="token plain"> attr </span><span class="token operator">=</span><span class="token plain"> count </span><span class="token operator">+</span><span class="token plain"> </span><span class="token string">&#x27;&#x27;</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    obj</span><span class="token punctuation">[</span><span class="token plain">attr</span><span class="token punctuation">]</span><span class="token plain"> </span><span class="token operator">?</span><span class="token plain"> </span><span class="token keyword">delete</span><span class="token plain"> obj</span><span class="token punctuation">[</span><span class="token plain">attr</span><span class="token punctuation">]</span><span class="token plain"> </span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation">(</span><span class="token plain">obj</span><span class="token punctuation">[</span><span class="token plain">attr</span><span class="token punctuation">]</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token keyword control-flow">return</span><span class="token plain"> </span><span class="token known-class-name class-name">Object</span><span class="token punctuation">.</span><span class="token method function property-access">keys</span><span class="token punctuation">(</span><span class="token plain">obj</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">}</span><span class="token punctuation">;</span></div></pre></div><h2 id="山脉数组中查找目标值"><a aria-hidden="true" tabindex="-1" href="/enhanfe//algorithms/day#山脉数组中查找目标值"><span class="icon icon-link"></span></a><a target="_blank" rel="noopener noreferrer" href="https://leetcode-cn.com/problems/find-in-mountain-array/">山脉数组中查找目标值<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="__dumi-default-external-link-icon"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></h2><h3 id="描述-30"><a aria-hidden="true" tabindex="-1" href="/enhanfe//algorithms/day#描述-30"><span class="icon icon-link"></span></a>描述</h3><p>一个整型数组 <code>nums</code> 里除两个数字之外，其他数字都出现了两次。请写程序找出这两个只出现一次的数字。要求时间复杂度是 O(n)，空间复杂度是 O(1)。</p><p>这是一个 交互式问题 ）</p><p>给你一个 山脉数组 mountainArr，请你返回能够使得 mountainArr.get(index) 等于 target 最小 的下标 index 值。</p><p>如果不存在这样的下标 index，就请返回 -1。</p><p>何为山脉数组？如果数组 A 是一个山脉数组的话，那它满足如下条件：</p><p><strong>首先</strong>，A.length &gt;= 3</p><p><strong>其次</strong>，在 0 &lt; i &lt; A.length - 1 条件下，存在 i 使得：</p><p>A[0] &lt; A[1] &lt; ... A[i-1] &lt; A[i] A[i] &gt; A[i+1] &gt; ... &gt; A[A.length - 1]</p><p>你将 不能直接访问该山脉数组，必须通过 MountainArray 接口来获取数据：</p><p>MountainArray.get(k) - 会返回数组中索引为 k 的元素（下标从 0 开始） MountainArray.length() - 会返回该数组的长度</p><p>注意：</p><p>对 MountainArray.get 发起超过 100 次调用的提交将被视为错误答案。此外，任何试图规避判题系统的解决方案都将会导致比赛资格被取消。</p><h3 id="分析-27"><a aria-hidden="true" tabindex="-1" href="/enhanfe//algorithms/day#分析-27"><span class="icon icon-link"></span></a>分析</h3><p>分作两步就清晰好多了:</p><ol><li>把峰值找出來</li><li>按峰值把其分为左右两部分，先二分查找左边，左边没有再看右边</li></ol><h3 id="代码-28"><a aria-hidden="true" tabindex="-1" href="/enhanfe//algorithms/day#代码-28"><span class="icon icon-link"></span></a>代码</h3><div class="__dumi-default-code-block"><pre class="prism-code language-js"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line"><span class="token comment">/**</span></div><div class="token-line"><span class="token comment"> * @param {number} target</span></div><div class="token-line"><span class="token comment"> * @param {MountainArray} mountainArr</span></div><div class="token-line"><span class="token comment"> * @return {number}</span></div><div class="token-line"><span class="token comment"> */</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token keyword">var</span><span class="token plain"> </span><span class="token function-variable function">findInMountainArray</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">target</span><span class="token parameter punctuation">,</span><span class="token parameter"> mountainArr</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token comment">// 一 查找峰值</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token keyword">let</span><span class="token plain"> left </span><span class="token operator">=</span><span class="token plain"> </span><span class="token number">0</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token keyword">let</span><span class="token plain"> right </span><span class="token operator">=</span><span class="token plain"> mountainArr</span><span class="token punctuation">.</span><span class="token method function property-access">length</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token operator">-</span><span class="token plain"> </span><span class="token number">1</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token keyword">let</span><span class="token plain"> mid </span><span class="token operator">=</span><span class="token plain"> left </span><span class="token operator">+</span><span class="token plain"> </span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token plain">right </span><span class="token operator">-</span><span class="token plain"> left</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token operator">&gt;&gt;</span><span class="token plain"> </span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token keyword control-flow">while</span><span class="token plain"> </span><span class="token punctuation">(</span><span class="token plain">left </span><span class="token operator">&lt;=</span><span class="token plain"> right</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token keyword control-flow">if</span><span class="token plain"> </span><span class="token punctuation">(</span><span class="token plain">mountainArr</span><span class="token punctuation">.</span><span class="token method function property-access">get</span><span class="token punctuation">(</span><span class="token plain">mid</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token operator">&lt;</span><span class="token plain"> mountainArr</span><span class="token punctuation">.</span><span class="token method function property-access">get</span><span class="token punctuation">(</span><span class="token plain">mid </span><span class="token operator">+</span><span class="token plain"> </span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">      </span><span class="token comment">// 当mid小于右边的时,说明峰值在右边, 继续在右边查找</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">      left </span><span class="token operator">=</span><span class="token plain"> mid </span><span class="token operator">+</span><span class="token plain"> </span><span class="token number">1</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token punctuation">}</span><span class="token plain"> </span><span class="token keyword control-flow">else</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">      </span><span class="token comment">// 否则在左边, 继续在左边查找</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">      right </span><span class="token operator">=</span><span class="token plain"> mid </span><span class="token operator">-</span><span class="token plain"> </span><span class="token number">1</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    mid </span><span class="token operator">=</span><span class="token plain"> left </span><span class="token operator">+</span><span class="token plain"> </span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token plain">right </span><span class="token operator">-</span><span class="token plain"> left</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token operator">&gt;&gt;</span><span class="token plain"> </span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token comment">// 执行完上边的二分查找 left 就是峰值的下标了</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">
</span></div><div class="token-line"><span class="token plain">  </span><span class="token comment">// 二  根据峰值分两段 二分查找</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token keyword">let</span><span class="token plain"> res </span><span class="token operator">=</span><span class="token plain"> </span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  res </span><span class="token operator">=</span><span class="token plain"> </span><span class="token function">binarySearch</span><span class="token punctuation">(</span><span class="token plain">mountainArr</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token number">0</span><span class="token punctuation">,</span><span class="token plain"> left</span><span class="token punctuation">,</span><span class="token plain"> target</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  res </span><span class="token operator">===</span><span class="token plain"> </span><span class="token operator">-</span><span class="token number">1</span><span class="token plain"> </span><span class="token operator">&amp;&amp;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token punctuation">(</span><span class="token plain">res </span><span class="token operator">=</span><span class="token plain"> </span><span class="token function">binarySearch</span><span class="token punctuation">(</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">      mountainArr</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">      left</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">      mountainArr</span><span class="token punctuation">.</span><span class="token method function property-access">length</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token operator">-</span><span class="token plain"> </span><span class="token number">1</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">      target</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">      </span><span class="token boolean">false</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token keyword control-flow">return</span><span class="token plain"> res</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token comment">/**</span></div><div class="token-line"><span class="token comment"> * @param {MountainArray} mountainArr</span></div><div class="token-line"><span class="token comment"> * @param {number} left</span></div><div class="token-line"><span class="token comment"> * @param {number} right</span></div><div class="token-line"><span class="token comment"> * @param {number} target</span></div><div class="token-line"><span class="token comment"> * @param {Boolean} isUp</span></div><div class="token-line"><span class="token comment"> * @return {number}</span></div><div class="token-line"><span class="token comment"> */</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token keyword">function</span><span class="token plain"> </span><span class="token function">binarySearch</span><span class="token punctuation">(</span><span class="token parameter">mountainArr</span><span class="token parameter punctuation">,</span><span class="token parameter"> left</span><span class="token parameter punctuation">,</span><span class="token parameter"> right</span><span class="token parameter punctuation">,</span><span class="token parameter"> target</span><span class="token parameter punctuation">,</span><span class="token parameter"> isUp</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token keyword">let</span><span class="token plain"> mid </span><span class="token operator">=</span><span class="token plain"> left </span><span class="token operator">+</span><span class="token plain"> </span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token plain">right </span><span class="token operator">-</span><span class="token plain"> left</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token operator">&gt;&gt;</span><span class="token plain"> </span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"> </span><span class="token comment">// 获取中间索引</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token keyword control-flow">while</span><span class="token plain"> </span><span class="token punctuation">(</span><span class="token plain">left </span><span class="token operator">&lt;=</span><span class="token plain"> right</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token keyword">let</span><span class="token plain"> midValue </span><span class="token operator">=</span><span class="token plain"> mountainArr</span><span class="token punctuation">.</span><span class="token method function property-access">get</span><span class="token punctuation">(</span><span class="token plain">mid</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token keyword control-flow">if</span><span class="token plain"> </span><span class="token punctuation">(</span><span class="token plain">midValue </span><span class="token operator">===</span><span class="token plain"> target</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token keyword control-flow">return</span><span class="token plain"> mid</span><span class="token punctuation">;</span><span class="token plain"> </span><span class="token comment">// 找到直接返回</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token keyword control-flow">if</span><span class="token plain"> </span><span class="token punctuation">(</span><span class="token plain">midValue </span><span class="token operator">&lt;</span><span class="token plain"> target</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">      isUp </span><span class="token operator">?</span><span class="token plain"> </span><span class="token punctuation">(</span><span class="token plain">left </span><span class="token operator">=</span><span class="token plain"> mid </span><span class="token operator">+</span><span class="token plain"> </span><span class="token number">1</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation">(</span><span class="token plain">right </span><span class="token operator">=</span><span class="token plain"> mid </span><span class="token operator">-</span><span class="token plain"> </span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"> </span><span class="token comment">//用 isUp  区分正序还是降序</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token punctuation">}</span><span class="token plain"> </span><span class="token keyword control-flow">else</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">      isUp </span><span class="token operator">?</span><span class="token plain"> </span><span class="token punctuation">(</span><span class="token plain">right </span><span class="token operator">=</span><span class="token plain"> mid </span><span class="token operator">-</span><span class="token plain"> </span><span class="token number">1</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation">(</span><span class="token plain">left </span><span class="token operator">=</span><span class="token plain"> mid </span><span class="token operator">+</span><span class="token plain"> </span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    mid </span><span class="token operator">=</span><span class="token plain"> left </span><span class="token operator">+</span><span class="token plain"> </span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token plain">right </span><span class="token operator">-</span><span class="token plain"> left</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token operator">&gt;&gt;</span><span class="token plain"> </span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token keyword control-flow">return</span><span class="token plain"> </span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">}</span></div></pre></div><h2 id="快乐数"><a aria-hidden="true" tabindex="-1" href="/enhanfe//algorithms/day#快乐数"><span class="icon icon-link"></span></a><a target="_blank" rel="noopener noreferrer" href="https://leetcode-cn.com/problems/happy-number/">快乐数<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="__dumi-default-external-link-icon"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></h2><h3 id="描述-31"><a aria-hidden="true" tabindex="-1" href="/enhanfe//algorithms/day#描述-31"><span class="icon icon-link"></span></a>描述</h3><p>编写一个算法来判断一个数 <code>n</code> 是不是快乐数。</p><p>「快乐数」定义为：对于一个正整数，每一次将该数替换为它每个位置上的数字的平方和，然后重复这个过程直到这个数变为 1，也可能是 <strong>无限循环</strong> 但始终变不到 <strong>1</strong>。如果 可以变为 <strong>1</strong>，那么这个数就是快乐数。</p><p>如果 <code>n</code> 是快乐数就返回 <code>True</code> ；不是，则返回 <code>False</code> 。</p><h3 id="分析-28"><a aria-hidden="true" tabindex="-1" href="/enhanfe//algorithms/day#分析-28"><span class="icon icon-link"></span></a>分析</h3><p>在一些场景, 如链表数据结构和判断循环, 利用快慢指针创造的差值, 可节省内存空间, 减少计算次数</p><h3 id="代码-29"><a aria-hidden="true" tabindex="-1" href="/enhanfe//algorithms/day#代码-29"><span class="icon icon-link"></span></a>代码</h3><div class="__dumi-default-code-block"><pre class="prism-code language-js"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line"><span class="token keyword">var</span><span class="token plain"> </span><span class="token function-variable function">isHappy</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">n</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token keyword">let</span><span class="token plain"> slowPointer </span><span class="token operator">=</span><span class="token plain"> n</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token keyword">let</span><span class="token plain"> fastPointer </span><span class="token operator">=</span><span class="token plain"> n</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token keyword">function</span><span class="token plain"> </span><span class="token function">getBitSquareSum</span><span class="token punctuation">(</span><span class="token parameter">n</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token keyword">let</span><span class="token plain"> sum </span><span class="token operator">=</span><span class="token plain"> </span><span class="token number">0</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token keyword control-flow">while</span><span class="token plain"> </span><span class="token punctuation">(</span><span class="token plain">n </span><span class="token operator">!==</span><span class="token plain"> </span><span class="token number">0</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">      </span><span class="token keyword">const</span><span class="token plain"> bit </span><span class="token operator">=</span><span class="token plain"> n </span><span class="token operator">%</span><span class="token plain"> </span><span class="token number">10</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">      sum </span><span class="token operator">+=</span><span class="token plain"> bit </span><span class="token operator">*</span><span class="token plain"> bit</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">      n </span><span class="token operator">=</span><span class="token plain"> </span><span class="token function">parseInt</span><span class="token punctuation">(</span><span class="token plain">n </span><span class="token operator">/</span><span class="token plain"> </span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token keyword control-flow">return</span><span class="token plain"> sum</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token keyword control-flow">do</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    slowPointer </span><span class="token operator">=</span><span class="token plain"> </span><span class="token function">getBitSquareSum</span><span class="token punctuation">(</span><span class="token plain">slowPointer</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    fastPointer </span><span class="token operator">=</span><span class="token plain"> </span><span class="token function">getBitSquareSum</span><span class="token punctuation">(</span><span class="token function">getBitSquareSum</span><span class="token punctuation">(</span><span class="token plain">fastPointer</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token punctuation">}</span><span class="token plain"> </span><span class="token keyword control-flow">while</span><span class="token plain"> </span><span class="token punctuation">(</span><span class="token plain">slowPointer </span><span class="token operator">!==</span><span class="token plain"> fastPointer</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token keyword control-flow">return</span><span class="token plain"> slowPointer </span><span class="token operator">===</span><span class="token plain"> </span><span class="token number">1</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">}</span><span class="token punctuation">;</span></div></pre></div><style>
mjx-container[jax="SVG"] {
  direction: ltr;
}

mjx-container[jax="SVG"] > svg {
  overflow: visible;
  min-height: 1px;
  min-width: 1px;
}

mjx-container[jax="SVG"] > svg a {
  fill: blue;
  stroke: blue;
}

mjx-container[jax="SVG"][display="true"] {
  display: block;
  text-align: center;
  margin: 1em 0;
}

mjx-container[jax="SVG"][display="true"][width="full"] {
  display: flex;
}

mjx-container[jax="SVG"][justify="left"] {
  text-align: left;
}

mjx-container[jax="SVG"][justify="right"] {
  text-align: right;
}

g[data-mml-node="merror"] > g {
  fill: red;
  stroke: red;
}

g[data-mml-node="merror"] > rect[data-background] {
  fill: yellow;
  stroke: none;
}

g[data-mml-node="mtable"] > line[data-line], svg[data-table] > g > line[data-line] {
  stroke-width: 70px;
  fill: none;
}

g[data-mml-node="mtable"] > rect[data-frame], svg[data-table] > g > rect[data-frame] {
  stroke-width: 70px;
  fill: none;
}

g[data-mml-node="mtable"] > .mjx-dashed, svg[data-table] > g > .mjx-dashed {
  stroke-dasharray: 140;
}

g[data-mml-node="mtable"] > .mjx-dotted, svg[data-table] > g > .mjx-dotted {
  stroke-linecap: round;
  stroke-dasharray: 0,140;
}

g[data-mml-node="mtable"] > g > svg {
  overflow: visible;
}

[jax="SVG"] mjx-tool {
  display: inline-block;
  position: relative;
  width: 0;
  height: 0;
}

[jax="SVG"] mjx-tool > mjx-tip {
  position: absolute;
  top: 0;
  left: 0;
}

mjx-tool > mjx-tip {
  display: inline-block;
  padding: .2em;
  border: 1px solid #888;
  font-size: 70%;
  background-color: #F8F8F8;
  color: black;
  box-shadow: 2px 2px 5px #AAAAAA;
}

g[data-mml-node="maction"][data-toggle] {
  cursor: pointer;
}

mjx-status {
  display: block;
  position: fixed;
  left: 1em;
  bottom: 1em;
  min-width: 25%;
  padding: .2em .4em;
  border: 1px solid #888;
  font-size: 90%;
  background-color: #F8F8F8;
  color: black;
}

foreignObject[data-mjx-xml] {
  font-family: initial;
  line-height: normal;
  overflow: visible;
}

mjx-container[jax="SVG"] path[data-c], mjx-container[jax="SVG"] use[data-c] {
  stroke-width: 3;
}
</style></div><div class="__dumi-default-layout-footer-meta"><span data-updated-text="最后更新时间：">8/4/2021 08:35:11</span></div></div></div></div>
	<script>
  window.g_useSSR = true;
  window.g_initialProps = {};
	</script>

    <script src="/enhanfe/umi.js"></script>
  </body>
</html>
